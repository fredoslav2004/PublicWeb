import{j as e}from"./jsx-runtime.DDQe9TsW.js";import{r as c}from"./index.eCxJ45ll.js";import{C as x}from"./check.DcGQ-sGN.js";import{X as m,R as v}from"./x.CS1AHcwf.js";import{m as w}from"./motion.BBJiracy.js";import"./createLucideIcon.BTtk5iyR.js";function W({question:b,options:h,answers:g,answerIndex:u,correctIndex:k,explanation:i}){const[t,l]=c.useState(null),[d,o]=c.useState(!1),f=h||g||[],p=u??k,s=f.map((r,n)=>typeof r=="string"?{id:n.toString(),text:r,isCorrect:n===p}:r),j=r=>{d||l(r)},a=t&&s.find(r=>r.id===t)?.isCorrect;return e.jsxs("div",{className:"quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"}),e.jsx("div",{className:"flex items-center gap-3 mb-10",children:e.jsx("div",{className:"px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm",children:"Conceptual Check"})}),e.jsx("h3",{className:"text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]",children:b}),e.jsx("div",{className:"flex flex-col gap-5",children:s.map(r=>e.jsxs("button",{onClick:()=>j(r.id),disabled:d,className:`
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              ${t===r.id?"border-primary bg-primary/5 shadow-inner":"border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg"}
              ${d&&r.isCorrect?"!border-emerald-500 !bg-emerald-500/5":""}
              ${d&&t===r.id&&!r.isCorrect?"!border-rose-500 !bg-rose-500/5":""}
            `,children:[e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${t===r.id?"border-primary bg-primary shadow-lg shadow-primary/20":"border-light-border dark:border-dark-border bg-transparent"}`,children:t===r.id&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),e.jsx("span",{className:`text-lg font-bold transition-colors ${t===r.id?"text-light-text dark:text-dark-text":"text-light-muted dark:text-dark-muted"}`,children:r.text}),d&&r.isCorrect&&e.jsx("div",{className:"ml-auto text-emerald-500 bg-emerald-500/10 p-2 rounded-xl",children:e.jsx(x,{size:20,strokeWidth:3})}),d&&t===r.id&&!r.isCorrect&&e.jsx("div",{className:"ml-auto text-rose-500 bg-rose-500/10 p-2 rounded-xl",children:e.jsx(m,{size:20,strokeWidth:3})})]},r.id))}),e.jsx("div",{className:"mt-16 flex flex-col gap-6",children:d?e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col gap-8",children:[e.jsxs("div",{className:`p-10 rounded-[2.5rem] border-2 transition-all shadow-xl ${a?"bg-emerald-500/5 border-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-rose-500/5 border-rose-500/20 text-rose-600 dark:text-rose-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-2xl ${a?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:a?e.jsx(x,{size:24,strokeWidth:3}):e.jsx(m,{size:24,strokeWidth:3})}),e.jsx("span",{className:"font-black text-3xl uppercase tracking-tighter",children:a?"Insight Confirmed":"Conceptual Divergence"})]}),!a&&e.jsx("div",{className:"mt-4 p-4 rounded-xl bg-rose-500/10 border border-rose-500/20",children:e.jsxs("p",{className:"font-bold text-lg italic tracking-tight",children:["Correct Path: ",s.find(r=>r.isCorrect)?.text]})}),a&&e.jsx("p",{className:"font-bold text-lg opacity-80 italic tracking-tight underline decoration-emerald-500/30 underline-offset-8",children:"Precision achieved. Your understanding aligns with the methodology."}),i&&e.jsx("div",{className:"mt-8 border-t border-current/10 pt-8 opacity-90 leading-relaxed font-medium",children:e.jsx("p",{className:"text-base",children:i})})]}),e.jsxs("button",{onClick:()=>{o(!1),l(null)},className:"w-fit flex items-center gap-3 text-xs font-black text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text transition-all uppercase tracking-[0.2em] px-8 py-4 rounded-2xl border border-light-border dark:border-dark-border hover:bg-light-surface dark:hover:bg-dark-bg",children:[e.jsx(v,{size:14,strokeWidth:3})," Reset Question"]})]}):e.jsx("button",{onClick:()=>o(!0),disabled:!t,className:`
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                ${t?"bg-black dark:bg-white text-white dark:text-black hover:scale-[1.03] active:scale-95 shadow-xl shadow-black/10 dark:shadow-white/10":"bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed"}
            `,children:"Verify Prediction"})})]})}export{W as default};
