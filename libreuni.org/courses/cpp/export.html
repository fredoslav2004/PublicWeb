<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Modern C++ Programming - Full Course Export</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><link rel="stylesheet" href="../../assets/_courseId_.CMDcaJxr.css">
<link rel="stylesheet" href="../../assets/katex_min.CThiMMFw.css">
<link rel="stylesheet" href="../../assets/export.DHndDuE-.css"><script type="module">const t=document.getElementById("print-btn");t&&t.addEventListener("click",()=>{const e=document.createElement("div");e.innerHTML='<div class="fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-sm no-print"><div class="bg-white p-8 rounded-2xl shadow-2xl max-w-md text-center"><h3 class="text-xl font-bold mb-4">Print optimization</h3><p class="mb-6 text-slate-600">For a clean PDF, please ensure <b>"Headers and Footers"</b> is UNCHECKED in your browser print settings.</p><button id="close-note" class="bg-primary text-white font-bold px-6 py-2 rounded-lg">OK, SAVE AS PDF</button></div></div>',document.body.appendChild(e),document.getElementById("close-note")?.addEventListener("click",()=>{e.remove(),window.focus(),window.print()})});
</script></head> <body> <!-- Floating UI Controls --> <div id="controls" class="fixed top-6 right-6 z-[100] flex gap-4 no-print"> <div class="bg-white/90 backdrop-blur-xl p-2 rounded-2xl shadow-2xl border border-slate-200 flex gap-2"> <a href="../../courses/cpp.html" class="px-5 py-3 text-sm font-black text-slate-600 hover:text-slate-900 transition-all flex items-center gap-2 hover:bg-slate-50 rounded-xl"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"></path></svg>
BACK
</a> <button id="print-btn" class="bg-primary hover:bg-primary-dark text-white font-black px-10 py-3 rounded-xl shadow-lg shadow-primary/20 hover:scale-105 active:scale-95 transition-all text-sm uppercase tracking-widest flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-4"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
SAVE AS PDF
</button> </div> </div> <!-- The Export Content --> <div class="max-w-[210mm] mx-auto my-12 shadow-2xl transition-all" id="export-root"> <div id="pdf-content" class="bg-white p-[25mm]"> <!-- Cover Page --> <div class="h-[247mm] flex flex-col justify-center items-center text-center page-break-after"> <div class="w-32 h-32 bg-primary/5 text-primary rounded-[3rem] flex items-center justify-center mb-16 shadow-inner"> <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open "><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg> </div> <h1 class="text-7xl font-black uppercase tracking-tighter mb-8 text-slate-900 leading-[0.9]">Modern C++ Programming</h1> <p class="text-2xl text-slate-400 max-w-2xl mx-auto mb-20 font-medium leading-relaxed tracking-tight italic">Master systems programming with modern C++: from fundamentals to C++23, including templates, concurrency, and advanced metaprogramming.</p> <div class="h-3 w-40 bg-primary rounded-full mb-20 shadow-lg shadow-primary/20"></div> <div class="mt-auto pt-20"> <div class="inline-block px-6 py-2 bg-slate-100 rounded-full font-black text-slate-400 uppercase tracking-[0.3em] text-[10px] mb-4">Official Documentation</div> <p class="text-slate-900 font-extrabold text-lg">February 2026</p> </div> </div> <!-- Table of Contents --> <div class="min-h-[247mm] page-break-after py-12"> <h2 class="text-5xl font-black uppercase mb-16 tracking-tighter text-slate-900 border-b-8 border-slate-900 pb-6">Contents</h2> <div class="space-y-12"> <div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Foundations</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">The C++ Philosophy and Evolution</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Type System and Declarations</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Functions and Overloading</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">References and Value Categories</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Object-Oriented Programming</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Classes and Encapsulation</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Operator Overloading</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Inheritance and Polymorphism</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Generic Programming</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Templates and Generic Programming</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Modern C++ Features</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Smart Pointers and Memory Management</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Move Semantics and Perfect Forwarding</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Lambda Expressions</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Standard Template Library</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">STL Containers: Sequence Containers</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">STL Containers: Associative Containers</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">STL Algorithms</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Iterators and Iterator Categories</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Advanced Features</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Exception Handling</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Namespaces and Name Lookup</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Metaprogramming</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Type Traits and Compile-Time Programming</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Concurrency</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Multithreading Basics</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Atomic Operations and Memory Ordering</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Condition Variables and Futures</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Modern C++ Features</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">std::optional and std::variant</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">String View and Span</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Structured Bindings and Init Statements</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Standard Library</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Filesystem Library</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Modern C++20/23</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Concepts and Constraints (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Ranges Library (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Coroutines Basics (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Modules (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Three-Way Comparison (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Designated Initializers (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">constexpr and consteval (C++20/23)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">std::format (C++20)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">std::expected (C++23)</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div><div> <h3 class="font-black text-[#58cc02] uppercase tracking-[0.25em] text-xs mb-6 bg-green-50 inline-block px-4 py-1 rounded-md">Tools and Practices</h3> <ul class="space-y-6"> <li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">CMake and Build Systems</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Testing with GoogleTest</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Performance Optimization</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Memory Management Deep Dive</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">Best Practices and Idioms</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li><li class="flex items-baseline gap-4 group"> <span class="font-bold text-slate-800 text-xl tracking-tight">The C++ Journey: Past, Present, Future</span> <div class="flex-1 border-b-2 border-dotted border-slate-100"></div> </li> </ul> </div> </div> </div> <!-- Content --> <div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Foundations</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">The C++ Philosophy and Evolution</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="zero-overhead-abstraction">Zero-Overhead Abstraction</h1>
<p>C++ is built on a fundamental principle: “What you don’t use, you don’t pay for. And what you do use, you couldn’t hand code any better.” This <strong>zero-overhead abstraction</strong> principle distinguishes C++ from its contemporaries. Unlike Java or C#, which enforce garbage collection overhead, C++ provides high-level abstractions that compile down to machine code equivalent to hand-optimized C.</p>
<p>The language offers three programming paradigms that coexist seamlessly:</p>
<ol>
<li><strong>Procedural</strong>: Direct manipulation of data structures and algorithms</li>
<li><strong>Object-Oriented</strong>: Classes, inheritance, polymorphism, encapsulation</li>
<li><strong>Generic</strong>: Templates and compile-time metaprogramming</li>
</ol>
<h2 id="the-evolution-of-c">The Evolution of C++</h2>
<p>C++ has evolved dramatically since Bjarne Stroustrup’s original design in 1979. Understanding this evolution is crucial for reading existing codebases and writing idiomatic modern code.</p>








































<table><thead><tr><th style="text-align:left">Standard</th><th style="text-align:left">Year</th><th style="text-align:left">Key Features</th></tr></thead><tbody><tr><td style="text-align:left"><strong>C++98/03</strong></td><td style="text-align:left">1998/2003</td><td style="text-align:left">STL, templates, exceptions, namespaces</td></tr><tr><td style="text-align:left"><strong>C++11</strong></td><td style="text-align:left">2011</td><td style="text-align:left">Auto, lambdas, smart pointers, move semantics, concurrency</td></tr><tr><td style="text-align:left"><strong>C++14</strong></td><td style="text-align:left">2014</td><td style="text-align:left">Generic lambdas, return type deduction, binary literals</td></tr><tr><td style="text-align:left"><strong>C++17</strong></td><td style="text-align:left">2017</td><td style="text-align:left">Structured bindings, <code>std::optional</code>, filesystem, parallel algorithms</td></tr><tr><td style="text-align:left"><strong>C++20</strong></td><td style="text-align:left">2020</td><td style="text-align:left">Concepts, ranges, coroutines, modules, three-way comparison</td></tr><tr><td style="text-align:left"><strong>C++23</strong></td><td style="text-align:left">2023</td><td style="text-align:left"><code>std::expected</code>, monadic operations, multidimensional subscript</td></tr></tbody></table>
<h2 id="the-compilation-model">The Compilation Model</h2>
<p>Unlike interpreted languages, C++ undergoes a multi-stage compilation process that enables aggressive optimization.</p>
<div class="my-12 flex flex-col items-center bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[2.5rem] overflow-hidden shadow-xl p-8 transition-colors"> <div class="text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em] mb-6 w-full text-center opacity-60">System Diagram</div> <div class="w-full flex justify-center overflow-x-auto dark:invert dark:hue-rotate-180 dark:brightness-110"> <?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="874px" preserveAspectRatio="none" style="width:435px;height:874px;" version="1.1" viewBox="0 0 435 874" width="435px" zoomAndPan="magnify"><defs/><g><!--cluster Source--><g class="cluster" data-qualified-name="Source" data-source-line="6" id="ent0002"><path d="M121.17,6 L176.5362,6 A3.75,3.75 0 0 1 179.0362,8.5 L186.0362,28.2969 L368.17,28.2969 A2.5,2.5 0 0 1 370.67,30.7969 L370.67,90.79 A2.5,2.5 0 0 1 368.17,93.29 L121.17,93.29 A2.5,2.5 0 0 1 118.67,90.79 L118.67,8.5 A2.5,2.5 0 0 1 121.17,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="118.67" x2="186.0362" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54.3662" x="122.67" y="20.9951">Source</text></g><!--cluster Pipeline--><g class="cluster" data-qualified-name="Pipeline" data-source-line="11" id="ent0005"><polygon fill="none" points="160.67,136.29,170.67,126.29,416.67,126.29,416.67,775.07,406.67,785.07,160.67,785.07,160.67,136.29" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="406.67" x2="416.67" y1="136.29" y2="126.29"/><line style="stroke:#181818;stroke-width:1;" x1="160.67" x2="406.67" y1="136.29" y2="136.29"/><line style="stroke:#181818;stroke-width:1;" x1="406.67" x2="406.67" y1="136.29" y2="785.07"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63.6357" x="252.8521" y="152.2851">Pipeline</text></g><!--entity MAIN--><g class="entity" data-qualified-name="Source.MAIN" data-source-line="7" id="ent0003"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.9004" x="134.22" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.9004" x="144.22" y="63.9951">main.cpp</text></g><!--entity HDR--><g class="entity" data-qualified-name="Source.HDR" data-source-line="8" id="ent0004"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.418" x="254.46" y="41"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.418" x="264.46" y="63.9951">header.hpp</text></g><!--entity CPP--><g class="entity" data-qualified-name="Pipeline.CPP" data-source-line="12" id="ent0006"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.2393" x="196.05" y="166.29"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.2393" x="206.05" y="189.2851">Preprocessor</text></g><!--entity FRONT--><g class="entity" data-qualified-name="Pipeline.FRONT" data-source-line="13" id="ent0007"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.5732" x="176.38" y="279.59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.5732" x="186.38" y="302.5851">Compiler Frontend</text></g><!--entity OPT--><g class="entity" data-qualified-name="Pipeline.OPT" data-source-line="14" id="ent0008"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88.5303" x="191.4" y="392.89"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.5303" x="201.4" y="415.8851">Optimizer</text></g><!--entity CODEGEN--><g class="entity" data-qualified-name="Pipeline.CODEGEN" data-source-line="15" id="ent0009"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.3848" x="176.98" y="506.18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.3848" x="186.98" y="529.1751">Code Generator</text></g><!--entity ASM--><g class="entity" data-qualified-name="Pipeline.ASM" data-source-line="16" id="ent0010"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.5615" x="186.89" y="619.48"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.5615" x="196.89" y="642.4751">Assembler</text></g><!--entity LD--><g class="entity" data-qualified-name="Pipeline.LD" data-source-line="17" id="ent0011"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0391" x="184.15" y="732.78"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.0391" x="194.15" y="755.7751">Linker</text></g><!--entity Standard Library--><g class="entity" data-qualified-name="Standard Library" data-source-line="27" id="ent0019"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.3389" x="7" y="619.48"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.3389" x="17" y="642.4751">Standard Library</text></g><!--entity Executable--><g class="entity" data-qualified-name="Executable" data-source-line="28" id="ent0021"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.7725" x="166.78" y="832.07"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7725" x="176.78" y="855.0651">Executable</text></g><!--link MAIN to CPP--><g class="link" data-entity-1="ent0003" data-entity-2="ent0006" data-link-type="dependency" data-source-line="20" id="lnk12"><path d="M187.26,77.55 C201.55,101.05 223.7519,137.5438 238.0219,161.0038" fill="none" id="MAIN-to-CPP" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="241.14,166.13,239.8803,156.362,238.5416,161.8582,233.0454,160.5195,241.14,166.13" style="stroke:#181818;stroke-width:1;"/></g><!--link HDR to CPP--><g class="link" data-entity-1="ent0004" data-entity-2="ent0006" data-link-type="dependency" data-source-line="21" id="lnk13"><path d="M297.19,77.55 C287.09,101.05 271.5586,137.1573 261.4786,160.6173" fill="none" id="HDR-to-CPP" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="259.11,166.13,266.338,159.4401,261.0838,161.5361,258.9878,156.2819,259.11,166.13" style="stroke:#181818;stroke-width:1;"/></g><!--link CPP to FRONT--><g class="link" data-entity-1="ent0006" data-entity-2="ent0007" data-link-type="dependency" data-source-line="22" id="lnk14"><path d="M251.67,202.83 C251.67,223.62 251.67,252.21 251.67,273.1" fill="none" id="CPP-to-FRONT" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="251.67,279.1,255.67,270.1,251.67,274.1,247.67,270.1,251.67,279.1" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.3398" x="252.67" y="245.6569">Translation Unit</text></g><!--link FRONT to OPT--><g class="link" data-entity-1="ent0007" data-entity-2="ent0008" data-link-type="dependency" data-source-line="23" id="lnk15"><path d="M249.17,316.13 C246.18,336.91 242.0653,365.5613 239.0553,386.4613" fill="none" id="FRONT-to-OPT" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="238.2,392.4,243.4421,384.0621,238.9127,387.4511,235.5238,382.9217,238.2,392.4" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.0586" x="244.67" y="358.9569">Abstract Syntax Tree</text></g><!--link OPT to CODEGEN--><g class="link" data-entity-1="ent0008" data-entity-2="ent0009" data-link-type="dependency" data-source-line="24" id="lnk16"><path d="M236.76,429.42 C238.07,450.21 239.8747,478.8118 241.1847,499.7118" fill="none" id="OPT-to-CODEGEN" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="241.56,505.7,244.9892,496.4674,241.2472,500.7098,237.0048,496.9679,241.56,505.7" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.8335" x="239.67" y="472.2469">Intermediate Representation</text></g><!--link CODEGEN to ASM--><g class="link" data-entity-1="ent0009" data-entity-2="ent0010" data-link-type="dependency" data-source-line="25" id="lnk17"><path d="M241.26,542.72 C239.58,563.51 237.2738,592.1195 235.5838,613.0095" fill="none" id="CODEGEN-to-ASM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="235.1,618.99,239.8127,610.3419,235.5032,614.0063,231.8388,609.6968,235.1,618.99" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.6577" x="239.67" y="585.5469">Assembly</text></g><!--link ASM to LD--><g class="link" data-entity-1="ent0010" data-entity-2="ent0011" data-link-type="dependency" data-source-line="26" id="lnk18"><path d="M230.86,656.02 C227.5,676.8 222.8579,705.467 219.4779,726.367" fill="none" id="ASM-to-LD" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="218.52,732.29,223.9055,724.044,219.3182,727.3541,216.0081,722.7668,218.52,732.29" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5322" x="226.67" y="698.8469">Object File (.o)</text></g><!--link Standard Library to LD--><g class="link" data-entity-1="ent0019" data-entity-2="ent0011" data-link-type="dependency" data-source-line="27" id="lnk20"><path d="M97.85,656.26 C124.07,677.1 162.7229,707.8367 188.8929,728.6367" fill="none" id="Standard Library-to-LD" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="193.59,732.37,189.0332,723.6387,189.6758,729.2589,184.0555,729.9015,193.59,732.37" style="stroke:#181818;stroke-width:1;"/></g><!--link LD to Executable--><g class="link" data-entity-1="ent0011" data-entity-2="ent0021" data-link-type="dependency" data-source-line="28" id="lnk22"><path d="M215.67,769.32 C215.67,786.92 215.67,807.99 215.67,825.65" fill="none" id="LD-to-Executable" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="215.67,831.65,219.67,822.65,215.67,826.65,211.67,822.65,215.67,831.65" style="stroke:#181818;stroke-width:1;"/></g><?plantuml-src NP5DJiD038NtSmfhLh2W1s21LFK7a4eJDMM5M3Y9QOScdiWp5Is8k-D9IsbPHBBcVNvvjiF6SOU2BPHORLRYjroFVEC5eY07bOYZWN32mXfh_-5u1M_O13BcJwfystbMleZxXa2eYiYhHfbElN55O0k_bOeiV9aJ3BP5nuEgwonWWAVXu_nSN1FM98FrKNuOByotCUnhTSjTHutZ_twvK2U-eX2yz4sZF3_NHrgwXWIcuZaIrpqqNMJpvJcMTT6rxfCE7bc-lFJG0FV491X__vAD9_UJY_334AWjcwF5i7Ww5sUEDqTbDav3fT7XvkQkpwk3dchz-hgF2BTWb-as3KRd6PxPHMiEKe8qQ4A6PT0BLX6AFKVSmLA8h4bYxth8ci17NO6qL3kC10lT70MDrtjRyykb7etV6nzcsbkJ7f8m6wVth7pNWyDKDmjN0tzjpKkXzwzHQfYvKb3shqVSQ4UgNYOxghOHTKElFm00?></g></svg> </div> </div>
<h3 id="name-mangling-and-the-one-definition-rule">Name Mangling and the One Definition Rule</h3>
<p>C++ supports function overloading, templates, and namespaces, which requires <strong>name mangling</strong>: the compiler transforms human-readable names into unique symbols. For example, <code>void foo(int)</code> might become <code>_Z3fooi</code> in the object file.</p>
<p>The <strong>One Definition Rule (ODR)</strong> states that every entity can have only one definition across all translation units. Violating ODR results in undefined behavior, though linkers often fail to detect violations.</p>
<h2 id="type-system-and-static-polymorphism">Type System and Static Polymorphism</h2>
<p>C++ is statically typed with strong type checking at compile time. However, it also provides mechanisms for compile-time polymorphism through templates, eliminating runtime dispatch overhead.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Runtime polymorphism (virtual dispatch)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Animal</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Dog</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Animal</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Compile-time polymorphism (template instantiation)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#24292E;--shiki-dark:#E5C07B">obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"></span></code></pre>
<p>The template version generates specialized code for each type, enabling inlining and optimization impossible with virtual functions.</p>
<h2 id="memory-model">Memory Model</h2>
<p>C++ provides direct control over memory layout and lifetime. Unlike garbage-collected languages, C++ uses deterministic destruction through <strong>RAII (Resource Acquisition Is Initialization)</strong>: resources are tied to object lifetimes.</p>






























<table><thead><tr><th style="text-align:left">Storage Duration</th><th style="text-align:left">Lifetime</th><th style="text-align:left">Example</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Automatic</strong></td><td style="text-align:left">Scope-based</td><td style="text-align:left">Local variables</td></tr><tr><td style="text-align:left"><strong>Static</strong></td><td style="text-align:left">Program duration</td><td style="text-align:left">Global variables, <code>static</code> locals</td></tr><tr><td style="text-align:left"><strong>Dynamic</strong></td><td style="text-align:left">Manual (<code>new</code>/<code>delete</code>)</td><td style="text-align:left">Heap allocations</td></tr><tr><td style="text-align:left"><strong>Thread</strong></td><td style="text-align:left">Thread duration</td><td style="text-align:left"><code>thread_local</code> variables</td></tr></tbody></table>
<p>Modern C++ heavily favors automatic storage with smart pointers (<code>unique_ptr</code>, <code>shared_ptr</code>) managing dynamic memory automatically.</p>
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z2iSrLI" prefix="r1" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;The Standard Entry Point&quot;],&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\nint [!blank!]() {\n    std::cout &lt;&lt; \&quot;Modern C++ initialized\\n\&quot;;\n    return 0;\n}&quot;],&quot;answers&quot;:[1,[[0,&quot;main&quot;]]],&quot;explanation&quot;:[0,&quot;The entry point for a C++ program is &#39;main&#39;, which can return int (zero indicates success) or void in hosted environments.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">The Standard Entry Point</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span>

<span class="hl-type">int</span> </span><input type="text" placeholder="?" size="4" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Modern C++ initialized\n&quot;</span>;
    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;
<span class="hl-bracket">}</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<h2 id="undefined-behavior-and-the-abstract-machine">Undefined Behavior and the Abstract Machine</h2>
<p>Like C, C++ defines behavior in terms of an <strong>abstract machine</strong>. Operations outside the specification result in <strong>undefined behavior (UB)</strong>, where the compiler may assume such cases never occur and optimize accordingly.</p>
<p>Common sources of UB:</p>
<ul>
<li>Dereferencing null or dangling pointers</li>
<li>Data races (concurrent modification without synchronization)</li>
<li>Signed integer overflow</li>
<li>Accessing objects after their lifetime ends</li>
</ul>
<p>Modern compilers include sanitizers (AddressSanitizer, UndefinedBehaviorSanitizer) to detect UB at runtime during development.</p>
<astro-island uid="dlnz" prefix="r2" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\nint main() {\n    // Modern C++ with type inference and range-based iteration\n    auto message = \&quot;C++ Abstract Machine Ready\&quot;;\n    std::cout &lt;&lt; message &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;C++ Abstract Machine Ready&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

int main() {
    // Modern C++ with type inference and range-based iteration
    auto message = &quot;C++ Abstract Machine Ready&quot;;
    std::cout &lt;&lt; message &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">    <span class="hl-comment">// Modern C++ with type inference and range-based iteration</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">auto</span> message <span class="hl-operator">=</span> <span class="hl-string">&quot;C++ Abstract Machine Ready&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> message <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Type System and Declarations</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="fundamental-types-and-type-categories">Fundamental Types and Type Categories</h1>
<p>C++ provides a rich type system that balances low-level control with high-level abstractions. Every type belongs to one of several categories, each with distinct properties regarding copying, lifetime, and memory representation.</p>
<h2 id="built-in-fundamental-types">Built-in Fundamental Types</h2>



































<table><thead><tr><th style="text-align:left">Category</th><th style="text-align:left">Types</th><th style="text-align:left">Guaranteed Properties</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Boolean</strong></td><td style="text-align:left"><code>bool</code></td><td style="text-align:left"><code>true</code> or <code>false</code>, implementation-defined size</td></tr><tr><td style="text-align:left"><strong>Character</strong></td><td style="text-align:left"><code>char</code>, <code>wchar_t</code>, <code>char8_t</code>, <code>char16_t</code>, <code>char32_t</code></td><td style="text-align:left">Character encoding representation</td></tr><tr><td style="text-align:left"><strong>Integer</strong></td><td style="text-align:left"><code>short</code>, <code>int</code>, <code>long</code>, <code>long long</code></td><td style="text-align:left">Minimum sizes specified</td></tr><tr><td style="text-align:left"><strong>Floating-Point</strong></td><td style="text-align:left"><code>float</code>, <code>double</code>, <code>long double</code></td><td style="text-align:left">IEEE 754 typical but not mandated</td></tr><tr><td style="text-align:left"><strong>Void</strong></td><td style="text-align:left"><code>void</code></td><td style="text-align:left">Incomplete type, used for “no value”</td></tr></tbody></table>
<p>C++ guarantees size relationships: <code>sizeof(char) ≤ sizeof(short) ≤ sizeof(int) ≤ sizeof(long) ≤ sizeof(long long)</code>. However, exact sizes are implementation-defined. Use <code>&lt;cstdint&gt;</code> for fixed-width types: <code>int32_t</code>, <code>uint64_t</code>, etc.</p>
<h2 id="type-deduction-with-auto">Type Deduction with auto</h2>
<p>C++11 introduced <code>auto</code> for automatic type deduction, reducing verbosity while maintaining static typing. The compiler deduces types from initializers at compile time—there’s no runtime overhead.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // double</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // const char*</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // int*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Complex types become manageable</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // std::vector&lt;T&gt;::iterator</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Closure type</span></span>
<span class="line"></span></code></pre>
<h3 id="type-deduction-rules">Type Deduction Rules</h3>
<p>The deduction follows template argument deduction rules with some exceptions:</p>
<ul>
<li><strong>Reference collapse</strong>: <code>auto&amp;</code> preserves lvalue references</li>
<li><strong>const stripping</strong>: <code>auto</code> removes top-level const (use <code>const auto</code>)</li>
<li><strong>Array decay</strong>: Arrays decay to pointers unless <code>auto&amp;</code></li>
</ul>
<astro-island uid="ZIw1XQ" prefix="r3" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;Auto Type Deduction&quot;],&quot;code&quot;:[0,&quot;int arr[5] = {1,2,3,4,5};\n[!blank!] p = arr;  // Deduces to int*\nauto&amp; r = arr;  // Deduces to int(&amp;)[5]&quot;],&quot;answers&quot;:[1,[[0,&quot;auto&quot;]]],&quot;explanation&quot;:[0,&quot;Without the reference, auto deduces the decayed pointer type. With &amp;, it preserves the array type.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Auto Type Deduction</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">int</span> arr<span class="hl-bracket">[</span><span class="hl-number">5</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>,<span class="hl-number">2</span>,<span class="hl-number">3</span>,<span class="hl-number">4</span>,<span class="hl-number">5</span><span class="hl-bracket">}</span>;
</span><input type="text" placeholder="?" size="4" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span> p <span class="hl-operator">=</span> arr;  <span class="hl-comment">// Deduces to int*</span>
<span class="hl-type">auto</span><span class="hl-operator">&amp;</span> r <span class="hl-operator">=</span> arr;  <span class="hl-comment">// Deduces to int(&amp;)[5]</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<h2 id="decltype-inspecting-expression-types">decltype: Inspecting Expression Types</h2>
<p>While <code>auto</code> deduces from initializers, <code>decltype</code> queries the type of any expression without evaluating it.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x) y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // y is int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int&amp;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getRef</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">getRef</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // z is int&amp;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Combining auto and decltype (C++14 return type deduction)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> -&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Return type is int</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>C++14 added <code>decltype(auto)</code> for perfect forwarding of return types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Container</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">getElement</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Container</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Preserves reference if container returns reference</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="const-correctness">Const Correctness</h2>
<p>The <code>const</code> qualifier is fundamental to C++‘s type system, enabling the compiler to enforce immutability guarantees and enable optimizations.</p>
<h3 id="const-variables">Const Variables</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> max_retries </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Cannot be modified</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// max_retries = 5;  // Compile error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> alt_syntax </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Equivalent to const int</span></span>
<span class="line"></span></code></pre>
<h3 id="const-pointers-vs-pointer-to-const">Const Pointers vs Pointer-to-Const</h3>
<p>The placement of <code>const</code> determines what is immutable:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pointer to const int (can&#39;t modify *ptr1)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Const pointer to int (can&#39;t modify ptr2)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Both const</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error: can&#39;t modify through ptr1</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: pointer itself is mutable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: can modify through ptr2</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error: pointer itself is const</span></span>
<span class="line"></span></code></pre>
<p><strong>Mnemonic</strong>: Read right-to-left. <code>const int*</code> is “pointer to const int.”</p>
<h3 id="const-member-functions">Const Member Functions</h3>
<p>Member functions can be marked <code>const</code>, promising not to modify object state:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_; }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Doesn&#39;t modify object</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> setX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Modifies object</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Point p{</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">getX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// p.setX(5);  // Error: can&#39;t call non-const method on const object</span></span>
<span class="line"></span></code></pre>
<h2 id="type-aliases-and-type-identity">Type Aliases and Type Identity</h2>
<p>C++11 introduced <code>using</code> for type aliases, superseding <code>typedef</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Old style (C++98)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">typedef</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> IntVector;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">typedef</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (*</span><span style="color:#24292E;--shiki-dark:#E06C75">FunctionPtr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Modern style (C++11+)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> IntVector</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FunctionPtr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Template aliases (only possible with using)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Vec</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Vec</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Equivalent to std::vector&lt;int&gt;</span></span>
<span class="line"></span></code></pre>
<h2 id="signed-vs-unsigned-a-design-choice">Signed vs Unsigned: A Design Choice</h2>
<p>Integer types can be signed or unsigned. Mixing them in expressions causes implicit conversions that can be surprising:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> signed_val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> -</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">unsigned</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> unsigned_val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (signed_val </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> unsigned_val) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // This branch is NOT taken!</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // -1 converts to a large unsigned value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Best Practice</strong>: Prefer signed types for arithmetic, use unsigned only for bit manipulation or when the domain is truly non-negative (e.g., array indices—though even this is debated).</p>
<astro-island uid="Z1rWsQk" prefix="r4" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the type of `x` in: `const auto&amp; x = 42;`?&quot;],&quot;answers&quot;:[1,[[0,&quot;const int&amp;&quot;],[0,&quot;int&amp;&quot;],[0,&quot;const int&amp;&amp;&quot;],[0,&quot;int&quot;]]],&quot;correctIndex&quot;:[0,0],&quot;explanation&quot;:[0,&quot;The literal 42 is an rvalue of type int. `auto` deduces int, then const and &amp; are applied, yielding const int&amp;. The temporary lifetime is extended.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the type of `x` in: `const auto&amp; x = 42;`?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">const int&amp;</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">int&amp;</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">const int&amp;&amp;</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">int</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="24WxAz" prefix="r5" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n    const auto size = 10;\n    std::vector&lt;int&gt; vec(size, 42);\n    \n    // auto deduces iterator type\n    auto it = vec.cbegin();\n    \n    // decltype preserves exact type\n    decltype(vec[0]) first = vec[0];  // int&amp;\n    \n    std::cout &lt;&lt; \&quot;Type deduction: \&quot; &lt;&lt; *it &lt;&lt; \&quot;, \&quot; &lt;&lt; first &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Type deduction: 42, 42&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;

int main() {
    const auto size = 10;
    std::vector&lt;int&gt; vec(size, 42);
    
    // auto deduces iterator type
    auto it = vec.cbegin();
    
    // decltype preserves exact type
    decltype(vec[0]) first = vec[0];  // int&amp;
    
    std::cout &lt;&lt; &quot;Type deduction: &quot; &lt;&lt; *it &lt;&lt; &quot;, &quot; &lt;&lt; first &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-keyword">const</span> <span class="hl-type">auto</span> size <span class="hl-operator">=</span> <span class="hl-number">10</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec<span class="hl-bracket">(</span>size, <span class="hl-number">42</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-comment">// auto deduces iterator type</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">auto</span> it <span class="hl-operator">=</span> vec.cbegin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-comment">// decltype preserves exact type</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    decltype<span class="hl-bracket">(</span>vec<span class="hl-bracket">[</span><span class="hl-number">0</span><span class="hl-bracket">]</span><span class="hl-bracket">)</span> first <span class="hl-operator">=</span> vec<span class="hl-bracket">[</span><span class="hl-number">0</span><span class="hl-bracket">]</span>;  <span class="hl-comment">// int&amp;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Type deduction: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>it <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, &quot;</span> <span class="hl-operator">&lt;&lt;</span> first <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Functions and Overloading</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="function-overloading-and-resolution">Function Overloading and Resolution</h1>
<p>Unlike C, C++ allows multiple functions with the same name but different parameter lists. The compiler selects the appropriate overload through <strong>overload resolution</strong> at compile time based on argument types.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;int: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;double: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;string: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Calls print(int)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Calls print(double)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Calls print(const char*)</span></span>
<span class="line"></span></code></pre>
<h2 id="overload-resolution-rules">Overload Resolution Rules</h2>
<p>The compiler follows a precise algorithm:</p>
<ol>
<li><strong>Exact match</strong>: Argument type matches parameter exactly</li>
<li><strong>Promotion</strong>: Integral promotions (<code>char</code> → <code>int</code>) or <code>float</code> → <code>double</code></li>
<li><strong>Standard conversion</strong>: Numeric conversions, pointer conversions</li>
<li><strong>User-defined conversion</strong>: Via conversion operators or constructors</li>
<li><strong>Ellipsis match</strong>: Variadic functions (least preferred)</li>
</ol>
<p>If multiple functions match at the same level, the call is <strong>ambiguous</strong> and compilation fails.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#D73A49;--shiki-dark:#E06C75">L</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error: ambiguous (long can convert to int or double)</span></span>
<span class="line"></span></code></pre>
<astro-island uid="13MMcn" prefix="r6" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;Overload Resolution&quot;],&quot;code&quot;:[0,&quot;void func(int) { }\nvoid func(double) { }\nvoid func(const char*) { }\n\nfunc([!blank!]);  // Calls func(int) - exact match&quot;],&quot;answers&quot;:[1,[[0,&quot;42&quot;],[0,&quot;0&quot;],[0,&quot;1&quot;]]],&quot;explanation&quot;:[0,&quot;Integer literals have type int, providing an exact match for func(int).&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Overload Resolution</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">void</span> func<span class="hl-bracket">(</span><span class="hl-type">int</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-bracket">}</span>
<span class="hl-type">void</span> func<span class="hl-bracket">(</span><span class="hl-type">double</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-bracket">}</span>
<span class="hl-type">void</span> func<span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">char</span><span class="hl-operator">*</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-bracket">}</span>

func<span class="hl-bracket">(</span></span><input type="text" placeholder="?" size="2" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">)</span>;  <span class="hl-comment">// Calls func(int) - exact match</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<h2 id="default-arguments">Default Arguments</h2>
<p>Functions can specify default values for trailing parameters. Defaults are evaluated at call site, not function definition.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> configure</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> timeout</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> verbose</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">configure</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // configure(30, false)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">configure</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">60</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // configure(60, false)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">configure</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">60</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // configure(60, true)</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// configure(, true);  // Error: can&#39;t skip non-trailing arguments</span></span>
<span class="line"></span></code></pre>
<p><strong>Best Practice</strong>: Declare defaults in header files (declarations), not source files (definitions). This ensures callers see the defaults.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// header.hpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> setup</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> port</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 8080</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// source.cpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> setup</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> port</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No default here</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // implementation</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="inline-functions-and-odr">Inline Functions and ODR</h2>
<p>The <code>inline</code> keyword suggests the compiler should substitute the function body at call sites, eliminating call overhead. Modern compilers ignore this hint and inline based on optimization heuristics.</p>
<p>However, <code>inline</code> has a critical semantic meaning: it relaxes the One Definition Rule, allowing identical definitions in multiple translation units.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// header.hpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">inline</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Can be included in multiple .cpp files without linker errors</span></span>
<span class="line"></span></code></pre>
<p><strong>Modern Usage</strong>: <code>inline</code> is essential for defining functions in headers, especially templates and <code>constexpr</code> functions (implicitly inline).</p>
<h2 id="function-templates">Function Templates</h2>
<p>Templates enable generic programming by allowing functions to operate on any type satisfying certain requirements.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (a </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) </span><span style="color:#D73A49;--shiki-dark:#C678DD">?</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">:</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // T = int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.71</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // T = double</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">long</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Explicit T = long</span></span>
<span class="line"></span></code></pre>
<h3 id="template-argument-deduction">Template Argument Deduction</h3>
<p>The compiler deduces template parameters from function arguments. Deduction fails if types are ambiguous:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // OK: T = int</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Error: T is int or double?</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: explicit T = double</span></span>
<span class="line"></span></code></pre>
<h3 id="template-specialization">Template Specialization</h3>
<p>You can provide specialized implementations for specific types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> zero</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> T{}; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> zero</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span></code></pre>
<h2 id="trailing-return-types">Trailing Return Types</h2>
<p>C++11 allows return type after parameter list, useful when return type depends on parameters:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> u</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> -&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(t </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> u) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> t </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> u;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>C++14 simplified this with return type deduction:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> u</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> t </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> u;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Type deduced from return statement</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="constexpr-functions">constexpr Functions</h2>
<p>Functions marked <code>constexpr</code> can execute at compile time if arguments are constant expressions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">?</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#D73A49;--shiki-dark:#C678DD"> :</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n </span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Computed at compile time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#E5C07B"> arr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Array size must be compile-time constant</span></span>
<span class="line"></span></code></pre>
<p>C++14 relaxed restrictions, allowing loops and multiple statements in <code>constexpr</code> functions.</p>
<astro-island uid="Z25sWS2" prefix="r7" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens when `inline` is applied to a function?&quot;],&quot;answers&quot;:[1,[[0,&quot;Guarantees function is substituted at call sites&quot;],[0,&quot;Allows multiple identical definitions across translation units&quot;],[0,&quot;Makes function execute faster&quot;],[0,&quot;Prevents function from being called&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;inline is a linker directive allowing ODR exemption. The compiler decides whether to actually inline based on optimization.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens when `inline` is applied to a function?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Guarantees function is substituted at call sites</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Allows multiple identical definitions across translation units</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Makes function execute faster</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Prevents function from being called</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1w1y23" prefix="r8" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\ntemplate&lt;typename T&gt;\nconstexpr T cube(T x) {\n    return x * x * x;\n}\n\nint main() {\n    constexpr auto compile_time = cube(3);  // Computed during compilation\n    auto runtime = cube(5);  // Can also run at runtime\n    \n    std::cout &lt;&lt; \&quot;Compile-time: \&quot; &lt;&lt; compile_time &lt;&lt; \&quot;, Runtime: \&quot; &lt;&lt; runtime &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Compile-time: 27, Runtime: 125&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

template&lt;typename T&gt;
constexpr T cube(T x) {
    return x * x * x;
}

int main() {
    constexpr auto compile_time = cube(3);  // Computed during compilation
    auto runtime = cube(5);  // Can also run at runtime
    
    std::cout &lt;&lt; &quot;Compile-time: &quot; &lt;&lt; compile_time &lt;&lt; &quot;, Runtime: &quot; &lt;&lt; runtime &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span><span class="hl-keyword">typename</span> T<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">constexpr</span> T cube<span class="hl-bracket">(</span>T x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x <span class="hl-operator">*</span> x;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-keyword">constexpr</span> <span class="hl-type">auto</span> compile_time <span class="hl-operator">=</span> cube<span class="hl-bracket">(</span><span class="hl-number">3</span><span class="hl-bracket">)</span>;  <span class="hl-comment">// Computed during compilation</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">auto</span> runtime <span class="hl-operator">=</span> cube<span class="hl-bracket">(</span><span class="hl-number">5</span><span class="hl-bracket">)</span>;  <span class="hl-comment">// Can also run at runtime</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Compile-time: &quot;</span> <span class="hl-operator">&lt;&lt;</span> compile_time <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, Runtime: &quot;</span> <span class="hl-operator">&lt;&lt;</span> runtime <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">References and Value Categories</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="references-aliases-with-semantics">References: Aliases with Semantics</h1>
<p>References are aliases to existing objects, unlike pointers which are objects themselves. C++ provides two kinds: <strong>lvalue references</strong> (<code>T&amp;</code>) and <strong>rvalue references</strong> (<code>T&amp;&amp;</code>, C++11).</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ref </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Lvalue reference to x</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">ref </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Modifies x</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pointer is a separate object</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Modifies x through pointer</span></span>
<span class="line"></span></code></pre>
<h2 id="key-properties-of-references">Key Properties of References</h2>
<ol>
<li><strong>Must be initialized</strong>: Unlike pointers, references cannot be null or uninitialized</li>
<li><strong>Cannot be rebound</strong>: Once bound, a reference always refers to the same object</li>
<li><strong>No separate storage</strong>: References typically compile to pointers but have different semantics</li>
<li><strong>No reference to reference</strong>: <code>int&amp; &amp;</code> is illegal (but see reference collapsing)</li>
</ol>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> r1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// int&amp; r2;     // Error: must be initialized</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// r1 = b;      // This assigns b&#39;s value to a, doesn&#39;t rebind r1</span></span>
<span class="line"></span></code></pre>
<h2 id="value-categories-lvalues-and-rvalues">Value Categories: lvalues and rvalues</h2>
<p>Every C++ expression belongs to a value category. The fundamental distinction:</p>
<ul>
<li><strong>lvalue</strong>: Has persistent identity (name, memory address)</li>
<li><strong>rvalue</strong>: Temporary, about to be destroyed</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // x is an lvalue</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // OK: can take address of lvalue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// int* p = &amp;10;  // Error: can&#39;t take address of rvalue</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// int&amp; r = 42;   // Error: lvalue ref can&#39;t bind to rvalue</span></span>
<span class="line"></span></code></pre>
<p>C++11 introduced finer categories:</p>
<div class="my-12 flex flex-col items-center bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[2.5rem] overflow-hidden shadow-xl p-8 transition-colors"> <div class="text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em] mb-6 w-full text-center opacity-60">System Diagram</div> <div class="w-full flex justify-center overflow-x-auto dark:invert dark:hue-rotate-180 dark:brightness-110"> <?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="243px" preserveAspectRatio="none" style="width:972px;height:243px;" version="1.1" viewBox="0 0 972 243" width="972px" zoomAndPan="magnify"><defs/><g><!--cluster expression--><g class="cluster" data-qualified-name="expression" data-source-line="7" id="ent0002"><rect fill="none" height="154.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="372" x="7" y="83.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85.9961" x="150.002" y="98.1951">expression</text></g><!--cluster glvalue--><g class="cluster" data-qualified-name="expression.glvalue" data-source-line="8" id="ent0003"><rect fill="none" height="87.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="94" x="31" y="126.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57.6543" x="49.1729" y="141.1951">glvalue</text></g><!--cluster rvalue--><g class="cluster" data-qualified-name="expression.rvalue" data-source-line="11" id="ent0005"><rect fill="none" height="87.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="206" x="149" y="126.2"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49.7383" x="227.1309" y="141.1951">rvalue</text></g><!--entity lvalue--><g class="entity" data-qualified-name="expression.glvalue.lvalue" data-source-line="9" id="ent0004"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62.1299" x="46.94" y="161.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.1299" x="56.94" y="184.1951">lvalue</text></g><!--entity prvalue--><g class="entity" data-qualified-name="expression.rvalue.prvalue" data-source-line="12" id="ent0006"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.8828" x="164.56" y="161.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.8828" x="174.56" y="184.1951">prvalue</text></g><!--entity xvalue--><g class="entity" data-qualified-name="expression.rvalue.xvalue" data-source-line="13" id="ent0007"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66.5254" x="272.74" y="161.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.5254" x="282.74" y="184.1951">xvalue</text></g><g class="entity" data-qualified-name="GMN8" data-source-line="18" id="ent0009"><path d="M395,159.22 L395,199.4856 L548.9961,199.4856 L548.9961,169.22 L538.9961,159.22 L395,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M538.9961,159.22 L538.9961,169.22 L548.9961,169.22 L538.9961,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2476" x="401" y="176.2869">Has identity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9961" x="401" y="191.4197">e.g., variable names</text></g><g class="entity" data-qualified-name="GMN11" data-source-line="23" id="ent0012"><path d="M584.47,159.22 L584.47,199.4856 L769.5315,199.4856 L769.5315,169.22 L759.5315,159.22 L584.47,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M759.5315,159.22 L759.5315,169.22 L769.5315,169.22 L759.5315,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4072" x="590.47" y="176.2869">Pure rvalue</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0615" x="590.47" y="191.4197">e.g., literals, temporaries</text></g><g class="entity" data-qualified-name="GMN14" data-source-line="28" id="ent0015"><path d="M804.92,159.22 L804.92,199.4856 L965.086,199.4856 L965.086,169.22 L955.086,159.22 L804.92,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M955.086,159.22 L955.086,169.22 L965.086,169.22 L955.086,159.22" fill="#FAFAFA" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.8564" x="810.92" y="176.2869">eXpiring value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.166" x="810.92" y="191.4197">e.g., std::move result</text></g><!--link lvalue to GMN8--><g class="link" data-entity-1="ent0004" data-entity-2="ent0009" data-link-type="association" data-source-line="18" id="lnk10"><path d="M83.81,160.76 C94.51,130.11 120.56,69.93 166.5,45.2 C233.42,9.18 267.27,16.17 337.5,45.2 C393.43,68.33 438.28,127.23 459.2,158.73" fill="none" id="lvalue-GMN8" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link prvalue to GMN11--><g class="link" data-entity-1="ent0006" data-entity-2="ent0012" data-link-type="association" data-source-line="23" id="lnk13"><path d="M204.46,160.73 C211.28,130.03 229.71,69.78 272.5,45.2 C325.68,14.66 492.09,21.12 548.5,45.2 C602.93,68.44 645.35,127.29 665.01,158.76" fill="none" id="prvalue-GMN11" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link xvalue to GMN14--><g class="link" data-entity-1="ent0007" data-entity-2="ent0015" data-link-type="association" data-source-line="28" id="lnk16"><path d="M311.94,160.75 C322.86,130.1 349.34,69.9 395.5,45.2 C468.78,6 693.95,10.56 769.5,45.2 C820.76,68.71 857.88,127.44 874.79,158.82" fill="none" id="xvalue-GMN14" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><?plantuml-src VP0nRiCm34LtdeB87EG0MRjqxDYLiHbPY4GQfEmwA7Btoh3hkaMHJNZy_mcatwBqP9JnGiqjc0xIlcXIms8aNaSi1T2tc7VKwaUKW5TApW0_ewoYJMUQkPO7XYSbuwQGXCHuuAatTeyg1_pS3q8QAGqyKyGTNp4yzc7xFzj_yzzusXGF0D72Q35q1VMAYnrUoJ6sTVTOxi2dS3hYI1RfKkj2cHrOMfohVmNhb_0sMANBUn6aMDZg_aSid7krwdlYcTRgUnzjljpUvAKzdxEEDSu-fB99lW00?></g></svg> </div> </div>
<h2 id="rvalue-references-and-move-semantics">Rvalue References and Move Semantics</h2>
<p>Rvalue references (<code>T&amp;&amp;</code>) bind to temporaries, enabling <strong>move semantics</strong>: transferring resources instead of copying.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s1;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // Copy: s1 still valid</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s1);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Move: s1 left in valid but unspecified state</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // s is an rvalue reference (but s itself is an lvalue!)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;temp&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // OK: binds to temporary</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s2));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // OK: std::move casts to rvalue</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// process(s2);                   // Error: lvalue can&#39;t bind to &amp;&amp;</span></span>
<span class="line"></span></code></pre>
<h3 id="the-lvalue-rvalue-paradox">The lvalue-rvalue Paradox</h3>
<p>Inside a function, an rvalue reference parameter is itself an lvalue (it has a name):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string copy </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // Copy, not move (s is lvalue)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string moved </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Move (explicitly cast to rvalue)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="const-lvalue-references-universal-binding">Const lvalue References: Universal Binding</h2>
<p>A <code>const T&amp;</code> can bind to both lvalues and rvalues, making it perfect for read-only parameters:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Accepts anything</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // OK: binds to lvalue</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;world&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // OK: binds to temporary</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; world&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // OK: binds to temporary result</span></span>
<span class="line"></span></code></pre>
<p>This is why pre-C++11 code used <code>const T&amp;</code> everywhere: it’s the only reference type that accepts both lvalues and rvalues.</p>
<h2 id="reference-collapsing-rules">Reference Collapsing Rules</h2>
<p>When references are formed through templates or <code>typedef</code>, C++ applies <strong>reference collapsing</strong>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>T&amp; &amp;   → T&amp;</span></span>
<span class="line"><span>T&amp; &amp;&amp;  → T&amp;</span></span>
<span class="line"><span>T&amp;&amp; &amp;  → T&amp;</span></span>
<span class="line"><span>T&amp;&amp; &amp;&amp; → T&amp;&amp;</span></span>
<span class="line"><span></span></span></code></pre>
<p>Rule: An rvalue reference to an rvalue reference becomes rvalue reference; everything else becomes lvalue reference.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> arg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Forwarding reference (see next section)</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // If T is int&amp;, then T&amp;&amp; becomes int&amp; (reference collapsing)</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // If T is int, then T&amp;&amp; is int&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="forwarding-references-universal-references">Forwarding References (Universal References)</h2>
<p>In template contexts, <code>T&amp;&amp;</code> has special meaning—it’s a <strong>forwarding reference</strong> that can bind to anything:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> forward_wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> arg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Forwarding reference</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    target</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(arg));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Perfect forwarding</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward_wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // T = int&amp;, arg is int&amp;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward_wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // T = int, arg is int&amp;&amp;</span></span>
<span class="line"></span></code></pre>
<p><code>std::forward&lt;T&gt;</code> preserves the value category: forwards lvalues as lvalues, rvalues as rvalues.</p>
<astro-island uid="1VvpoS" prefix="r9" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;Reference Semantics&quot;],&quot;code&quot;:[0,&quot;int x = 5;\nint&amp; r = x;\nr = 10;\nstd::cout &lt;&lt; [!blank!];  // Outputs 10&quot;],&quot;answers&quot;:[1,[[0,&quot;x&quot;],[0,&quot;r&quot;]]],&quot;explanation&quot;:[0,&quot;Both x and r are correct answers since r is an alias to x. Modifying r modifies x.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Reference Semantics</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">int</span> x <span class="hl-operator">=</span> <span class="hl-number">5</span>;
<span class="hl-type">int</span><span class="hl-operator">&amp;</span> r <span class="hl-operator">=</span> x;
r <span class="hl-operator">=</span> <span class="hl-number">10</span>;
<span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> </span><input type="text" placeholder="?" size="2" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span>;  <span class="hl-comment">// Outputs 10</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1wyXVM" prefix="r10" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;utility&gt;\n\nvoid process(int&amp; x) { std::cout &lt;&lt; \&quot;lvalue\\n\&quot;; }\nvoid process(int&amp;&amp; x) { std::cout &lt;&lt; \&quot;rvalue\\n\&quot;; }\n\nint main() {\n    int a = 10;\n    process(a);              // Calls process(int&amp;)\n    process(42);             // Calls process(int&amp;&amp;)\n    process(std::move(a));   // Calls process(int&amp;&amp;)\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;lvalue\\nrvalue\\nrvalue&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;utility&gt;

void process(int&amp; x) { std::cout &lt;&lt; &quot;lvalue\n&quot;; }
void process(int&amp;&amp; x) { std::cout &lt;&lt; &quot;rvalue\n&quot;; }

int main() {
    int a = 10;
    process(a);              // Calls process(int&amp;)
    process(42);             // Calls process(int&amp;&amp;)
    process(std::move(a));   // Calls process(int&amp;&amp;)
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>utility<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-type">void</span> process<span class="hl-bracket">(</span><span class="hl-type">int</span><span class="hl-operator">&amp;</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;lvalue\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">void</span> process<span class="hl-bracket">(</span><span class="hl-type">int</span><span class="hl-operator">&amp;</span><span class="hl-operator">&amp;</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;rvalue\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">int</span> a <span class="hl-operator">=</span> <span class="hl-number">10</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    process<span class="hl-bracket">(</span>a<span class="hl-bracket">)</span>;              <span class="hl-comment">// Calls process(int&amp;)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    process<span class="hl-bracket">(</span><span class="hl-number">42</span><span class="hl-bracket">)</span>;             <span class="hl-comment">// Calls process(int&amp;&amp;)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    process<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>move<span class="hl-bracket">(</span>a<span class="hl-bracket">)</span><span class="hl-bracket">)</span>;   <span class="hl-comment">// Calls process(int&amp;&amp;)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Object-Oriented Programming</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Classes and Encapsulation</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="classes-user-defined-types">Classes: User-Defined Types</h1>
<p>Classes are the foundation of object-oriented programming in C++. They combine data (members) and behavior (methods) into cohesive types with controlled access.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Data members (by convention, trailing underscore)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(y) {}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Constructor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> distance</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Const member function</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> setX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Mutator</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_; }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Accessor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="access-specifiers">Access Specifiers</h2>
<p>C++ provides three access levels:</p>
<ul>
<li><strong>private</strong>: Accessible only within the class</li>
<li><strong>protected</strong>: Accessible within the class and derived classes</li>
<li><strong>public</strong>: Accessible everywhere</li>
</ul>
<p><strong>Default access</strong>: <code>class</code> defaults to <code>private</code>, <code>struct</code> defaults to <code>public</code>.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyClass</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> private_by_default;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> explicitly_public;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyStruct</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> public_by_default;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> explicitly_private;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Convention</strong>: Use <code>class</code> for types with invariants requiring encapsulation; use <code>struct</code> for passive data containers (POD types).</p>
<h2 id="constructors-and-initialization">Constructors and Initialization</h2>
<p>Constructors initialize objects. C++ provides several kinds:</p>
<h3 id="default-constructor">Default Constructor</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Default constructor</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Widget w;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls default constructor</span></span>
<span class="line"></span></code></pre>
<h3 id="parameterized-constructor">Parameterized Constructor</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(y) {}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Direct initialization</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point q </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Aggregate initialization (C++11)</span></span>
<span class="line"></span></code></pre>
<h3 id="member-initializer-lists">Member Initializer Lists</h3>
<p>Always prefer initializer lists over assignment in constructor body:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Container</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Good: Direct initialization</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Container</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">name_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Bad: Default construction then assignment</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Container(std::string n) { name_ = n; data_.resize(100); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Reasons</strong>:</p>
<ol>
<li>Initialization is generally more efficient than assignment</li>
<li>Const and reference members <em>must</em> use initializer lists</li>
<li>Base classes and members without default constructors require it</li>
</ol>
<h3 id="delegating-constructors-c11">Delegating Constructors (C++11)</h3>
<p>Constructors can delegate to other constructors:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> width_, height_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> w</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> h</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">width_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(w), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">height_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(h) {}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Delegates to above</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="destructors-and-raii">Destructors and RAII</h2>
<p>Destructors execute when objects are destroyed (scope exit, delete, exception). They’re the foundation of <strong>RAII (Resource Acquisition Is Initialization)</strong>: tying resource lifetime to object lifetime.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(path, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">file_) </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Failed to open&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (file_) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file_);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Always cleanup</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Prevent copying (for now)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FileHandle </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">f</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Use file...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Destructor automatically closes file, even if exceptions thrown</span></span>
<span class="line"></span></code></pre>
<h2 id="special-member-functions">Special Member Functions</h2>
<p>The compiler auto-generates certain functions if not user-declared:</p>
<ol>
<li><strong>Default constructor</strong> (if no constructors declared)</li>
<li><strong>Destructor</strong></li>
<li><strong>Copy constructor</strong>: <code>T(const T&amp;)</code></li>
<li><strong>Copy assignment</strong>: <code>T&amp; operator=(const T&amp;)</code></li>
<li><strong>Move constructor</strong>: <code>T(T&amp;&amp;)</code> (C++11)</li>
<li><strong>Move assignment</strong>: <code>T&amp; operator=(T&amp;&amp;)</code> (C++11)</li>
</ol>
<h3 id="the-rule-of-zero">The Rule of Zero</h3>
<p><strong>Best Practice</strong>: If you can, don’t declare any of the special members. Let the compiler generate them. Use standard library types that manage resources correctly.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Good</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Compiler-generated special members are correct</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="the-rule-of-threefive">The Rule of Three/Five</h3>
<p>If you declare <strong>any</strong> of destructor, copy constructor, or copy assignment, you should probably declare all three (Rule of Three). In modern C++, also declare move constructor and move assignment (Rule of Five).</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[s]), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Destructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Copy constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_, data_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Copy assignment</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            size_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[size_];</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_, data_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#ABB2BF">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move assignment</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            size_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p>However, prefer <code>std::vector&lt;char&gt;</code> and Rule of Zero!</p>
<astro-island uid="Z1OpHEf" prefix="r11" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Why prefer member initializer lists over assignment in constructor bodies?&quot;],&quot;answers&quot;:[1,[[0,&quot;Always more efficient&quot;],[0,&quot;Required for const/reference members&quot;],[0,&quot;Better syntax highlighting&quot;],[0,&quot;Prevents memory leaks&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;While often more efficient, the critical reason is that const and reference members cannot be assigned—they must be initialized.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Why prefer member initializer lists over assignment in constructor bodies?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Always more efficient</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Required for const/reference members</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Better syntax highlighting</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Prevents memory leaks</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="2v2Pzc" prefix="r12" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass Person {\n    std::string name_;\n    int age_;\npublic:\n    Person(std::string n, int a) : name_(std::move(n)), age_(a) {}\n    \n    void display() const {\n        std::cout &lt;&lt; name_ &lt;&lt; \&quot; is \&quot; &lt;&lt; age_ &lt;&lt; \&quot; years old\\n\&quot;;\n    }\n};\n\nint main() {\n    Person p(\&quot;Alice\&quot;, 30);\n    p.display();\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Alice is 30 years old&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;string&gt;

class Person {
    std::string name_;
    int age_;
public:
    Person(std::string n, int a) : name_(std::move(n)), age_(a) {}
    
    void display() const {
        std::cout &lt;&lt; name_ &lt;&lt; &quot; is &quot; &lt;&lt; age_ &lt;&lt; &quot; years old\n&quot;;
    }
};

int main() {
    Person p(&quot;Alice&quot;, 30);
    p.display();
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Person <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> name_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">int</span> age_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    Person<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> n, <span class="hl-type">int</span> a<span class="hl-bracket">)</span> : name_<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>move<span class="hl-bracket">(</span>n<span class="hl-bracket">)</span><span class="hl-bracket">)</span>, age_<span class="hl-bracket">(</span>a<span class="hl-bracket">)</span> <span class="hl-bracket">{</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">void</span> display<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> name_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; is &quot;</span> <span class="hl-operator">&lt;&lt;</span> age_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; years old\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    Person p<span class="hl-bracket">(</span><span class="hl-string">&quot;Alice&quot;</span>, <span class="hl-number">30</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    p.display<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Operator Overloading</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="operator-overloading-custom-type-semantics">Operator Overloading: Custom Type Semantics</h1>
<p>C++ allows redefining operators for user-defined types, enabling natural syntax for custom abstractions. Operators are functions with special names: <code>operator+</code>, <code>operator[]</code>, <code>operator&lt;&lt;</code>, etc.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Complex</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> real_, imag_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Complex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> i</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">real_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(r), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">imag_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(i) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Member operator</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Complex</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Complex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Complex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(real_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">real_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, imag_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">imag_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Complex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Complex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        real_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">real_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        imag_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">imag_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Complex</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Complex c </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls a.operator+(b)</span></span>
<span class="line"></span></code></pre>
<h2 id="member-vs-non-member-operators">Member vs Non-Member Operators</h2>
<p><strong>Member operators</strong>: Left operand is <code>*this</code></p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Vector</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // this + rhs</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Non-member operators</strong>: Both operands are parameters</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Vector</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<p><strong>When to use each</strong>:</p>
<ul>
<li><strong>Member</strong>: Unary operators (<code>-</code>, <code>++</code>, <code>*</code>), compound assignment (<code>+=</code>, <code>*=</code>), subscript (<code>[]</code>), call (<code>()</code>), member access (<code>-&gt;</code>)</li>
<li><strong>Non-member</strong>: Symmetric binary operators (<code>+</code>, <code>-</code>, <code>*</code>), stream operators (<code>&lt;&lt;</code>, <code>&gt;&gt;</code>)</li>
<li><strong>Friend</strong>: Non-member needing private access</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> num_, den_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    friend</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Rational</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> d</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">num_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">den_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(d) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Non-member allows: 2 + Rational(3,4) via implicit conversion</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rational</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Rational</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">num_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#E5C07B"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">den_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#E5C07B"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">num_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#E5C07B"> lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">den_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">                    lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">den_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#E5C07B"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">den_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="canonical-operator-patterns">Canonical Operator Patterns</h2>
<h3 id="arithmetic-operators">Arithmetic Operators</h3>
<p>Implement compound assignment (<code>+=</code>), then derive binary operator (<code>+</code>):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Number</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Number</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Number</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        value_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Non-member, defined in terms of +=</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Number</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Number</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> lhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Number</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> rhs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    lhs </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> rhs;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // lhs is a copy, so modify it</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lhs;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="comparison-operators">Comparison Operators</h3>
<p>C++20 introduced the spaceship operator (<code>&lt;=&gt;</code>), but pre-C++20:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> other);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Implement in terms of ==</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#56B6C2">||</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Define &gt;, &lt;=, &gt;= in terms of &lt; and ==</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p>C++20 spaceship simplifies this:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Generates all comparisons</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="incrementdecrement">Increment/Decrement</h3>
<p>Prefix returns reference; postfix returns copy:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> count_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Prefix: ++c</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Counter</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">count_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Postfix: c++</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Counter</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dummy int parameter</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Counter temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Use prefix version</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="subscript-operator">Subscript Operator</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Array</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> index</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[index];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> index</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[index];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p>C++23 allows multidimensional subscript:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Matrix</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> row</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> col</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // C++23</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="stream-insertionextraction">Stream Insertion/Extraction</h3>
<p>Always non-member to allow <code>std::cout &lt;&lt; obj</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    friend</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ostream</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ostream</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">name_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">age_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ostream</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ostream</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> os</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> os </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; (&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;)&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="conversion-operators">Conversion Operators</h2>
<p>Allow implicit or explicit conversion to other types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Fraction</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> num_, den_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Implicit conversion to double</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> static_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(num_) </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> den_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Explicit conversion to bool (C++11)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> num_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Fraction</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> f</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> f;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Implicit: calls operator double()</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// bool b = f;  // Error: explicit conversion required</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> static_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;bool&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(f);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (f) { }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: contextual conversion to bool</span></span>
<span class="line"></span></code></pre>
<astro-island uid="2nA2m4" prefix="r13" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Why implement operator+ as non-member in terms of operator+=?&quot;],&quot;answers&quot;:[1,[[0,&quot;Performance optimization&quot;],[0,&quot;Enables symmetric conversions&quot;],[0,&quot;Required by standard&quot;],[0,&quot;Reduces code duplication&quot;]]],&quot;correctIndex&quot;:[0,3],&quot;explanation&quot;:[0,&quot;Defining + in terms of += avoids duplicating the addition logic, following DRY principle.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Why implement operator+ as non-member in terms of operator+=?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Performance optimization</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Enables symmetric conversions</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Required by standard</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Reduces code duplication</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="cy98z" prefix="r14" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\nclass Vector2D {\n    double x_, y_;\npublic:\n    Vector2D(double x, double y) : x_(x), y_(y) {}\n    \n    Vector2D&amp; operator+=(const Vector2D&amp; rhs) {\n        x_ += rhs.x_;\n        y_ += rhs.y_;\n        return *this;\n    }\n    \n    friend Vector2D operator+(Vector2D lhs, const Vector2D&amp; rhs) {\n        return lhs += rhs;\n    }\n    \n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Vector2D&amp; v) {\n        return os &lt;&lt; \&quot;(\&quot; &lt;&lt; v.x_ &lt;&lt; \&quot;, \&quot; &lt;&lt; v.y_ &lt;&lt; \&quot;)\&quot;;\n    }\n};\n\nint main() {\n    Vector2D v1(1, 2), v2(3, 4);\n    std::cout &lt;&lt; v1 + v2 &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;(4, 6)&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

class Vector2D {
    double x_, y_;
public:
    Vector2D(double x, double y) : x_(x), y_(y) {}
    
    Vector2D&amp; operator+=(const Vector2D&amp; rhs) {
        x_ += rhs.x_;
        y_ += rhs.y_;
        return *this;
    }
    
    friend Vector2D operator+(Vector2D lhs, const Vector2D&amp; rhs) {
        return lhs += rhs;
    }
    
    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Vector2D&amp; v) {
        return os &lt;&lt; &quot;(&quot; &lt;&lt; v.x_ &lt;&lt; &quot;, &quot; &lt;&lt; v.y_ &lt;&lt; &quot;)&quot;;
    }
};

int main() {
    Vector2D v1(1, 2), v2(3, 4);
    std::cout &lt;&lt; v1 + v2 &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Vector2D <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">    <span class="hl-type">double</span> x_, y_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    Vector2D<span class="hl-bracket">(</span><span class="hl-type">double</span> x, <span class="hl-type">double</span> y<span class="hl-bracket">)</span> : x_<span class="hl-bracket">(</span>x<span class="hl-bracket">)</span>, y_<span class="hl-bracket">(</span>y<span class="hl-bracket">)</span> <span class="hl-bracket">{</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    Vector2D<span class="hl-operator">&amp;</span> operator<span class="hl-operator">+</span><span class="hl-operator">=</span><span class="hl-bracket">(</span><span class="hl-keyword">const</span> Vector2D<span class="hl-operator">&amp;</span> rhs<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">        x_ <span class="hl-operator">+</span><span class="hl-operator">=</span> rhs.x_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">        y_ <span class="hl-operator">+</span><span class="hl-operator">=</span> rhs.y_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> <span class="hl-operator">*</span><span class="hl-keyword">this</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    friend Vector2D operator<span class="hl-operator">+</span><span class="hl-bracket">(</span>Vector2D lhs, <span class="hl-keyword">const</span> Vector2D<span class="hl-operator">&amp;</span> rhs<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> lhs <span class="hl-operator">+</span><span class="hl-operator">=</span> rhs;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    friend <span class="hl-type">std</span><span class="hl-operator">::</span>ostream<span class="hl-operator">&amp;</span> operator<span class="hl-operator">&lt;&lt;</span><span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>ostream<span class="hl-operator">&amp;</span> os, <span class="hl-keyword">const</span> Vector2D<span class="hl-operator">&amp;</span> v<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> os <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;(&quot;</span> <span class="hl-operator">&lt;&lt;</span> v.x_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, &quot;</span> <span class="hl-operator">&lt;&lt;</span> v.y_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;)&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    Vector2D v1<span class="hl-bracket">(</span><span class="hl-number">1</span>, <span class="hl-number">2</span><span class="hl-bracket">)</span>, v2<span class="hl-bracket">(</span><span class="hl-number">3</span>, <span class="hl-number">4</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> v1 <span class="hl-operator">+</span> v2 <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Inheritance and Polymorphism</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="inheritance-the-is-a-relationship">Inheritance: The Is-A Relationship</h1>
<p>Inheritance models taxonomic relationships where a derived class “is a” specialized version of a base class. C++ supports single and multiple inheritance with three access modes.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">protected:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string color_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">color_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(c) {}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pure virtual</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(c), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">radius_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(r) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14159</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="inheritance-access-modes">Inheritance Access Modes</h2>





























<table><thead><tr><th style="text-align:left">Derivation</th><th style="text-align:left">Base public → Derived</th><th style="text-align:left">Base protected → Derived</th><th style="text-align:left">Base private → Derived</th></tr></thead><tbody><tr><td style="text-align:left"><strong>public</strong></td><td style="text-align:left">public</td><td style="text-align:left">protected</td><td style="text-align:left">inaccessible</td></tr><tr><td style="text-align:left"><strong>protected</strong></td><td style="text-align:left">protected</td><td style="text-align:left">protected</td><td style="text-align:left">inaccessible</td></tr><tr><td style="text-align:left"><strong>private</strong></td><td style="text-align:left">private</td><td style="text-align:left">private</td><td style="text-align:left">inaccessible</td></tr></tbody></table>
<p><strong>Public inheritance</strong> models “is-a”: Circle is-a Shape. Most common.
<strong>Protected inheritance</strong> models “implemented-in-terms-of” (rare).
<strong>Private inheritance</strong> models “implemented-in-terms-of” (prefer composition).</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">private</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Private inheritance</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x); }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Stack is NOT a std::vector publicly</span></span>
<span class="line"></span></code></pre>
<h2 id="virtual-functions-and-dynamic-dispatch">Virtual Functions and Dynamic Dispatch</h2>
<p>Virtual functions enable <strong>runtime polymorphism</strong>: the called function depends on the dynamic type of the object, not the static type of the pointer/reference.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Animal</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Some sound</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Animal</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Dog</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Animal</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // override keyword: C++11</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Woof!</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> makeNoise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Animal</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">speak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dynamic dispatch</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Dog d;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">makeNoise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(d);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Outputs: Woof!</span></span>
<span class="line"></span></code></pre>
<h3 id="the-virtual-table-mechanism">The Virtual Table Mechanism</h3>
<p>Virtual functions are implemented via a <strong>virtual table (vtable)</strong>: a compile-time array of function pointers for each polymorphic class. Each object contains a hidden <strong>vptr</strong> pointing to its class’s vtable.</p>
<div class="my-12 flex flex-col items-center bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[2.5rem] overflow-hidden shadow-xl p-8 transition-colors"> <div class="text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em] mb-6 w-full text-center opacity-60">System Diagram</div> <div class="w-full flex justify-center overflow-x-auto dark:invert dark:hue-rotate-180 dark:brightness-110"> <?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="74px" preserveAspectRatio="none" style="width:307px;height:74px;" version="1.1" viewBox="0 0 307 74" width="307px" zoomAndPan="magnify"><defs/><g><g class="entity" data-qualified-name="dog" data-source-line="5" id="ent0002"><rect fill="#F1F1F1" height="60.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.7734" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.2783" x="31.7476" y="21.9951">Dog Object</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="133.7734" y1="27.2969" y2="27.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.5977" x="13" y="44.292">vptr &#8594;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7734" x="13" y="60.5889">data members...</text></g><g class="entity" data-qualified-name="vtable" data-source-line="10" id="ent0003"><rect fill="#F1F1F1" height="60.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.0684" x="169.35" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.4258" x="196.6713" y="21.9951">Dog vtable</text><line style="stroke:#181818;stroke-width:0.5;" x1="170.35" x2="299.4184" y1="27.2969" y2="27.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0684" x="175.35" y="44.292">[0]: Dog::speak()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.5508" x="175.35" y="60.5889">[1]: Dog::~Dog()</text></g><!--link dog to vtable--><g class="link" data-entity-1="ent0002" data-entity-2="ent0003" data-link-type="dependency" data-source-line="15" id="lnk4"><path codeLine="15" d="M135.27,37.44 C146.55,37.44 151.84,37.44 163.12,37.44" fill="none" id="dog-to-vtable" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="169.12,37.44,160.12,33.44,164.12,37.44,160.12,41.44,169.12,37.44" style="stroke:#181818;stroke-width:1;"/></g><?plantuml-src LOqz3i8m38LtdyBg14ChM3kmmCu1AWQtCMbf4rT9MWO48mVWY9o4KFx4OZs_v-_PjutjoP71agfMEnciMaid3eCZwsF4DW3wxvclIScniHhtr7a6-4L6h5Ir4yCH7XYaF70LCDc8nksa4oIFAgud6FlWy7wzWQ90QDYKx7oMPN26Ft0CL7OyWIyPsMAnop66UUvxfdOsXsBvSIvnHYEsFF-ahj5rI5TlzW40?></g></svg> </div> </div>
<p><strong>Cost</strong>: One pointer per object, one indirection per virtual call. This is the “overhead” of polymorphism.</p>
<h2 id="abstract-classes-and-pure-virtual-functions">Abstract Classes and Pure Virtual Functions</h2>
<p>A <strong>pure virtual function</strong> has no implementation and is declared with <code>= 0</code>. Classes with pure virtuals are <strong>abstract</strong>: cannot be instantiated.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Drawable</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> draw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pure virtual</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Drawable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Drawable</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> draw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Implementation</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Drawable d;  // Error: cannot instantiate abstract class</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Rectangle r;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // OK: Rectangle is concrete</span></span>
<span class="line"></span></code></pre>
<p><strong>Interface idiom</strong>: Abstract class with only pure virtuals and no data members.</p>
<h2 id="the-override-and-final-specifiers">The Override and Final Specifiers</h2>
<p>C++11 added <code>override</code> and <code>final</code> to catch errors:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> foo</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> bar</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> foo</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error: doesn&#39;t override (different signature)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> bar</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // Error: doesn&#39;t override (missing const)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><code>final</code> prevents further overriding or derivation:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> method</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">final</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Cannot be overridden</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#D73A49;--shiki-dark:#C678DD"> final</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Cannot be further derived</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="virtual-destructors-a-critical-rule">Virtual Destructors: A Critical Rule</h2>
<p><strong>If a class has virtual functions, its destructor must be virtual</strong>. Otherwise, deleting a derived object through a base pointer causes undefined behavior:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Base destroyed</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]) {}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_; }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // CRITICAL: must run</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Base</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Derived;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // UB: Only Base destructor runs, memory leak!</span></span>
<span class="line"></span></code></pre>
<p><strong>Solution</strong>: Make base destructor virtual:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Virtual destructor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="slicing-problem">Slicing Problem</h2>
<p>Assigning a derived object to a base object <strong>slices off</strong> the derived parts:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_; };</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_; };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Derived d;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Base b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Slicing: y_ is lost</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Base</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ref </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: Reference preserves dynamic type</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Base</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">d;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: Pointer preserves dynamic type</span></span>
<span class="line"></span></code></pre>
<p><strong>Rule</strong>: Pass polymorphic types by pointer or reference, never by value.</p>
<astro-island uid="Z1D3URB" prefix="r15" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens if a base class destructor is NOT virtual?&quot;],&quot;answers&quot;:[1,[[0,&quot;Compile error&quot;],[0,&quot;Runtime error on delete&quot;],[0,&quot;Undefined behavior on delete through base pointer&quot;],[0,&quot;Nothing, works correctly&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;Deleting a derived object through a base pointer with non-virtual destructor is undefined behavior, typically leading to memory leaks.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens if a base class destructor is NOT virtual?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Compile error</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Runtime error on delete</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Undefined behavior on delete through base pointer</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Nothing, works correctly</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="yrLzE" prefix="r16" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nclass Animal {\npublic:\n    virtual void speak() const { std::cout &lt;&lt; \&quot;...\\n\&quot;; }\n    virtual ~Animal() = default;\n};\n\nclass Cat : public Animal {\npublic:\n    void speak() const override { std::cout &lt;&lt; \&quot;Meow!\\n\&quot;; }\n};\n\nvoid communicate(const Animal&amp; a) {\n    a.speak();  // Dynamic dispatch\n}\n\nint main() {\n    Cat c;\n    communicate(c);\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Meow!&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;memory&gt;

class Animal {
public:
    virtual void speak() const { std::cout &lt;&lt; &quot;...\n&quot;; }
    virtual ~Animal() = default;
};

class Cat : public Animal {
public:
    void speak() const override { std::cout &lt;&lt; &quot;Meow!\n&quot;; }
};

void communicate(const Animal&amp; a) {
    a.speak();  // Dynamic dispatch
}

int main() {
    Cat c;
    communicate(c);
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>memory<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Animal <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-keyword">virtual</span> <span class="hl-type">void</span> speak<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;...\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-keyword">virtual</span> <span class="hl-operator">~</span>Animal<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">=</span> <span class="hl-keyword">default</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Cat : <span class="hl-keyword">public</span> Animal <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">void</span> speak<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-keyword">override</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Meow!\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-type">void</span> communicate<span class="hl-bracket">(</span><span class="hl-keyword">const</span> Animal<span class="hl-operator">&amp;</span> a<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    a.speak<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;  <span class="hl-comment">// Dynamic dispatch</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    Cat c;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    communicate<span class="hl-bracket">(</span>c<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Generic Programming</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Templates and Generic Programming</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="templates-compile-time-polymorphism">Templates: Compile-Time Polymorphism</h1>
<p>Templates enable writing code that works with any type satisfying certain requirements, with full type checking at compile time and zero runtime overhead. Unlike runtime polymorphism (virtual functions), templates generate specialized code for each type used.</p>
<h2 id="function-templates">Function Templates</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (a </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) </span><span style="color:#D73A49;--shiki-dark:#C678DD">?</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">:</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // T = int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.71</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // T = double</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">long</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Explicit T = long</span></span>
<span class="line"></span></code></pre>
<h3 id="template-argument-deduction">Template Argument Deduction</h3>
<p>The compiler deduces template parameters from function arguments. Deduction follows strict rules:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: T = int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// process(x, &amp;d);  // Error: T is int or double?</span></span>
<span class="line"></span></code></pre>
<h2 id="class-templates">Class Templates</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#24292E;--shiki-dark:#E5C07B">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(value); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Stack</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> intStack;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Stack</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> stringStack;</span></span>
<span class="line"></span></code></pre>
<h3 id="member-function-templates">Member Function Templates</h3>
<p>Templates can appear at multiple levels:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Container</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Member function template</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Container</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // U = int</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // U = const char*</span></span>
<span class="line"></span></code></pre>
<h2 id="template-specialization">Template Specialization</h2>
<h3 id="full-specialization">Full Specialization</h3>
<p>Provide a completely different implementation for a specific type:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> TypeName</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;unknown&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> TypeName</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;int&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> TypeName</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;double&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="partial-specialization-class-templates-only">Partial Specialization (Class Templates Only)</h3>
<p>Specialize for a subset of template parameters:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pair</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T first_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    U second_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Partial specialization: both types the same</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pair</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T first_, second_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> equal</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> first_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> second_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Partial specialization: pointer types</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pair</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Special implementation for pointers</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="non-type-template-parameters">Non-Type Template Parameters</h2>
<p>Templates can take compile-time constant values:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> N</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Array</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T </span><span style="color:#24292E;--shiki-dark:#E5C07B">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[N];</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> size_t</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> N; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> i</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i]; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> i</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i]; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Array</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr1;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Different type from...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Array</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // ...this</span></span>
<span class="line"></span></code></pre>
<p>Non-type parameters can be: integers, enums, pointers, references, <code>nullptr_t</code>, and (C++20) floating-point and class types.</p>
<h2 id="variadic-templates-c11">Variadic Templates (C++11)</h2>
<p>Templates accepting arbitrary numbers of arguments:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ((</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> args </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), ...);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fold expression (C++17)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&#39;x&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Any number/types of arguments</span></span>
<span class="line"></span></code></pre>
<h3 id="parameter-pack-expansion">Parameter Pack Expansion</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Declaration</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Recursive inheritance</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, Ts...&gt; : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;Ts...&gt; {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T value_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">vs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;Ts...&gt;(vs...), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt; {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Base case</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="sfinae-substitution-failure-is-not-an-error">SFINAE: Substitution Failure Is Not An Error</h2>
<p>When template substitution fails, the candidate is removed from overload set instead of causing error:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">value_type</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T container) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only if T has value_type</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> container</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fallback</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls first overload</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> getValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Calls second overload (first SFINAE&#39;d out)</span></span>
<span class="line"></span></code></pre>
<p>Modern C++ uses <code>std::enable_if</code> for SFINAE:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">enable_if_t</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T value) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // OK</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// increment(3.14);  // Error: no matching function</span></span>
<span class="line"></span></code></pre>
<p>C++20 concepts provide cleaner syntax:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">integral</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<astro-island uid="2mC1jO" prefix="r17" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens when you instantiate Array&lt;int, 5&gt; and Array&lt;int, 10&gt;?&quot;],&quot;answers&quot;:[1,[[0,&quot;Same type, different values&quot;],[0,&quot;Two completely different types&quot;],[0,&quot;Compilation error&quot;],[0,&quot;Runtime polymorphism&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Each unique combination of template arguments creates a distinct type. Array&lt;int,5&gt; and Array&lt;int,10&gt; are as unrelated as int and double.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens when you instantiate Array&lt;int, 5&gt; and Array&lt;int, 10&gt;?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Same type, different values</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Two completely different types</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Compilation error</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Runtime polymorphism</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1Repyv" prefix="r18" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\ntemplate&lt;typename T&gt;\nT add(T a, T b) {\n    return a + b;\n}\n\ntemplate&lt;typename T, size_t N&gt;\nclass FixedArray {\n    T data_[N];\npublic:\n    constexpr size_t size() const { return N; }\n};\n\nint main() {\n    std::cout &lt;&lt; add(5, 10) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; add(1.5, 2.5) &lt;&lt; &#39;\\n&#39;;\n    \n    FixedArray&lt;int, 5&gt; arr;\n    std::cout &lt;&lt; \&quot;Array size: \&quot; &lt;&lt; arr.size() &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;15\\n4\\nArray size: 5&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

template&lt;typename T&gt;
T add(T a, T b) {
    return a + b;
}

template&lt;typename T, size_t N&gt;
class FixedArray {
    T data_[N];
public:
    constexpr size_t size() const { return N; }
};

int main() {
    std::cout &lt;&lt; add(5, 10) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; add(1.5, 2.5) &lt;&lt; &#x27;\n&#x27;;
    
    FixedArray&lt;int, 5&gt; arr;
    std::cout &lt;&lt; &quot;Array size: &quot; &lt;&lt; arr.size() &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span><span class="hl-keyword">typename</span> T<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">T add<span class="hl-bracket">(</span>T a, T b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> a <span class="hl-operator">+</span> b;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span><span class="hl-keyword">typename</span> T, <span class="hl-type">size_t</span> N<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-keyword">class</span> FixedArray <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    T data_<span class="hl-bracket">[</span>N<span class="hl-bracket">]</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-keyword">constexpr</span> <span class="hl-type">size_t</span> size<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> N; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> add<span class="hl-bracket">(</span><span class="hl-number">5</span>, <span class="hl-number">10</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> add<span class="hl-bracket">(</span><span class="hl-number">1</span>.<span class="hl-number">5</span>, <span class="hl-number">2</span>.<span class="hl-number">5</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    FixedArray<span class="hl-operator">&lt;</span><span class="hl-type">int</span>, <span class="hl-number">5</span><span class="hl-operator">&gt;</span> arr;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Array size: &quot;</span> <span class="hl-operator">&lt;&lt;</span> arr.size<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Modern C++ Features</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Smart Pointers and Memory Management</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="smart-pointers-automated-memory-management">Smart Pointers: Automated Memory Management</h1>
<p>Raw pointers require manual memory management with <code>new</code>/<code>delete</code>, leading to leaks, double-deletes, and dangling pointers. Smart pointers from <code>&lt;memory&gt;</code> automate lifetime management through RAII.</p>
<h2 id="unique_ptr-exclusive-ownership">unique_ptr: Exclusive Ownership</h2>
<p><code>unique_ptr&lt;T&gt;</code> represents exclusive ownership: exactly one owner, non-copyable but movable. The pointed-to object is destroyed when the <code>unique_ptr</code> is destroyed.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;memory&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">p1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::unique_ptr&lt;int&gt; p2 = p1;  // Error: cannot copy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p1);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: transfer ownership</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// p1 is now nullptr</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Preferred (C++14)</span></span>
<span class="line"></span></code></pre>
<h3 id="why-make_unique">Why make_unique?</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Problematic:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> T), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">might_throw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// If might_throw() throws after new but before unique_ptr construction, leak!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Safe:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">might_throw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// make_unique is atomic: allocation and unique_ptr construction happen together</span></span>
<span class="line"></span></code></pre>
<h3 id="unique_ptr-for-arrays">unique_ptr for Arrays</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[]&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">arr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">arr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Operator[] available for array version</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Prefer std::vector or std::array</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Better</span></span>
<span class="line"></span></code></pre>
<h3 id="custom-deleters">Custom Deleters</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileCloser</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> fp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (fp) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(fp);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FILE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FileCloser</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// File automatically closed when unique_ptr destroyed</span></span>
<span class="line"></span></code></pre>
<h2 id="shared_ptr-shared-ownership">shared_ptr: Shared Ownership</h2>
<p><code>shared_ptr&lt;T&gt;</code> uses reference counting: the object is destroyed when the last <code>shared_ptr</code> owning it is destroyed. Copyable and movable.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p1;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Both own the object</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Reference count: 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reset</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // p1 releases ownership, count = 1</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// p2 still valid, object alive</span></span>
<span class="line"></span></code></pre>
<h3 id="control-block-architecture">Control Block Architecture</h3>
<p>Each <code>shared_ptr</code> has two pointers:</p>
<ol>
<li>Pointer to the managed object</li>
<li>Pointer to the <strong>control block</strong> (reference counts, deleter)</li>
</ol>
<astro-island uid="MHu1A" prefix="r19" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;Creating shared_ptr&quot;],&quot;code&quot;:[0,&quot;// Preferred: single allocation for object + control block\nauto p1 = [!blank!]&lt;int&gt;(42);\n\n// Avoid: two allocations\nstd::shared_ptr&lt;int&gt; p2(new int(42));&quot;],&quot;answers&quot;:[1,[[0,&quot;std::make_shared&quot;],[0,&quot;make_shared&quot;]]],&quot;explanation&quot;:[0,&quot;make_shared allocates object and control block together, improving performance and exception safety.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Creating shared_ptr</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-comment">// Preferred: single allocation for object + control block</span>
<span class="hl-type">auto</span> p1 <span class="hl-operator">=</span> </span><input type="text" placeholder="?" size="16" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span><span class="hl-bracket">(</span><span class="hl-number">42</span><span class="hl-bracket">)</span>;

<span class="hl-comment">// Avoid: two allocations</span>
<span class="hl-type">std</span><span class="hl-operator">::</span>shared_ptr<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> p2<span class="hl-bracket">(</span><span class="hl-keyword">new</span> <span class="hl-type">int</span><span class="hl-bracket">(</span><span class="hl-number">42</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<h3 id="cyclic-references-problem">Cyclic References Problem</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // a owns b, count = 2</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // b owns a, count = 2</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Neither can be destroyed: memory leak!</span></span>
<span class="line"></span></code></pre>
<h2 id="weak_ptr-breaking-cycles">weak_ptr: Breaking Cycles</h2>
<p><code>weak_ptr&lt;T&gt;</code> observes a <code>shared_ptr</code> without affecting reference count. Used to break cycles and check if object still exists.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::weak_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> prev;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Doesn&#39;t own</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">prev</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Weak reference: no cycle</span></span>
<span class="line"></span></code></pre>
<h3 id="using-weak_ptr">Using weak_ptr</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::weak_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> wp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sp;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> locked </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> wp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Attempt to get shared_ptr</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">locked </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Object still exists</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Object destroyed</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="comparison-unique_ptr-vs-shared_ptr">Comparison: unique_ptr vs shared_ptr</h2>



































<table><thead><tr><th style="text-align:left">Aspect</th><th style="text-align:left">unique_ptr</th><th style="text-align:left">shared_ptr</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Ownership</strong></td><td style="text-align:left">Exclusive</td><td style="text-align:left">Shared</td></tr><tr><td style="text-align:left"><strong>Copyable</strong></td><td style="text-align:left">No</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><strong>Size</strong></td><td style="text-align:left">Size of pointer</td><td style="text-align:left">2 pointers</td></tr><tr><td style="text-align:left"><strong>Overhead</strong></td><td style="text-align:left">Zero</td><td style="text-align:left">Reference counting (atomic for thread safety)</td></tr><tr><td style="text-align:left"><strong>Use When</strong></td><td style="text-align:left">Clear single owner</td><td style="text-align:left">Unclear ownership, need sharing</td></tr></tbody></table>
<p><strong>Rule of Thumb</strong>: Default to <code>unique_ptr</code>. Use <code>shared_ptr</code> only when ownership truly must be shared.</p>
<h2 id="returning-smart-pointers-from-functions">Returning Smart Pointers from Functions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Return unique_ptr when transferring ownership</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">createWidget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> w </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> createWidget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Ownership transferred via move</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Prefer returning by value for copyable types</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> createWidget2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Widget{};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Copy elision / move</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="smart-pointers-and-polymorphism">Smart Pointers and Polymorphism</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Base</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Polymorphism works: Derived destructor called when p destroyed</span></span>
<span class="line"></span></code></pre>
<h2 id="common-pitfalls">Common Pitfalls</h2>
<h3 id="constructing-shared_ptr-from-same-raw-pointer-twice">Constructing shared_ptr from Same Raw Pointer Twice</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> raw </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">p1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">raw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">p2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">raw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // DISASTER: double-delete!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Each shared_ptr has independent control block</span></span>
<span class="line"></span></code></pre>
<p><strong>Never</strong> create multiple <code>shared_ptr</code> from the same raw pointer. Use <code>make_shared</code> or copy existing <code>shared_ptr</code>.</p>
<astro-island uid="fomGI" prefix="r20" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens when you copy a unique_ptr?&quot;],&quot;answers&quot;:[1,[[0,&quot;Both point to same object with reference counting&quot;],[0,&quot;Ownership transfers to the copy&quot;],[0,&quot;Compilation error&quot;],[0,&quot;Creates a deep copy&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;unique_ptr is non-copyable by design. Use std::move to transfer ownership or shared_ptr for shared ownership.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens when you copy a unique_ptr?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Both point to same object with reference counting</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Ownership transfers to the copy</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Compilation error</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Creates a deep copy</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="ZCQFOY" prefix="r21" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nclass Resource {\n    int id_;\npublic:\n    Resource(int id) : id_(id) { std::cout &lt;&lt; \&quot;Resource \&quot; &lt;&lt; id_ &lt;&lt; \&quot; created\\n\&quot;; }\n    ~Resource() { std::cout &lt;&lt; \&quot;Resource \&quot; &lt;&lt; id_ &lt;&lt; \&quot; destroyed\\n\&quot;; }\n    int id() const { return id_; }\n};\n\nint main() {\n    {\n        auto p1 = std::make_unique&lt;Resource&gt;(1);\n        auto p2 = std::make_shared&lt;Resource&gt;(2);\n        auto p3 = p2;  // Shared ownership\n        std::cout &lt;&lt; \&quot;Ref count: \&quot; &lt;&lt; p2.use_count() &lt;&lt; &#39;\\n&#39;;\n    }  // All destroyed here\n    std::cout &lt;&lt; \&quot;Scope exited\\n\&quot;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Resource 1 created\\nResource 2 created\\nRef count: 2\\nResource 1 destroyed\\nResource 2 destroyed\\nScope exited&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;memory&gt;

class Resource {
    int id_;
public:
    Resource(int id) : id_(id) { std::cout &lt;&lt; &quot;Resource &quot; &lt;&lt; id_ &lt;&lt; &quot; created\n&quot;; }
    ~Resource() { std::cout &lt;&lt; &quot;Resource &quot; &lt;&lt; id_ &lt;&lt; &quot; destroyed\n&quot;; }
    int id() const { return id_; }
};

int main() {
    {
        auto p1 = std::make_unique&lt;Resource&gt;(1);
        auto p2 = std::make_shared&lt;Resource&gt;(2);
        auto p3 = p2;  // Shared ownership
        std::cout &lt;&lt; &quot;Ref count: &quot; &lt;&lt; p2.use_count() &lt;&lt; &#x27;\n&#x27;;
    }  // All destroyed here
    std::cout &lt;&lt; &quot;Scope exited\n&quot;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>memory<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Resource <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">int</span> id_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    Resource<span class="hl-bracket">(</span><span class="hl-type">int</span> id<span class="hl-bracket">)</span> : id_<span class="hl-bracket">(</span>id<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Resource &quot;</span> <span class="hl-operator">&lt;&lt;</span> id_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; created\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-operator">~</span>Resource<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Resource &quot;</span> <span class="hl-operator">&lt;&lt;</span> id_ <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; destroyed\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">int</span> id<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> id_; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        <span class="hl-type">auto</span> p1 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>make_unique<span class="hl-operator">&lt;</span>Resource<span class="hl-operator">&gt;</span><span class="hl-bracket">(</span><span class="hl-number">1</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        <span class="hl-type">auto</span> p2 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>make_shared<span class="hl-operator">&lt;</span>Resource<span class="hl-operator">&gt;</span><span class="hl-bracket">(</span><span class="hl-number">2</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">        <span class="hl-type">auto</span> p3 <span class="hl-operator">=</span> p2;  <span class="hl-comment">// Shared ownership</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Ref count: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p2.use_count<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-bracket">}</span>  <span class="hl-comment">// All destroyed here</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Scope exited\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Move Semantics and Perfect Forwarding</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="move-semantics-avoiding-expensive-copies">Move Semantics: Avoiding Expensive Copies</h1>
<p>Before C++11, returning or passing large objects by value meant expensive copies. Move semantics allow transferring resources from temporary objects instead of copying them.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[s]), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Copy constructor (deep copy)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_, data_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move constructor (transfer ownership)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Buffer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">size_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="move-constructor-and-move-assignment">Move Constructor and Move Assignment</h2>
<p>Move operations should be <code>noexcept</code> when possible—this enables optimizations in standard containers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">name_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">          data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move assignment</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            name_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Note</strong>: <code>std::move</code> on member variables is necessary because a named rvalue reference (like <code>other</code>) is itself an lvalue!</p>
<h2 id="stdmove-unconditional-cast-to-rvalue">std::move: Unconditional Cast to Rvalue</h2>
<p><code>std::move</code> doesn’t move anything—it just casts its argument to an rvalue reference, enabling move semantics:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s1);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // s1&#39;s data moved to s2</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// s1 is now in &quot;valid but unspecified&quot; state</span></span>
<span class="line"></span></code></pre>
<p><strong>After <code>std::move</code></strong>: The object remains alive and destructible, but its value is unspecified. Only reassign or destroy it.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string t </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// s.clear();  // OK: Reset to known state</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// s = &quot;new&quot;;  // OK: Reassign</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// auto len = s.size();  // DANGEROUS: Value unspecified</span></span>
<span class="line"></span></code></pre>
<h2 id="move-only-types">Move-Only Types</h2>
<p>Some types cannot be copied, only moved: <code>unique_ptr</code>, <code>thread</code>, <code>iostream</code>, etc.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::unique_ptr&lt;int&gt; p2 = p1;  // Error: cannot copy</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p1);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: move</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Move into vector</span></span>
<span class="line"></span></code></pre>
<h2 id="return-value-optimization-rvo-and-nrvo">Return Value Optimization (RVO) and NRVO</h2>
<p>Compilers can elide copies/moves when returning by value:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> createWidget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Widget{};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // RVO: No move/copy, constructed directly in caller</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> createWidget2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Widget w;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> w;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // NRVO: Named Return Value Optimization (maybe)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Don’t <code>std::move</code> return values</strong>—it inhibits RVO:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> createWidget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Widget w;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(w);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // BAD: Prevents NRVO, forces move</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="perfect-forwarding-with-stdforward">Perfect Forwarding with std::forward</h2>
<p>When writing wrapper functions, you want to forward arguments exactly as received—preserving lvalue/rvalue-ness. This requires <strong>forwarding references</strong> (a.k.a. universal references).</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> arg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Forwarding reference</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    target</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(arg));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Perfect forwarding</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // T = int&amp;, arg forwarded as lvalue</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // T = int, arg forwarded as rvalue</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">wrapper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // T = int, arg forwarded as rvalue</span></span>
<span class="line"></span></code></pre>
<h3 id="forwarding-reference-rules">Forwarding Reference Rules</h3>
<p><code>T&amp;&amp;</code> is a forwarding reference only when:</p>
<ol>
<li><code>T</code> is a template type parameter</li>
<li>Type deduction occurs</li>
</ol>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Forwarding reference</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // NOT forwarding reference (no deduction for &amp;&amp;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // NOT forwarding reference (not a template)</span></span>
<span class="line"></span></code></pre>
<h2 id="variadic-template-forwarding">Variadic Template Forwarding</h2>
<p>Combining variadic templates with perfect forwarding:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(args)...));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">pair</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="when-to-use-move-vs-forward">When to Use Move vs Forward</h2>
<ul>
<li><strong>std::move</strong>: When you <em>know</em> you have an rvalue or want to treat something as rvalue</li>
<li><strong>std::forward</strong>: In templates, when you want to preserve the value category</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> arg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Use arg multiple times...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    target</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(arg));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Forward on last use</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="move-semantics-and-exception-safety">Move Semantics and Exception Safety</h2>
<p>Move operations should be <code>noexcept</code> when possible. Standard containers use move only if <code>noexcept</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> /* ... */</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> /* ... */</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Widget{});</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Uses move (noexcept)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// If move is not noexcept, vector uses copy (for strong exception guarantee)</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1LNFfH" prefix="r22" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does std::move actually do?&quot;],&quot;answers&quot;:[1,[[0,&quot;Moves the object to a new location&quot;],[0,&quot;Transfers ownership of resources&quot;],[0,&quot;Casts to rvalue reference&quot;],[0,&quot;Calls the move constructor&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;std::move is just a cast to rvalue reference. It enables move semantics but doesn&#39;t move anything itself.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does std::move actually do?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Moves the object to a new location</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Transfers ownership of resources</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Casts to rvalue reference</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Calls the move constructor</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="23OTHY" prefix="r23" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;utility&gt;\n#include &lt;string&gt;\n\nclass Holder {\n    std::string data_;\npublic:\n    Holder(std::string s) : data_(std::move(s)) {}\n    \n    Holder(const Holder&amp;) { std::cout &lt;&lt; \&quot;Copied\\n\&quot;; }\n    Holder(Holder&amp;&amp;) noexcept { std::cout &lt;&lt; \&quot;Moved\\n\&quot;; }\n    \n    Holder&amp; operator=(const Holder&amp;) { std::cout &lt;&lt; \&quot;Copy-assigned\\n\&quot;; return *this; }\n    Holder&amp; operator=(Holder&amp;&amp;) noexcept { std::cout &lt;&lt; \&quot;Move-assigned\\n\&quot;; return *this; }\n};\n\nint main() {\n    Holder h1(\&quot;hello\&quot;);\n    Holder h2 = h1;              // Copy\n    Holder h3 = std::move(h1);   // Move\n    h2 = h3;                     // Copy assign\n    h2 = std::move(h3);          // Move assign\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Copied\\nMoved\\nCopy-assigned\\nMove-assigned&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;string&gt;

class Holder {
    std::string data_;
public:
    Holder(std::string s) : data_(std::move(s)) {}
    
    Holder(const Holder&amp;) { std::cout &lt;&lt; &quot;Copied\n&quot;; }
    Holder(Holder&amp;&amp;) noexcept { std::cout &lt;&lt; &quot;Moved\n&quot;; }
    
    Holder&amp; operator=(const Holder&amp;) { std::cout &lt;&lt; &quot;Copy-assigned\n&quot;; return *this; }
    Holder&amp; operator=(Holder&amp;&amp;) noexcept { std::cout &lt;&lt; &quot;Move-assigned\n&quot;; return *this; }
};

int main() {
    Holder h1(&quot;hello&quot;);
    Holder h2 = h1;              // Copy
    Holder h3 = std::move(h1);   // Move
    h2 = h3;                     // Copy assign
    h2 = std::move(h3);          // Move assign
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>utility<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Holder <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> data_;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    Holder<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> s<span class="hl-bracket">)</span> : data_<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>move<span class="hl-bracket">(</span>s<span class="hl-bracket">)</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    Holder<span class="hl-bracket">(</span><span class="hl-keyword">const</span> Holder<span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Copied\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    Holder<span class="hl-bracket">(</span>Holder<span class="hl-operator">&amp;</span><span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> noexcept <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Moved\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    Holder<span class="hl-operator">&amp;</span> operator<span class="hl-operator">=</span><span class="hl-bracket">(</span><span class="hl-keyword">const</span> Holder<span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Copy-assigned\n&quot;</span>; <span class="hl-keyword">return</span> <span class="hl-operator">*</span><span class="hl-keyword">this</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    Holder<span class="hl-operator">&amp;</span> operator<span class="hl-operator">=</span><span class="hl-bracket">(</span>Holder<span class="hl-operator">&amp;</span><span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> noexcept <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Move-assigned\n&quot;</span>; <span class="hl-keyword">return</span> <span class="hl-operator">*</span><span class="hl-keyword">this</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    Holder h1<span class="hl-bracket">(</span><span class="hl-string">&quot;hello&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    Holder h2 <span class="hl-operator">=</span> h1;              <span class="hl-comment">// Copy</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    Holder h3 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>move<span class="hl-bracket">(</span>h1<span class="hl-bracket">)</span>;   <span class="hl-comment">// Move</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    h2 <span class="hl-operator">=</span> h3;                     <span class="hl-comment">// Copy assign</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    h2 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>move<span class="hl-bracket">(</span>h3<span class="hl-bracket">)</span>;          <span class="hl-comment">// Move assign</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Lambda Expressions</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="lambda-expressions-anonymous-functions">Lambda Expressions: Anonymous Functions</h1>
<p>C++11 introduced lambdas: inline anonymous function objects with concise syntax. Lambdas are extensively used with algorithms, callbacks, and asynchronous operations.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; };</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> sum</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Outputs: 7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v is now {5, 4, 3, 2, 1}</span></span>
<span class="line"></span></code></pre>
<h2 id="lambda-syntax">Lambda Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>[captures](parameters) specifiers -&gt; return_type { body }</span></span>
<span class="line"><span></span></span></code></pre>
<ul>
<li><strong>captures</strong>: Variables from enclosing scope</li>
<li><strong>parameters</strong>: Function parameters (optional, default <code>()</code>)</li>
<li><strong>specifiers</strong>: <code>mutable</code>, <code>constexpr</code>, <code>noexcept</code></li>
<li><strong>return_type</strong>: Can be deduced or explicit</li>
<li><strong>body</strong>: Function implementation</li>
</ul>
<h3 id="minimal-lambda">Minimal Lambda</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> f </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [] { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No parameters, deduced return type</span></span>
<span class="line"></span></code></pre>
<h2 id="capture-modes">Capture Modes</h2>
<p>Lambdas can capture variables from their enclosing scope:</p>
<h3 id="capture-by-value">Capture by Value</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Captures x by value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lambda</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Outputs: 20 (captured value at lambda creation)</span></span>
<span class="line"></span></code></pre>
<h3 id="capture-by-reference">Capture by Reference</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Captures x by reference</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lambda</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Outputs: 40 (current value of x)</span></span>
<span class="line"></span></code></pre>
<h3 id="mixed-captures">Mixed Captures</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">z</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // x and z by value, y by reference</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="default-captures">Default Captures</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Capture all by value</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Capture all by reference</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // All by value except b</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda4 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // All by reference except a</span></span>
<span class="line"></span></code></pre>
<p><strong>Warning</strong>: Capturing <code>[=]</code> doesn’t capture <code>this</code> in member functions (C++17 changed this). Prefer explicit captures.</p>
<h2 id="mutable-lambdas">Mutable Lambdas</h2>
<p>By default, value-captured variables are <code>const</code>. Use <code>mutable</code> to modify them:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() </span><span style="color:#D73A49;--shiki-dark:#C678DD">mutable</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Modifies lambda&#39;s copy of x</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 2</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // 0 (original x unchanged)</span></span>
<span class="line"></span></code></pre>
<h2 id="generic-lambdas-c14">Generic Lambdas (C++14)</h2>
<p>Parameters can use <code>auto</code> for generic types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> print </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Works with int</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Works with double</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Works with const char*</span></span>
<span class="line"></span></code></pre>
<p>Equivalent to a template function:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Lambda</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="init-captures-c14">Init Captures (C++14)</h2>
<p>Capture with initialization, enabling move-only types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">p</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr)]() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">p;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ptr is now nullptr, lambda owns the unique_ptr</span></span>
<span class="line"></span></code></pre>
<p>Rename and transform during capture:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">y</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // y is 10</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="return-type-deduction">Return Type Deduction</h2>
<p>Usually automatic, but can be explicit:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Deduced: int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) -&gt; </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Explicit: double</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2.5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p>Required when return type is ambiguous:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> flag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (flag)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    else</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2.5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // double - ERROR: inconsistent types</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Fix with explicit return type:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> flag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) -&gt; </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (flag) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    else</span><span style="color:#D73A49;--shiki-dark:#C678DD"> return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2.5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="lambda-type-and-stdfunction">Lambda Type and std::function</h2>
<p>Each lambda has a unique compiler-generated type. Use <code>auto</code> to store:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span></span>
<span class="line"></span></code></pre>
<p><code>std::function</code> provides type erasure but has overhead:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;functional&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::function</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> func </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// More flexible but slower than auto</span></span>
<span class="line"></span></code></pre>
<p><strong>Prefer <code>auto</code></strong> unless you need type erasure or reassignment.</p>
<h2 id="immediately-invoked-lambda-expression-iife">Immediately Invoked Lambda Expression (IIFE)</h2>
<p>Useful for complex initialization:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (condition1) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    else</span><span style="color:#D73A49;--shiki-dark:#C678DD"> if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (condition2) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    else</span><span style="color:#D73A49;--shiki-dark:#C678DD"> return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> default_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Immediately invoked</span></span>
<span class="line"></span></code></pre>
<h2 id="lambdas-with-algorithms">Lambdas with Algorithms</h2>
<p>Classic use case: predicates and projections</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove odd numbers</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                       [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Count elements &gt; 3</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> count </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">count_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                           [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z20clDu" prefix="r24" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does [=] capture in a member function (C++17+)?&quot;],&quot;answers&quot;:[1,[[0,&quot;All variables by value including this&quot;],[0,&quot;All variables by value excluding this&quot;],[0,&quot;All variables by reference&quot;],[0,&quot;Nothing&quot;]]],&quot;correctIndex&quot;:[0,0],&quot;explanation&quot;:[0,&quot;C++17 changed [=] to implicitly capture this in member functions. Use [=, this] or [=, *this] to be explicit.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does [=] capture in a member function (C++17+)?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">All variables by value including this</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">All variables by value excluding this</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">All variables by reference</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Nothing</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z2pQrle" prefix="r25" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nint main() {\n    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};\n    int threshold = 3;\n    \n    // Generic lambda with capture\n    auto filter = [threshold](const auto&amp; x) {\n        return x &gt; threshold;\n    };\n    \n    auto count = std::count_if(v.begin(), v.end(), filter);\n    std::cout &lt;&lt; \&quot;Elements &gt; \&quot; &lt;&lt; threshold &lt;&lt; \&quot;: \&quot; &lt;&lt; count &lt;&lt; &#39;\\n&#39;;\n    \n    // IIFE for initialization\n    const auto sum = [&amp;v]() {\n        int total = 0;\n        for (auto x : v) total += x;\n        return total;\n    }();\n    \n    std::cout &lt;&lt; \&quot;Sum: \&quot; &lt;&lt; sum &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Elements &gt; 3: 2\\nSum: 15&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

int main() {
    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
    int threshold = 3;
    
    // Generic lambda with capture
    auto filter = [threshold](const auto&amp; x) {
        return x &gt; threshold;
    };
    
    auto count = std::count_if(v.begin(), v.end(), filter);
    std::cout &lt;&lt; &quot;Elements &gt; &quot; &lt;&lt; threshold &lt;&lt; &quot;: &quot; &lt;&lt; count &lt;&lt; &#x27;\n&#x27;;
    
    // IIFE for initialization
    const auto sum = [&amp;v]() {
        int total = 0;
        for (auto x : v) total += x;
        return total;
    }();
    
    std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>algorithm<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> v <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">int</span> threshold <span class="hl-operator">=</span> <span class="hl-number">3</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-comment">// Generic lambda with capture</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">auto</span> filter <span class="hl-operator">=</span> <span class="hl-bracket">[</span>threshold<span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">auto</span><span class="hl-operator">&amp;</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> x <span class="hl-operator">&gt;</span> threshold;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">auto</span> count <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>count_if<span class="hl-bracket">(</span>v.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, v.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, filter<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Elements &gt; &quot;</span> <span class="hl-operator">&lt;&lt;</span> threshold <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;: &quot;</span> <span class="hl-operator">&lt;&lt;</span> count <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-comment">// IIFE for initialization</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-keyword">const</span> <span class="hl-type">auto</span> sum <span class="hl-operator">=</span> <span class="hl-bracket">[</span><span class="hl-operator">&amp;</span>v<span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">        <span class="hl-type">int</span> total <span class="hl-operator">=</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">        <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> x : v<span class="hl-bracket">)</span> total <span class="hl-operator">+</span><span class="hl-operator">=</span> x;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> total;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-bracket">}</span><span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Sum: &quot;</span> <span class="hl-operator">&lt;&lt;</span> sum <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Standard Template Library</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">STL Containers: Sequence Containers</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="sequence-containers-ordered-collections">Sequence Containers: Ordered Collections</h1>
<p>The STL provides several sequence containers, each with different performance characteristics. Choose based on access patterns and operation frequencies.</p>
<h2 id="stdvector-dynamic-array">std::vector: Dynamic Array</h2>
<p>Contiguous memory, random access, amortized O(1) push_back:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">emplace_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Construct in-place</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 15</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1) random access</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resize</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reserve</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pre-allocate capacity</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> elem : v) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> elem </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="capacity-vs-size">Capacity vs Size</h3>
<ul>
<li><strong>size()</strong>: Number of elements</li>
<li><strong>capacity()</strong>: Allocated storage</li>
<li><strong>reserve(n)</strong>: Ensure capacity ≥ n (doesn’t change size)</li>
<li><strong>resize(n)</strong>: Change size (may construct/destroy elements)</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reserve</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // capacity = 100, size = 0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resize</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">50</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // capacity = 100, size = 50 (elements default-constructed)</span></span>
<span class="line"></span></code></pre>
<h3 id="invalidation-rules">Invalidation Rules</h3>
<ul>
<li><strong>push_back</strong>: Invalidates all if reallocation occurs</li>
<li><strong>insert/erase</strong>: Invalidates from point of modification onward</li>
<li><strong>clear</strong>: Invalidates all iterators, size = 0, capacity unchanged</li>
</ul>
<h3 id="when-to-use-vector">When to Use vector</h3>
<ul>
<li>Default choice for sequence container</li>
<li>Need random access</li>
<li>Frequent access to elements</li>
<li>Size relatively stable or grows at end</li>
</ul>
<h2 id="stddeque-double-ended-queue">std::deque: Double-Ended Queue</h2>
<p>Like vector but efficient insertion/deletion at both ends:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::deque</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">d</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">d</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // O(1)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">d</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // O(1) random access</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">d</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop_front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // O(1)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">d</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // O(1)</span></span>
<span class="line"></span></code></pre>
<h3 id="implementation">Implementation</h3>
<p>Not contiguous memory—typically a sequence of fixed-size arrays (chunks). Random access is O(1) but slightly slower than vector.</p>
<h3 id="when-to-use-deque">When to Use deque</h3>
<ul>
<li>Need push/pop at both ends</li>
<li>Random access required</li>
<li>Don’t need pointer stability</li>
<li><strong>Used by std::stack and std::queue</strong></li>
</ul>
<h2 id="stdlist-doubly-linked-list">std::list: Doubly-Linked List</h2>
<p>Bidirectional list, O(1) insertion/deletion anywhere (if you have iterator):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lst </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Insert before 3: {1, 2, 10, 3, 4, 5}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Remove 3: {1, 2, 10, 4, 5}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h3 id="splice-operations">Splice Operations</h3>
<p>Move elements between lists in O(1):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> l1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> l2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">l1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">splice</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">l1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), l2);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Move all of l2 to end of l1</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// l1: {1, 2, 3, 4, 5, 6}, l2: {}</span></span>
<span class="line"></span></code></pre>
<h3 id="when-to-use-list">When to Use list</h3>
<ul>
<li>Frequent insertion/deletion in middle</li>
<li>No need for random access</li>
<li>Need iterator stability (iterators never invalidated except for erased elements)</li>
<li><strong>Rarely used in practice</strong> (cache-unfriendly)</li>
</ul>
<h2 id="stdforward_list-singly-linked-list">std::forward_list: Singly-Linked List</h2>
<p>Like list but single direction, smaller memory footprint:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::forward_list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fwd </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">fwd</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1)</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// No push_back (would be O(n))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> fwd</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">before_begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">fwd</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert_after</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Insert after position</span></span>
<span class="line"></span></code></pre>
<h3 id="when-to-use-forward_list">When to Use forward_list</h3>
<ul>
<li>Minimizing memory overhead matters</li>
<li>Only need forward iteration</li>
<li><strong>Very rare in practice</strong></li>
</ul>
<h2 id="stdarray-fixed-size-array">std::array: Fixed-Size Array</h2>
<p>Compile-time fixed size, no dynamic allocation:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::array</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">arr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1) access</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">arr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">at</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Bounds-checked access</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Size is part of type</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::array&lt;int, 5&gt; != std::array&lt;int, 6&gt;</span></span>
<span class="line"></span></code></pre>
<h3 id="array-vs-c-array">array vs C Array</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#E5C07B"> c_array</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // No bounds checking, decays to pointer</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::array</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Knows size, range-based for, STL algorithms</span></span>
<span class="line"></span></code></pre>
<h3 id="when-to-use-array">When to Use array</h3>
<ul>
<li>Fixed size known at compile time</li>
<li>Want STL container interface</li>
<li>Need to pass to functions without decay</li>
</ul>
<h2 id="performance-comparison">Performance Comparison</h2>















































<table><thead><tr><th style="text-align:left">Operation</th><th style="text-align:left">vector</th><th style="text-align:left">deque</th><th style="text-align:left">list</th><th style="text-align:left">forward_list</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Random Access</strong></td><td style="text-align:left">O(1)</td><td style="text-align:left">O(1)</td><td style="text-align:left">O(n)</td><td style="text-align:left">O(n)</td></tr><tr><td style="text-align:left"><strong>Insert/Delete Front</strong></td><td style="text-align:left">O(n)</td><td style="text-align:left">O(1)</td><td style="text-align:left">O(1)</td><td style="text-align:left">O(1)</td></tr><tr><td style="text-align:left"><strong>Insert/Delete Back</strong></td><td style="text-align:left">O(1)†</td><td style="text-align:left">O(1)</td><td style="text-align:left">O(1)</td><td style="text-align:left">O(n)</td></tr><tr><td style="text-align:left"><strong>Insert/Delete Middle</strong></td><td style="text-align:left">O(n)</td><td style="text-align:left">O(n)</td><td style="text-align:left">O(1)‡</td><td style="text-align:left">O(1)‡</td></tr><tr><td style="text-align:left"><strong>Memory</strong></td><td style="text-align:left">Contiguous</td><td style="text-align:left">Chunked</td><td style="text-align:left">Node</td><td style="text-align:left">Node</td></tr></tbody></table>
<p>† Amortized<br/>
‡ If you already have an iterator</p>
<astro-island uid="2dHwr5" prefix="r26" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Why is std::vector the default choice for sequence containers?&quot;],&quot;answers&quot;:[1,[[0,&quot;Always fastest for all operations&quot;],[0,&quot;Contiguous memory provides cache-friendly access&quot;],[0,&quot;Uses least memory&quot;],[0,&quot;Has most member functions&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Vector&#39;s contiguous memory layout is extremely cache-friendly, making most operations faster in practice despite theoretical complexity.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Why is std::vector the default choice for sequence containers?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Always fastest for all operations</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Contiguous memory provides cache-friendly access</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Uses least memory</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Has most member functions</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="1erSEw" prefix="r27" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;deque&gt;\n#include &lt;list&gt;\n\nint main() {\n    std::vector&lt;int&gt; v = {1, 2, 3};\n    v.push_back(4);\n    std::cout &lt;&lt; \&quot;vector: \&quot;;\n    for (auto x : v) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    std::deque&lt;int&gt; d = {1, 2, 3};\n    d.push_front(0);\n    d.push_back(4);\n    std::cout &lt;&lt; \&quot;deque: \&quot;;\n    for (auto x : d) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    std::list&lt;int&gt; l = {1, 2, 3};\n    l.push_front(0);\n    l.push_back(4);\n    std::cout &lt;&lt; \&quot;list: \&quot;;\n    for (auto x : l) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;vector: 1 2 3 4 \\ndeque: 0 1 2 3 4 \\nlist: 0 1 2 3 4 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;list&gt;

int main() {
    std::vector&lt;int&gt; v = {1, 2, 3};
    v.push_back(4);
    std::cout &lt;&lt; &quot;vector: &quot;;
    for (auto x : v) std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    std::deque&lt;int&gt; d = {1, 2, 3};
    d.push_front(0);
    d.push_back(4);
    std::cout &lt;&lt; &quot;deque: &quot;;
    for (auto x : d) std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    std::list&lt;int&gt; l = {1, 2, 3};
    l.push_front(0);
    l.push_back(4);
    std::cout &lt;&lt; &quot;list: &quot;;
    for (auto x : l) std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>deque<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>list<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> v <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    v.push_back<span class="hl-bracket">(</span><span class="hl-number">4</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;vector: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> x : v<span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>deque<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> d <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    d.push_front<span class="hl-bracket">(</span><span class="hl-number">0</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    d.push_back<span class="hl-bracket">(</span><span class="hl-number">4</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;deque: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> x : d<span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>list<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> l <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    l.push_front<span class="hl-bracket">(</span><span class="hl-number">0</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    l.push_back<span class="hl-bracket">(</span><span class="hl-number">4</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;list: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> x : l<span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">STL Containers: Associative Containers</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="associative-containers-key-based-lookup">Associative Containers: Key-Based Lookup</h1>
<p>Associative containers organize elements by key for fast lookup. Two families: <strong>ordered</strong> (red-black trees) and <strong>unordered</strong> (hash tables).</p>
<h2 id="stdset-unique-sorted-keys">std::set: Unique Sorted Keys</h2>
<p>Stores unique elements in sorted order:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // {1, 2, 5, 8} - duplicates removed</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(log n)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // O(log n)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(log n), returns 0 or 1</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Found 5</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(log n), returns iterator</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="iteration-order">Iteration Order</h3>
<p>Elements are always sorted:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : s) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Outputs: 1 2 3 4 5</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="custom-comparison">Custom Comparison</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> CompareByAge</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Person, CompareByAge</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> people;</span></span>
<span class="line"></span></code></pre>
<h2 id="stdmap-key-value-pairs">std::map: Key-Value Pairs</h2>
<p>Associates keys with values, sorted by key:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ages;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Bob&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Charlie&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">35</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">emplace</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;David&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">28</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 30</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// operator[] creates element if missing!</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Unknown&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Creates entry with value 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Use find to avoid creation:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Eve&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">); it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ages</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">second</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Not found</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="structured-bindings-c17">Structured Bindings (C++17)</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [name, age] : ages) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="stdmultiset-and-stdmultimap">std::multiset and std::multimap</h2>
<p>Allow duplicate keys:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::multiset</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ms </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ms</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::multimap</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mm;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">mm</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">90</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">mm</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">85</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Same key, different value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> range </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> mm</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">equal_range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">first</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">second</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">second</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 90 85</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="unordered-associative-containers-c11">Unordered Associative Containers (C++11)</h2>
<p>Hash table based: O(1) average, no ordering:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unordered_set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> us </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">us</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1) average</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Iteration order is arbitrary</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : us) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Unpredictable order</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unordered_map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> um;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">um</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1) average</span></span>
<span class="line"></span></code></pre>
<h3 id="custom-hash-function">Custom Hash Function</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> PersonHash</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::hash</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{}(</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#56B6C2">^</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::hash</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{}(</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> PersonEqual</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">name</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">age</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unordered_set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Person, PersonHash, PersonEqual</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> people;</span></span>
<span class="line"></span></code></pre>
<h2 id="ordered-vs-unordered-when-to-use">Ordered vs Unordered: When to Use</h2>



































<table><thead><tr><th style="text-align:left">Aspect</th><th style="text-align:left">Ordered (set/map)</th><th style="text-align:left">Unordered (unordered_set/map)</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Lookup</strong></td><td style="text-align:left">O(log n)</td><td style="text-align:left">O(1) average, O(n) worst</td></tr><tr><td style="text-align:left"><strong>Insertion</strong></td><td style="text-align:left">O(log n)</td><td style="text-align:left">O(1) average</td></tr><tr><td style="text-align:left"><strong>Iteration</strong></td><td style="text-align:left">Sorted order</td><td style="text-align:left">Arbitrary order</td></tr><tr><td style="text-align:left"><strong>Memory</strong></td><td style="text-align:left">Less overhead</td><td style="text-align:left">More overhead (buckets)</td></tr><tr><td style="text-align:left"><strong>Use When</strong></td><td style="text-align:left">Need sorted order, range queries</td><td style="text-align:left">Only need fast lookup</td></tr></tbody></table>
<p><strong>Default choice</strong>: <code>unordered_map/unordered_set</code> unless you need ordering.</p>
<h2 id="range-based-operations">Range-Based Operations</h2>
<p>Ordered containers support efficient range queries:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lower </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lower_bound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // First element &gt;= 3</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> upper </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">upper_bound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // First element &gt; 7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lower; it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> upper; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 3 4 5 6 7</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="transparent-comparators-c14">Transparent Comparators (C++14)</h2>
<p>Avoid creating temporary objects for lookup:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::less</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Note: std::less&lt;&gt; not std::less&lt;std::string&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Doesn&#39;t create std::string temporary</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1tBR03" prefix="r28" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens when you use operator[] on a map with a non-existent key?&quot;],&quot;answers&quot;:[1,[[0,&quot;Throws exception&quot;],[0,&quot;Returns nullptr&quot;],[0,&quot;Creates entry with default value&quot;],[0,&quot;Compilation error&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;operator[] creates a new entry with default-constructed value if the key doesn&#39;t exist. Use find() to avoid this.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens when you use operator[] on a map with a non-existent key?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Throws exception</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Returns nullptr</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Creates entry with default value</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Compilation error</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="pAeCy" prefix="r29" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;unordered_map&gt;\n#include &lt;string&gt;\n\nint main() {\n    std::map&lt;std::string, int&gt; ordered;\n    ordered[\&quot;zebra\&quot;] = 1;\n    ordered[\&quot;apple\&quot;] = 2;\n    ordered[\&quot;mango\&quot;] = 3;\n    \n    std::cout &lt;&lt; \&quot;Ordered map: \&quot;;\n    for (const auto&amp; [key, val] : ordered) {\n        std::cout &lt;&lt; key &lt;&lt; \&quot; \&quot;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    std::unordered_map&lt;std::string, int&gt; unordered;\n    unordered[\&quot;zebra\&quot;] = 1;\n    unordered[\&quot;apple\&quot;] = 2;\n    unordered[\&quot;mango\&quot;] = 3;\n    \n    std::cout &lt;&lt; \&quot;Unordered map: \&quot;;\n    for (const auto&amp; [key, val] : unordered) {\n        std::cout &lt;&lt; key &lt;&lt; \&quot; \&quot;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Ordered map: apple mango zebra \\nUnordered map: mango apple zebra &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;unordered_map&gt;
#include &lt;string&gt;

int main() {
    std::map&lt;std::string, int&gt; ordered;
    ordered[&quot;zebra&quot;] = 1;
    ordered[&quot;apple&quot;] = 2;
    ordered[&quot;mango&quot;] = 3;
    
    std::cout &lt;&lt; &quot;Ordered map: &quot;;
    for (const auto&amp; [key, val] : ordered) {
        std::cout &lt;&lt; key &lt;&lt; &quot; &quot;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    std::unordered_map&lt;std::string, int&gt; unordered;
    unordered[&quot;zebra&quot;] = 1;
    unordered[&quot;apple&quot;] = 2;
    unordered[&quot;mango&quot;] = 3;
    
    std::cout &lt;&lt; &quot;Unordered map: &quot;;
    for (const auto&amp; [key, val] : unordered) {
        std::cout &lt;&lt; key &lt;&lt; &quot; &quot;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>map<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>unordered_map<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>map<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span>, <span class="hl-type">int</span><span class="hl-operator">&gt;</span> ordered;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    ordered<span class="hl-bracket">[</span><span class="hl-string">&quot;zebra&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">1</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    ordered<span class="hl-bracket">[</span><span class="hl-string">&quot;apple&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">2</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    ordered<span class="hl-bracket">[</span><span class="hl-string">&quot;mango&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">3</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Ordered map: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">auto</span><span class="hl-operator">&amp;</span> <span class="hl-bracket">[</span>key, val<span class="hl-bracket">]</span> : ordered<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> key <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>unordered_map<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span>, <span class="hl-type">int</span><span class="hl-operator">&gt;</span> unordered;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    unordered<span class="hl-bracket">[</span><span class="hl-string">&quot;zebra&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">1</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    unordered<span class="hl-bracket">[</span><span class="hl-string">&quot;apple&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">2</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    unordered<span class="hl-bracket">[</span><span class="hl-string">&quot;mango&quot;</span><span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-number">3</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Unordered map: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">auto</span><span class="hl-operator">&amp;</span> <span class="hl-bracket">[</span>key, val<span class="hl-bracket">]</span> : unordered<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> key <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">STL Algorithms</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="stl-algorithms-iterator-based-operations">STL Algorithms: Iterator-Based Operations</h1>
<p>The <code>&lt;algorithm&gt;</code> header provides ~100 algorithms operating on iterator ranges, enabling generic operations on any container.</p>
<h2 id="non-modifying-algorithms">Non-Modifying Algorithms</h2>
<h3 id="find-find_if-find_if_not">find, find_if, find_if_not</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Found: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Finds first even number</span></span>
<span class="line"></span></code></pre>
<h3 id="count-count_if">count, count_if</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> even_count </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">count_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h3 id="all_of-any_of-none_of">all_of, any_of, none_of</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> all_positive </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">all_of</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> has_even </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">any_of</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> no_negatives </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">none_of</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h2 id="modifying-algorithms">Modifying Algorithms</h2>
<h3 id="copy-copy_if">copy, copy_if</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> src </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">dst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">src</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">src</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">src</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">dst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> evens;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">src</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">src</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(evens),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">             [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h3 id="transform">transform</h3>
<p>Apply function to each element:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">squared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">squared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">               [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// squared = {1, 4, 9, 16, 25}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Binary transform</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sum</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">sum</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">               [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// sum = {5, 7, 9}</span></span>
<span class="line"></span></code></pre>
<h3 id="fill-generate">fill, generate</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fill</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // All elements = 42</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">generate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), [</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n</span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v = {0, 1, 2, ..., 9}</span></span>
<span class="line"></span></code></pre>
<h3 id="remove-remove_if">remove, remove_if</h3>
<p><strong>Careful</strong>: Doesn’t actually remove, just moves elements to end:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> new_end </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                               [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(new_end, </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Actually erase</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v = {1, 3, 5}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Idiomatic erase-remove:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                       [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span></code></pre>
<p>C++20 added <code>std::erase_if</code> for convenience:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v, [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h2 id="sorting-and-partitioning">Sorting and Partitioning</h2>
<h3 id="sort-stable_sort-partial_sort">sort, stable_sort, partial_sort</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(n log n), unstable</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v = {1, 2, 5, 8, 9}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">greater</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Descending</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v = {9, 8, 5, 2, 1}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stable_sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Preserves relative order of equal elements</span></span>
<span class="line"></span></code></pre>
<h3 id="nth_element">nth_element</h3>
<p>Partially sorts so that nth element is in correct position:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">nth_element</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v[3] is the 4th smallest element</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Elements before v[3] are &lt;= v[3]</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Elements after v[3] are &gt;= v[3]</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Relative order not specified</span></span>
<span class="line"></span></code></pre>
<h3 id="partition">partition</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> pivot </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">partition</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                            [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Even numbers before pivot, odd after</span></span>
<span class="line"></span></code></pre>
<h2 id="binary-search-on-sorted-ranges">Binary Search (on sorted ranges)</h2>
<h3 id="lower_bound-upper_bound-equal_range">lower_bound, upper_bound, equal_range</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lower </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lower_bound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // First &gt;= 2</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> upper </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">upper_bound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // First &gt; 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">distance</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lower, upper);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Count of 2&#39;s: 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [first, last] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">equal_range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // C++17</span></span>
<span class="line"></span></code></pre>
<h3 id="binary_search">binary_search</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> found </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">binary_search</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(log n)</span></span>
<span class="line"></span></code></pre>
<h2 id="set-operations-on-sorted-ranges">Set Operations (on sorted ranges)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set_intersection</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">                      std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(result));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result = {3, 4, 5}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">clear</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set_union</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">               std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(result));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result = {1, 2, 3, 4, 5, 6, 7}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">clear</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set_difference</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">                    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(result));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result = {1, 2}</span></span>
<span class="line"></span></code></pre>
<h2 id="numeric-algorithms-numeric">Numeric Algorithms (<code>&lt;numeric&gt;</code>)</h2>
<h3 id="accumulate-reduce">accumulate, reduce</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">accumulate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 15</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> product </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">accumulate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">multiplies</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 120</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++17 reduce (parallel)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reduce</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">execution</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::par, </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span></code></pre>
<h3 id="partial_sum-adjacent_difference">partial_sum, adjacent_difference</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">partial_sum</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result = {1, 3, 6, 10, 15}  (cumulative sum)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">adjacent_difference</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result = {1, 1, 1, 1, 1}  (differences)</span></span>
<span class="line"></span></code></pre>
<astro-island uid="1R4NXl" prefix="r30" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does std::remove_if actually do?&quot;],&quot;answers&quot;:[1,[[0,&quot;Erases elements from container&quot;],[0,&quot;Moves matching elements to end and returns new logical end&quot;],[0,&quot;Returns count of removed elements&quot;],[0,&quot;Throws exception if predicate is true&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;remove_if doesn&#39;t erase—it reorders elements and returns an iterator to the new end. You must call erase() to actually remove them.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does std::remove_if actually do?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Erases elements from container</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Moves matching elements to end and returns new logical end</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Returns count of removed elements</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Throws exception if predicate is true</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="28hOCu" prefix="r31" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;numeric&gt;\n\nint main() {\n    std::vector&lt;int&gt; v = {5, 2, 8, 1, 9, 3};\n    \n    std::sort(v.begin(), v.end());\n    std::cout &lt;&lt; \&quot;Sorted: \&quot;;\n    for (auto x : v) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    auto it = std::find_if(v.begin(), v.end(), [](int x) { return x &gt; 5; });\n    if (it != v.end()) std::cout &lt;&lt; \&quot;First &gt; 5: \&quot; &lt;&lt; *it &lt;&lt; &#39;\\n&#39;;\n    \n    int sum = std::accumulate(v.begin(), v.end(), 0);\n    std::cout &lt;&lt; \&quot;Sum: \&quot; &lt;&lt; sum &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Sorted: 1 2 3 5 8 9 \\nFirst &gt; 5: 8\\nSum: 28&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;numeric&gt;

int main() {
    std::vector&lt;int&gt; v = {5, 2, 8, 1, 9, 3};
    
    std::sort(v.begin(), v.end());
    std::cout &lt;&lt; &quot;Sorted: &quot;;
    for (auto x : v) std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    auto it = std::find_if(v.begin(), v.end(), [](int x) { return x &gt; 5; });
    if (it != v.end()) std::cout &lt;&lt; &quot;First &gt; 5: &quot; &lt;&lt; *it &lt;&lt; &#x27;\n&#x27;;
    
    int sum = std::accumulate(v.begin(), v.end(), 0);
    std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>algorithm<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>numeric<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> v <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">5</span>, <span class="hl-number">2</span>, <span class="hl-number">8</span>, <span class="hl-number">1</span>, <span class="hl-number">9</span>, <span class="hl-number">3</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>sort<span class="hl-bracket">(</span>v.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, v.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Sorted: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> x : v<span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">auto</span> it <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>find_if<span class="hl-bracket">(</span>v.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, v.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, <span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">&gt;</span> <span class="hl-number">5</span>; <span class="hl-bracket">}</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>it <span class="hl-operator">!=</span> v.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;First &gt; 5: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>it <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-type">int</span> sum <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>accumulate<span class="hl-bracket">(</span>v.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, v.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, <span class="hl-number">0</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Sum: &quot;</span> <span class="hl-operator">&lt;&lt;</span> sum <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Iterators and Iterator Categories</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="iterators-the-glue-between-containers-and-algorithms">Iterators: The Glue Between Containers and Algorithms</h1>
<p>Iterators abstract the concept of position within a sequence, enabling algorithms to work with any container. They’re the foundation of generic programming in C++.</p>
<h2 id="iterator-categories">Iterator Categories</h2>
<p>Iterators form a hierarchy based on operations they support:</p>
<div class="my-12 flex flex-col items-center bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[2.5rem] overflow-hidden shadow-xl p-8 transition-colors"> <div class="text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em] mb-6 w-full text-center opacity-60">System Diagram</div> <div class="w-full flex justify-center overflow-x-auto dark:invert dark:hue-rotate-180 dark:brightness-110"> <?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="434px" preserveAspectRatio="none" style="width:340px;height:434px;" version="1.1" viewBox="0 0 340 434" width="340px" zoomAndPan="magnify"><defs/><g><!--entity input--><g class="entity" data-qualified-name="input" data-source-line="6" id="ent0002"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.0781" x="61.63" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.0781" x="71.63" y="29.9951">Input Iterator</text></g><!--entity forward--><g class="entity" data-qualified-name="forward" data-source-line="7" id="ent0003"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.873" x="51.23" y="103.29"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.873" x="61.23" y="126.2851">Forward Iterator</text></g><!--entity bidir--><g class="entity" data-qualified-name="bidir" data-source-line="8" id="ent0004"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.4502" x="35.94" y="199.59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.4502" x="45.94" y="222.5851">Bidirectional Iterator</text></g><!--entity random--><g class="entity" data-qualified-name="random" data-source-line="9" id="ent0005"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.7197" x="24.31" y="295.89"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.7197" x="34.31" y="318.8851">Random Access Iterator</text></g><!--entity output--><g class="entity" data-qualified-name="output" data-source-line="10" id="ent0006"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.458" x="209.44" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.458" x="219.44" y="29.9951">Output Iterator</text></g><!--entity contiguous--><g class="entity" data-qualified-name="contiguous" data-source-line="11" id="ent0007"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="222.3369" x="7" y="392.18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.3369" x="17" y="415.1751">Contiguous Iterator (C++20)</text></g><!--reverse link input to forward--><g class="link" data-entity-1="ent0002" data-entity-2="ent0003" data-link-type="extension" data-source-line="13" id="lnk8"><path d="M118.17,61.44 C118.17,78.35 118.17,85.96 118.17,102.94" fill="none" id="input-backto-forward" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="118.17,43.44,112.17,61.44,124.17,61.44,118.17,43.44" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link forward to bidir--><g class="link" data-entity-1="ent0003" data-entity-2="ent0004" data-link-type="extension" data-source-line="14" id="lnk9"><path d="M118.17,157.74 C118.17,174.64 118.17,182.25 118.17,199.23" fill="none" id="forward-backto-bidir" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="118.17,139.74,112.17,157.74,124.17,157.74,118.17,139.74" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link bidir to random--><g class="link" data-entity-1="ent0004" data-entity-2="ent0005" data-link-type="extension" data-source-line="15" id="lnk10"><path d="M118.17,254.03 C118.17,270.94 118.17,278.55 118.17,295.53" fill="none" id="bidir-backto-random" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="118.17,236.03,112.17,254.03,124.17,254.03,118.17,236.03" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link random to contiguous--><g class="link" data-entity-1="ent0005" data-entity-2="ent0007" data-link-type="extension" data-source-line="16" id="lnk11"><path d="M118.17,350.33 C118.17,367.24 118.17,374.85 118.17,391.83" fill="none" id="random-backto-contiguous" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="118.17,332.33,112.17,350.33,124.17,350.33,118.17,332.33" style="stroke:#181818;stroke-width:1;"/></g><?plantuml-src POz12i8m44NtESNWIX51NBlHWk1Ay0PZ4ckmdIcJ13SUtZRHDiLDGlvx6VxufwCE1LkueNxMmf5CnGqB147oFR8K5FXHymyq_79KmnqRRvMQKCl4-Y7Sslvpx95O7P3gniBYJ5qCS0vMCB0i03su8IgT4yiBnSojUmvBx-YC6vwE2PkvVHjGwLwH3BTmqDfwFtSbeLA-nF3NabDMMXLJS7NaECs3PRLUxxQhz4EFNAcq8-pVcysuoFVEOUwRpXpyIkNQAPhcVG00?></g></svg> </div> </div>
<h3 id="input-iterator">Input Iterator</h3>
<p>Read-only, single-pass:</p>
<ul>
<li><code>*it</code> (read)</li>
<li><code>++it</code>, <code>it++</code></li>
<li><code>==</code>, <code>!=</code></li>
</ul>
<p>Example: <code>std::istream_iterator</code></p>
<h3 id="output-iterator">Output Iterator</h3>
<p>Write-only, single-pass:</p>
<ul>
<li><code>*it = value</code> (write)</li>
<li><code>++it</code>, <code>it++</code></li>
</ul>
<p>Example: <code>std::ostream_iterator</code>, <code>std::back_inserter</code></p>
<h3 id="forward-iterator">Forward Iterator</h3>
<p>Multi-pass read/write:</p>
<ul>
<li>All input iterator operations</li>
<li><code>*it = value</code></li>
<li>Multi-pass guarantee</li>
</ul>
<p>Example: <code>std::forward_list::iterator</code></p>
<h3 id="bidirectional-iterator">Bidirectional Iterator</h3>
<p>Forward + backward:</p>
<ul>
<li>All forward iterator operations</li>
<li><code>--it</code>, <code>it--</code></li>
</ul>
<p>Example: <code>std::list::iterator</code>, <code>std::set::iterator</code></p>
<h3 id="random-access-iterator">Random Access Iterator</h3>
<p>Bidirectional + arithmetic:</p>
<ul>
<li>All bidirectional operations</li>
<li><code>it + n</code>, <code>it - n</code></li>
<li><code>it[n]</code></li>
<li><code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li>
</ul>
<p>Example: <code>std::vector::iterator</code>, <code>std::deque::iterator</code></p>
<h3 id="contiguous-iterator-c20">Contiguous Iterator (C++20)</h3>
<p>Random access + contiguous memory:</p>
<ul>
<li>Guarantees elements are in contiguous memory</li>
<li>Enables pointer arithmetic optimizations</li>
</ul>
<p>Example: <code>std::vector::iterator</code>, <code>std::array::iterator</code></p>
<h2 id="basic-iterator-operations">Basic Iterator Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Iterator to first element</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> end </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Past-the-end iterator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> end) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dereference</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Advance</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Range-based for is syntactic sugar for iterators</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : v) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="iterator-adapters">Iterator Adapters</h2>
<h3 id="back_inserter-front_inserter-inserter">back_inserter, front_inserter, inserter</h3>
<p>Convert containers into output iterators:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fill_n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v), </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pushes 5 copies of 42</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lst;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fill_n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">front_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lst), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pushes to front</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::set</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s, </span><span style="color:#24292E;--shiki-dark:#E5C07B">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()));</span></span>
<span class="line"></span></code></pre>
<h3 id="reverse_iterator">reverse_iterator</h3>
<p>Iterate backwards:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rbegin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 5 4 3 2 1</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="move_iterator">move_iterator</h3>
<p>Causes dereference to return rvalue reference:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v1;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">v2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_move_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_move_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v1&#39;s unique_ptrs moved to v2</span></span>
<span class="line"></span></code></pre>
<h2 id="stream-iterators">Stream Iterators</h2>
<h3 id="istream_iterator">istream_iterator</h3>
<p>Read from input stream:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">istringstream</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> iss</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;1 2 3 4 5&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">istream_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(iss),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">                   std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">istream_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;());</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// v = {1, 2, 3, 4, 5}</span></span>
<span class="line"></span></code></pre>
<h3 id="ostream_iterator">ostream_iterator</h3>
<p>Write to output stream:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">          std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ostream_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot; &quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Outputs: 1 2 3 4 5</span></span>
<span class="line"></span></code></pre>
<h2 id="iterator-utilities">Iterator Utilities</h2>
<h3 id="stdadvance">std::advance</h3>
<p>Move iterator by n positions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lst </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">advance</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Now points to 4</span></span>
<span class="line"></span></code></pre>
<h3 id="stddistance">std::distance</h3>
<p>Count elements between iterators:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> dist </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">distance</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">lst</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 5</span></span>
<span class="line"></span></code></pre>
<h3 id="stdnext-stdprev">std::next, std::prev</h3>
<p>Return advanced iterator without modifying original:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Points 2 positions ahead</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> prev </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">prev</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Points 1 position back</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-iterators">Custom Iterators</h2>
<p>Creating custom iterators requires defining specific operations based on category:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> current_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> end_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> iterator_category</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">forward_iterator_tag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> value_type</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> difference_type</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> pointer</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> reference</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value_; </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value_; </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> other); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> start</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">current_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(start), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(end) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Iterator</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(current_); }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Iterator</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(end_); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Usage:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 2 3 4 5</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="iterator-invalidation">Iterator Invalidation</h2>
<p>Different operations invalidate iterators differently:</p>



































<table><thead><tr><th style="text-align:left">Container</th><th style="text-align:left">Operation</th><th style="text-align:left">Invalidation</th></tr></thead><tbody><tr><td style="text-align:left"><strong>vector</strong></td><td style="text-align:left">push_back</td><td style="text-align:left">All if reallocation</td></tr><tr><td style="text-align:left"><strong>vector</strong></td><td style="text-align:left">insert/erase</td><td style="text-align:left">From point onward</td></tr><tr><td style="text-align:left"><strong>deque</strong></td><td style="text-align:left">push_back/front</td><td style="text-align:left">All (except end)</td></tr><tr><td style="text-align:left"><strong>list</strong></td><td style="text-align:left">insert/erase</td><td style="text-align:left">Only erased iterators</td></tr><tr><td style="text-align:left"><strong>map/set</strong></td><td style="text-align:left">insert/erase</td><td style="text-align:left">Only erased iterators</td></tr></tbody></table>
<astro-island uid="1iHRaU" prefix="r32" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Which iterator category do std::list iterators belong to?&quot;],&quot;answers&quot;:[1,[[0,&quot;Input Iterator&quot;],[0,&quot;Forward Iterator&quot;],[0,&quot;Bidirectional Iterator&quot;],[0,&quot;Random Access Iterator&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;std::list provides bidirectional iterators—you can move forward and backward but not jump by arbitrary amounts.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Which iterator category do std::list iterators belong to?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Input Iterator</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Forward Iterator</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Bidirectional Iterator</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Random Access Iterator</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="avgrt" prefix="r33" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n\nint main() {\n    std::vector&lt;int&gt; src = {1, 2, 3, 4, 5};\n    std::vector&lt;int&gt; dst;\n    \n    // Using back_inserter\n    std::copy(src.begin(), src.end(), std::back_inserter(dst));\n    \n    std::cout &lt;&lt; \&quot;Forward: \&quot;;\n    for (auto it = dst.begin(); it != dst.end(); ++it) {\n        std::cout &lt;&lt; *it &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    std::cout &lt;&lt; \&quot;Reverse: \&quot;;\n    for (auto it = dst.rbegin(); it != dst.rend(); ++it) {\n        std::cout &lt;&lt; *it &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Forward: 1 2 3 4 5 \\nReverse: 5 4 3 2 1 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;

int main() {
    std::vector&lt;int&gt; src = {1, 2, 3, 4, 5};
    std::vector&lt;int&gt; dst;
    
    // Using back_inserter
    std::copy(src.begin(), src.end(), std::back_inserter(dst));
    
    std::cout &lt;&lt; &quot;Forward: &quot;;
    for (auto it = dst.begin(); it != dst.end(); ++it) {
        std::cout &lt;&lt; *it &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    std::cout &lt;&lt; &quot;Reverse: &quot;;
    for (auto it = dst.rbegin(); it != dst.rend(); ++it) {
        std::cout &lt;&lt; *it &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>iterator<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>algorithm<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> src <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> dst;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-comment">// Using back_inserter</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>copy<span class="hl-bracket">(</span>src.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, src.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, <span class="hl-type">std</span><span class="hl-operator">::</span>back_inserter<span class="hl-bracket">(</span>dst<span class="hl-bracket">)</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Forward: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> it <span class="hl-operator">=</span> dst.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>; it <span class="hl-operator">!=</span> dst.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>; <span class="hl-operator">++</span>it<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>it <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Reverse: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> it <span class="hl-operator">=</span> dst.rbegin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>; it <span class="hl-operator">!=</span> dst.rend<span class="hl-bracket">(</span><span class="hl-bracket">)</span>; <span class="hl-operator">++</span>it<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>it <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Advanced Features</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Exception Handling</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="exception-handling-error-propagation-mechanism">Exception Handling: Error Propagation Mechanism</h1>
<p>Exceptions provide a structured way to handle errors, separating error handling from normal flow. When an exception is thrown, stack unwinding occurs: all local objects are destroyed until a matching catch handler is found.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;stdexcept&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::runtime_error</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Exception: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Unknown exception</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="standard-exception-hierarchy">Standard Exception Hierarchy</h2>
<p>All standard exceptions derive from <code>std::exception</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>std::exception</span></span>
<span class="line"><span>├── std::logic_error</span></span>
<span class="line"><span>│   ├── std::invalid_argument</span></span>
<span class="line"><span>│   ├── std::domain_error</span></span>
<span class="line"><span>│   ├── std::length_error</span></span>
<span class="line"><span>│   └── std::out_of_range</span></span>
<span class="line"><span>├── std::runtime_error</span></span>
<span class="line"><span>│   ├── std::range_error</span></span>
<span class="line"><span>│   ├── std::overflow_error</span></span>
<span class="line"><span>│   └── std::underflow_error</span></span>
<span class="line"><span>└── std::bad_alloc</span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">invalid_argument</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Invalid input&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">out_of_range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Index out of bounds&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">bad_alloc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Memory allocation failed</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-exceptions">Custom Exceptions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string filename_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> msg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : std::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(msg), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filename_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> filename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> filename_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> openFile</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    throw</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(name, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Failed to open file&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    openFile</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> FileError</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;File error in &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">              &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="exception-safety-guarantees">Exception Safety Guarantees</h2>
<p>Code can provide different levels of exception safety:</p>
<h3 id="1-no-throw-guarantee">1. No-Throw Guarantee</h3>
<p>Operation never throws (or only throws if program terminates):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(b);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(temp);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2-strong-exception-safety-transactional">2. Strong Exception Safety (Transactional)</h3>
<p>If an exception is thrown, program state is unchanged:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (size_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> capacity_) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Allocate new buffer</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> new_data </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[capacity_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Copy old data (might throw)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">uninitialized_copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(data_, data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_, new_data);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Only now commit changes (no-throw operations)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> new_data;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        capacity_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[size_</span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3-basic-exception-safety">3. Basic Exception Safety</h3>
<p>Invariants are preserved, no resources leak, but state may change:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Resource;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Potential leak if next line throws</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    risky_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better with RAII:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatic cleanup</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    risky_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="4-no-exception-safety">4. No Exception Safety</h3>
<p>Undefined behavior or resource leaks if exception thrown.</p>
<h2 id="raii-and-exception-safety">RAII and Exception Safety</h2>
<p>RAII (Resource Acquisition Is Initialization) ensures cleanup even during exceptions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(name, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">file_) </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Cannot open file&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (file_) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file_);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Always called during stack unwinding</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    FileHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FileHandle </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">f</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Use file...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Error&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // File automatically closed</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="the-noexcept-specifier">The noexcept Specifier</h2>
<p>Declares that a function won’t throw exceptions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> guaranteed</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // If an exception escapes, std::terminate is called</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#ABB2BF">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#ABB2BF">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a)))) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // noexcept if T&#39;s move constructor is noexcept</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Importance</strong>: <code>noexcept</code> enables optimizations. Standard containers use move operations only if <code>noexcept</code>.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // vector will use move</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Widget(Widget&amp;&amp;);  // vector will use copy instead (for safety)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="conditional-noexcept">Conditional noexcept</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#ABB2BF">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_nothrow_copy_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // noexcept if T is nothrow copyable</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="rethrowing-exceptions">Rethrowing Exceptions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    risky_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    log_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    throw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Rethrow same exception (preserves type)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// DON&#39;T do this:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    throw</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Slices exception to std::exception!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="function-try-blocks">Function try Blocks</h2>
<p>Handle exceptions in constructor initialization:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Resource r_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">r_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(name) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Function try block</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Constructor body</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Handle exception from r_ construction</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Note: Exception is always rethrown after this catch block</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="exception-specifications-deprecated">Exception Specifications (Deprecated)</h2>
<p>C++98 dynamic exception specifications are deprecated:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Deprecated, don&#39;t use</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Modern C++</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1QYXgC" prefix="r34" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens when an exception is thrown but not caught?&quot;],&quot;answers&quot;:[1,[[0,&quot;Program continues running&quot;],[0,&quot;Undefined behavior&quot;],[0,&quot;std::terminate is called&quot;],[0,&quot;Exception is ignored&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;If an exception is not caught, the program calls std::terminate(), which by default calls std::abort().&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens when an exception is thrown but not caught?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Program continues running</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Undefined behavior</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">std::terminate is called</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Exception is ignored</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z191vdV" prefix="r35" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\n#include &lt;memory&gt;\n\nclass Resource {\npublic:\n    Resource() { std::cout &lt;&lt; \&quot;Resource acquired\\n\&quot;; }\n    ~Resource() { std::cout &lt;&lt; \&quot;Resource released\\n\&quot;; }\n};\n\nvoid dangerous() {\n    auto r = std::make_unique&lt;Resource&gt;();\n    throw std::runtime_error(\&quot;Error!\&quot;);\n}\n\nint main() {\n    try {\n        dangerous();\n    } catch (const std::exception&amp; e) {\n        std::cout &lt;&lt; \&quot;Caught: \&quot; &lt;&lt; e.what() &lt;&lt; &#39;\\n&#39;;\n    }\n    std::cout &lt;&lt; \&quot;Program continues\\n\&quot;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Resource acquired\\nResource released\\nCaught: Error!\\nProgram continues&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

class Resource {
public:
    Resource() { std::cout &lt;&lt; &quot;Resource acquired\n&quot;; }
    ~Resource() { std::cout &lt;&lt; &quot;Resource released\n&quot;; }
};

void dangerous() {
    auto r = std::make_unique&lt;Resource&gt;();
    throw std::runtime_error(&quot;Error!&quot;);
}

int main() {
    try {
        dangerous();
    } catch (const std::exception&amp; e) {
        std::cout &lt;&lt; &quot;Caught: &quot; &lt;&lt; e.what() &lt;&lt; &#x27;\n&#x27;;
    }
    std::cout &lt;&lt; &quot;Program continues\n&quot;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>stdexcept<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>memory<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">class</span> Resource <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-keyword">public</span>:</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    Resource<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Resource acquired\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-operator">~</span>Resource<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Resource released\n&quot;</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-type">void</span> dangerous<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">auto</span> r <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>make_unique<span class="hl-operator">&lt;</span>Resource<span class="hl-operator">&gt;</span><span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-keyword">throw</span> <span class="hl-type">std</span><span class="hl-operator">::</span>runtime_error<span class="hl-bracket">(</span><span class="hl-string">&quot;Error!&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">try</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">        dangerous<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-bracket">}</span> <span class="hl-keyword">catch</span> <span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">std</span><span class="hl-operator">::</span>exception<span class="hl-operator">&amp;</span> e<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Caught: &quot;</span> <span class="hl-operator">&lt;&lt;</span> e.what<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Program continues\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Namespaces and Name Lookup</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="namespaces-organizing-code-and-avoiding-collisions">Namespaces: Organizing Code and Avoiding Collisions</h1>
<p>Namespaces prevent name collisions in large codebases by grouping related declarations under a common name.</p>
<h2 id="defining-namespaces">Defining Namespaces</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> graphics</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> draw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> physics</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Different from graphics::Shape</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> simulate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">graphics</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Shape s1;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">physics</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Shape s2;</span></span>
<span class="line"></span></code></pre>
<h2 id="nested-namespaces">Nested Namespaces</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> company</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> graphics</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> renderer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pipeline</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++17 shorthand:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> company</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">graphics</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">renderer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pipeline</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="using-declarations-and-directives">Using Declarations and Directives</h2>
<h3 id="using-declaration">using Declaration</h3>
<p>Introduces specific name:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> endl;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No std:: prefix needed</span></span>
<span class="line"></span></code></pre>
<h3 id="using-directive">using Directive</h3>
<p>Imports entire namespace (use sparingly):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // BAD: Pollutes global namespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// OK in implementation files with limited scope:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">chrono</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Limited to function scope</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> now </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> system_clock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">now</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Best Practice</strong>: Avoid <code>using namespace</code> in headers—it forces pollution on all includers.</p>
<h2 id="argument-dependent-lookup-adl">Argument-Dependent Lookup (ADL)</h2>
<p>Also called “Koenig Lookup”: when calling a function, the compiler searches namespaces of argument types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> w</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Widget w;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(w);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Finds lib::process via ADL (no lib:: needed!)</span></span>
<span class="line"></span></code></pre>
<h3 id="adl-examples">ADL Examples</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ADL finds std::sort</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Also works:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ADL looks in std:: because iterators are in std::</span></span>
<span class="line"></span></code></pre>
<h3 id="adl-pitfalls">ADL Pitfalls</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> main</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::swap;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Bring std::swap into scope</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a, b);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls std::swap (ADL + using declaration)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::CustomType x, y;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x, y);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls lib::swap via ADL</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="anonymous-namespaces">Anonymous Namespaces</h2>
<p>Provide internal linkage (like <code>static</code> in C):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Anonymous namespace</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> internal_helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// internal_helper is only visible in this translation unit</span></span>
<span class="line"></span></code></pre>
<p><strong>Use</strong>: Replace file-scope <code>static</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Old style:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Modern C++:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="inline-namespaces-c11">Inline Namespaces (C++11)</h2>
<p>Members of inline namespace are also members of enclosing namespace:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    inline</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> v2</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Calls lib::v2::func (inline namespace)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">v1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Explicitly call v1 version</span></span>
<span class="line"></span></code></pre>
<p><strong>Use Case</strong>: Versioning libraries while maintaining backward compatibility:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> mylib</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    inline</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> v3</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Current version</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> v2</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Old version still available</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">mylib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Widget w;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Uses v3</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">mylib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">v2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Widget w2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Uses v2</span></span>
<span class="line"></span></code></pre>
<h2 id="namespace-aliases">Namespace Aliases</h2>
<p>Shorten long namespace names:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> fs</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">filesystem</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> chrono</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">chrono</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;/home/user&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> now </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> chrono</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">system_clock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">now</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="using-in-class-scope">Using in Class Scope</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Base;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Inherit constructors</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::method;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Bring method into Derived scope</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="the-global-namespace">The Global Namespace</h2>
<p>Prefix <code>::</code> refers to global namespace:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Global</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> lib</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 20 (lib::value)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 10 (global value)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Never</strong> <code>using namespace</code> in headers</li>
<li>Prefer <code>using</code> declarations over directives</li>
<li>Use anonymous namespaces instead of file-scope <code>static</code></li>
<li>Namespace names should be lowercase</li>
<li>Avoid deeply nested namespaces (&gt;3 levels)</li>
<li>Use namespace aliases for long names</li>
</ol>
<astro-island uid="Zd4FsK" prefix="r36" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is Argument-Dependent Lookup (ADL)?&quot;],&quot;answers&quot;:[1,[[0,&quot;Looking up arguments in a function&quot;],[0,&quot;Searching namespaces of argument types for function names&quot;],[0,&quot;Finding function arguments automatically&quot;],[0,&quot;Resolving template arguments&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;ADL (Koenig Lookup) searches the namespaces of function arguments when resolving unqualified function calls.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is Argument-Dependent Lookup (ADL)?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Looking up arguments in a function</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Searching namespaces of argument types for function names</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Finding function arguments automatically</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Resolving template arguments</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="2w7PyJ" prefix="r37" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\nnamespace math {\n    struct Point { double x, y; };\n    \n    double distance(const Point&amp; p) {\n        return std::sqrt(p.x * p.x + p.y * p.y);\n    }\n}\n\nnamespace {\n    void internal_helper() {\n        std::cout &lt;&lt; \&quot;Internal function\\n\&quot;;\n    }\n}\n\nint main() {\n    math::Point p{3.0, 4.0};\n    \n    // ADL: finds math::distance because p is math::Point\n    std::cout &lt;&lt; \&quot;Distance: \&quot; &lt;&lt; distance(p) &lt;&lt; &#39;\\n&#39;;\n    \n    internal_helper();\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Internal function\\nDistance: 5&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

namespace math {
    struct Point { double x, y; };
    
    double distance(const Point&amp; p) {
        return std::sqrt(p.x * p.x + p.y * p.y);
    }
}

namespace {
    void internal_helper() {
        std::cout &lt;&lt; &quot;Internal function\n&quot;;
    }
}

int main() {
    math::Point p{3.0, 4.0};
    
    // ADL: finds math::distance because p is math::Point
    std::cout &lt;&lt; &quot;Distance: &quot; &lt;&lt; distance(p) &lt;&lt; &#x27;\n&#x27;;
    
    internal_helper();
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-keyword">namespace</span> math <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">    <span class="hl-keyword">struct</span> Point <span class="hl-bracket">{</span> <span class="hl-type">double</span> x, y; <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">double</span> distance<span class="hl-bracket">(</span><span class="hl-keyword">const</span> Point<span class="hl-operator">&amp;</span> p<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>sqrt<span class="hl-bracket">(</span>p.x <span class="hl-operator">*</span> p.x <span class="hl-operator">+</span> p.y <span class="hl-operator">*</span> p.y<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-keyword">namespace</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">void</span> internal_helper<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Internal function\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    math<span class="hl-operator">::</span>Point p<span class="hl-bracket">{</span><span class="hl-number">3</span>.<span class="hl-number">0</span>, <span class="hl-number">4</span>.<span class="hl-number">0</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-comment">// ADL: finds math::distance because p is math::Point</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Distance: &quot;</span> <span class="hl-operator">&lt;&lt;</span> distance<span class="hl-bracket">(</span>p<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    internal_helper<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Metaprogramming</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Type Traits and Compile-Time Programming</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="type-traits-compile-time-type-information">Type Traits: Compile-Time Type Information</h1>
<p>The <code>&lt;type_traits&gt;</code> header provides utilities for querying and transforming types at compile time, enabling sophisticated template metaprogramming.</p>
<h2 id="type-predicates">Type Predicates</h2>
<p>Query type properties at compile time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;type_traits&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_floating_point_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;float&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_pointer_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_array_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_class_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h3 id="common-type-predicates">Common Type Predicates</h3>













































<table><thead><tr><th style="text-align:left">Trait</th><th style="text-align:left">Checks</th></tr></thead><tbody><tr><td style="text-align:left"><code>is_void</code></td><td style="text-align:left">Type is void</td></tr><tr><td style="text-align:left"><code>is_integral</code></td><td style="text-align:left">Integer types</td></tr><tr><td style="text-align:left"><code>is_floating_point</code></td><td style="text-align:left">float, double, long double</td></tr><tr><td style="text-align:left"><code>is_arithmetic</code></td><td style="text-align:left">Integral or floating-point</td></tr><tr><td style="text-align:left"><code>is_pointer</code></td><td style="text-align:left">Pointer type</td></tr><tr><td style="text-align:left"><code>is_reference</code></td><td style="text-align:left">Lvalue or rvalue reference</td></tr><tr><td style="text-align:left"><code>is_const</code></td><td style="text-align:left">Const-qualified</td></tr><tr><td style="text-align:left"><code>is_class</code></td><td style="text-align:left">Class or struct</td></tr><tr><td style="text-align:left"><code>is_enum</code></td><td style="text-align:left">Enumeration type</td></tr></tbody></table>
<h2 id="type-relationships">Type Relationships</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_same_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, int&gt;);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_same_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, long&gt;);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_base_of_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Base, Derived&gt;);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_convertible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Derived</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, Base*&gt;);</span></span>
<span class="line"></span></code></pre>
<h2 id="type-transformations">Type Transformations</h2>
<p>Modify types at compile time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove const/volatile</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T1</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">remove_const_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">remove_cv_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> volatile</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Add const/volatile</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T3</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">add_const_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // const int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove reference</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T4</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">remove_reference_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T5</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">remove_reference_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove pointer</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T6</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">remove_pointer_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Decay (array/function to pointer, remove cv/reference)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T7</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">decay_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int*</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T8</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">decay_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // int</span></span>
<span class="line"></span></code></pre>
<h2 id="compile-time-conditionals">Compile-Time Conditionals</h2>
<h3 id="stdconditional">std::conditional</h3>
<p>Choose type based on condition:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> StorageType</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">conditional_t</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">StorageType</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // int (small)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">StorageType</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">BigClass</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // BigClass* (large)</span></span>
<span class="line"></span></code></pre>
<h3 id="stdenable_if-sfinae">std::enable_if (SFINAE)</h3>
<p>Enable function/class only if condition is true:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Only enable for integral types</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">enable_if_t</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T value) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // OK</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// square(3.14);  // Error: SFINAE&#39;d out</span></span>
<span class="line"></span></code></pre>
<h2 id="constructibility-and-assignability">Constructibility and Assignability</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_default_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_copy_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_move_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_copy_assignable_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Nothrow versions</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_nothrow_move_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-example-generic-swap">Practical Example: Generic Swap</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> my_swap</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#ABB2BF">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_nothrow_move_constructible_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">                                   std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_nothrow_move_assignable_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(b);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(temp);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="if-constexpr-c17">if constexpr (C++17)</h2>
<p>Compile-time conditional branches:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_pointer_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">t;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dereference pointer</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> t;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Return value directly</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dereferences, returns 42</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Returns 42 directly</span></span>
<span class="line"></span></code></pre>
<h3 id="discarded-branches">Discarded Branches</h3>
<p>Code in discarded branches doesn’t need to be valid:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only instantiated for integral types</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">toString</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only instantiated for types with toString()</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="tag-dispatching">Tag Dispatching</h2>
<p>Alternative to SFINAE using type tags:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> advance_impl</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">random_access_iterator_tag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    it </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(1) for random access</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> advance_impl</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">input_iterator_tag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n</span><span style="color:#D73A49;--shiki-dark:#C678DD">--</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // O(n) for input iterators</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> advance</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    advance_impl</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(it, n, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">iterator_traits</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">iterator_category</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="compile-time-assertions">Compile-Time Assertions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_trivially_copyable_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379">                  &quot;T must be trivially copyable&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 64</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379">                  &quot;T is too large for inline storage&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T </span><span style="color:#24292E;--shiki-dark:#E5C07B">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="void_t-detecting-members">void_t: Detecting Members</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> void&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> has_value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : std::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">false_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> has_value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">void_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">true_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">has_value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;::value);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">has_value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::value);</span></span>
<span class="line"></span></code></pre>
<astro-island uid="ZIDbC8" prefix="r38" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does std::decay_t do to a type?&quot;],&quot;answers&quot;:[1,[[0,&quot;Removes const qualifier only&quot;],[0,&quot;Converts arrays/functions to pointers and removes cv/ref qualifiers&quot;],[0,&quot;Makes type smaller&quot;],[0,&quot;Converts to base type&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;decay_t performs array-to-pointer and function-to-pointer conversions and removes cv and reference qualifiers.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does std::decay_t do to a type?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Removes const qualifier only</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Converts arrays/functions to pointers and removes cv/ref qualifiers</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Makes type smaller</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Converts to base type</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z2agxk7" prefix="r39" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\ntemplate&lt;typename T&gt;\nvoid check_type(T value) {\n    if constexpr (std::is_integral_v&lt;T&gt;) {\n        std::cout &lt;&lt; \&quot;Integral: \&quot; &lt;&lt; value * 2 &lt;&lt; &#39;\\n&#39;;\n    } else if constexpr (std::is_floating_point_v&lt;T&gt;) {\n        std::cout &lt;&lt; \&quot;Floating: \&quot; &lt;&lt; value / 2 &lt;&lt; &#39;\\n&#39;;\n    } else {\n        std::cout &lt;&lt; \&quot;Other type\\n\&quot;;\n    }\n}\n\nint main() {\n    check_type(42);\n    check_type(3.14);\n    check_type(\&quot;hello\&quot;);\n    \n    static_assert(std::is_same_v&lt;std::decay_t&lt;int&amp;&gt;, int&gt;);\n    std::cout &lt;&lt; \&quot;All assertions passed\\n\&quot;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Integral: 84\\nFloating: 1.57\\nOther type\\nAll assertions passed&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;type_traits&gt;

template&lt;typename T&gt;
void check_type(T value) {
    if constexpr (std::is_integral_v&lt;T&gt;) {
        std::cout &lt;&lt; &quot;Integral: &quot; &lt;&lt; value * 2 &lt;&lt; &#x27;\n&#x27;;
    } else if constexpr (std::is_floating_point_v&lt;T&gt;) {
        std::cout &lt;&lt; &quot;Floating: &quot; &lt;&lt; value / 2 &lt;&lt; &#x27;\n&#x27;;
    } else {
        std::cout &lt;&lt; &quot;Other type\n&quot;;
    }
}

int main() {
    check_type(42);
    check_type(3.14);
    check_type(&quot;hello&quot;);
    
    static_assert(std::is_same_v&lt;std::decay_t&lt;int&amp;&gt;, int&gt;);
    std::cout &lt;&lt; &quot;All assertions passed\n&quot;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>type_traits<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span><span class="hl-keyword">typename</span> T<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">void</span> check_type<span class="hl-bracket">(</span>T value<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-keyword">constexpr</span> <span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>is_integral_v<span class="hl-operator">&lt;</span>T<span class="hl-operator">&gt;</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Integral: &quot;</span> <span class="hl-operator">&lt;&lt;</span> value <span class="hl-operator">*</span> <span class="hl-number">2</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-bracket">}</span> <span class="hl-keyword">else</span> <span class="hl-keyword">if</span> <span class="hl-keyword">constexpr</span> <span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>is_floating_point_v<span class="hl-operator">&lt;</span>T<span class="hl-operator">&gt;</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Floating: &quot;</span> <span class="hl-operator">&lt;&lt;</span> value <span class="hl-operator">/</span> <span class="hl-number">2</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-bracket">}</span> <span class="hl-keyword">else</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Other type\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    check_type<span class="hl-bracket">(</span><span class="hl-number">42</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    check_type<span class="hl-bracket">(</span><span class="hl-number">3</span>.<span class="hl-number">14</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    check_type<span class="hl-bracket">(</span><span class="hl-string">&quot;hello&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    static_assert<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>is_same_v<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>decay_t<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&amp;</span><span class="hl-operator">&gt;</span>, <span class="hl-type">int</span><span class="hl-operator">&gt;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;All assertions passed\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Concurrency</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Multithreading Basics</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="multithreading-concurrent-execution">Multithreading: Concurrent Execution</h1>
<p>C++11 introduced a standard threading library (<code>&lt;thread&gt;</code>), enabling portable concurrent programming without platform-specific APIs.</p>
<h2 id="creating-threads">Creating Threads</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;thread&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> id</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Thread &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> id </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; executing</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> main</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::thread </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::thread </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Wait for t1 to finish</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Wait for t2 to finish</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="thread-operations">Thread Operations</h2>
<h3 id="join-vs-detach">Join vs Detach</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Option 1: Join (wait for completion)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Blocks until thread completes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Option 2: Detach (independent execution)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">detach</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Thread runs independently</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Cannot join() after detach()</span></span>
<span class="line"></span></code></pre>
<p><strong>Critical</strong>: Every thread must be either joined or detached before destruction, otherwise <code>std::terminate</code> is called.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::thread </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // CRASH: thread destructor called without join/detach</span></span>
<span class="line"></span></code></pre>
<h3 id="thread-guard-raii">Thread Guard RAII</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> thread_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::thread</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> t_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> thread_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">t_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(t) {}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~thread_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">t_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">joinable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) </span><span style="color:#24292E;--shiki-dark:#E5C07B">t_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    thread_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> thread_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    thread_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> thread_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::thread </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    thread_guard </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">g</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(t);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Even if exception thrown, thread is joined</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="passing-arguments">Passing Arguments</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Args passed by value</span></span>
<span class="line"></span></code></pre>
<h3 id="reference-arguments">Reference Arguments</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> modify</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">modify</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ref</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(value));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must use std::ref</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 100</span></span>
<span class="line"></span></code></pre>
<h2 id="data-races-and-undefined-behavior">Data Races and Undefined Behavior</h2>
<p>Concurrent modification of shared data without synchronization causes <strong>data races</strong> (undefined behavior):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">counter;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // DATA RACE!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Unpredictable result (&lt; 200000)</span></span>
<span class="line"></span></code></pre>
<h2 id="mutexes-mutual-exclusion">Mutexes: Mutual Exclusion</h2>
<p><code>std::mutex</code> provides mutual exclusion:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;mutex&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex mtx;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        mtx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">counter;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        mtx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Problem</strong>: If exception thrown between lock/unlock, mutex stays locked (deadlock).</p>
<h2 id="lock-guards-raii-for-mutexes">Lock Guards: RAII for Mutexes</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex mtx;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Locks mutex</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">counter;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatically unlocks when lock goes out of scope</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="unique_lock-flexible-locking">unique_lock: Flexible Locking</h2>
<p>More flexible than <code>lock_guard</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex mtx;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_lock</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Do work...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Manually unlock</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Do work without lock...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Relock</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // More work...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatically unlocks if locked</span></span>
<span class="line"></span></code></pre>
<h3 id="deferred-locking">Deferred Locking</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mutex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mtx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">defer_lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Don&#39;t lock yet</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Lock when ready</span></span>
<span class="line"></span></code></pre>
<h2 id="avoiding-deadlocks">Avoiding Deadlocks</h2>
<h3 id="deadlock-example">Deadlock Example</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex m1, m2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> thread1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m1);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m2);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Potential deadlock</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> thread2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m2);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m1);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Opposite order</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="solution-stdlock">Solution: std::lock</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> thread1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_lock</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m1, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::defer_lock);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_lock</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m2, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::defer_lock);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock1, lock2);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Atomically locks both, deadlock-free</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>C++17 <code>std::scoped_lock</code> simplifies this:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> thread1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::scoped_lock </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(m1, m2);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Locks both, unlocks in destructor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="thread-identification">Thread Identification</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">thread</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::id main_thread_id </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">this_thread</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_id</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> id </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">this_thread</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_id</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Thread ID: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> id </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="hardware-concurrency">Hardware Concurrency</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">unsigned</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">hardware_concurrency</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hardware supports &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; concurrent threads</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1yMkkV" prefix="r40" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What happens if a thread object is destroyed without calling join() or detach()?&quot;],&quot;answers&quot;:[1,[[0,&quot;Thread continues running&quot;],[0,&quot;Thread is automatically joined&quot;],[0,&quot;std::terminate is called&quot;],[0,&quot;Undefined behavior&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;If a thread is still joinable when its destructor runs, std::terminate() is called to avoid silent errors.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What happens if a thread object is destroyed without calling join() or detach()?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Thread continues running</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Thread is automatically joined</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">std::terminate is called</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Undefined behavior</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z2g5ww9" prefix="r41" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;mutex&gt;\n#include &lt;vector&gt;\n\nstd::mutex mtx;\nint counter = 0;\n\nvoid increment(int count) {\n    for (int i = 0; i &lt; count; ++i) {\n        std::lock_guard&lt;std::mutex&gt; lock(mtx);\n        ++counter;\n    }\n}\n\nint main() {\n    const int iterations = 10000;\n    std::vector&lt;std::thread&gt; threads;\n    \n    for (int i = 0; i &lt; 4; ++i) {\n        threads.emplace_back(increment, iterations);\n    }\n    \n    for (auto&amp; t : threads) {\n        t.join();\n    }\n    \n    std::cout &lt;&lt; \&quot;Counter: \&quot; &lt;&lt; counter &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;Expected: \&quot; &lt;&lt; (4 * iterations) &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Counter: 40000\\nExpected: 40000&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;thread&gt;
#include &lt;mutex&gt;
#include &lt;vector&gt;

std::mutex mtx;
int counter = 0;

void increment(int count) {
    for (int i = 0; i &lt; count; ++i) {
        std::lock_guard&lt;std::mutex&gt; lock(mtx);
        ++counter;
    }
}

int main() {
    const int iterations = 10000;
    std::vector&lt;std::thread&gt; threads;
    
    for (int i = 0; i &lt; 4; ++i) {
        threads.emplace_back(increment, iterations);
    }
    
    for (auto&amp; t : threads) {
        t.join();
    }
    
    std::cout &lt;&lt; &quot;Counter: &quot; &lt;&lt; counter &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;Expected: &quot; &lt;&lt; (4 * iterations) &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>thread<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>mutex<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">std</span><span class="hl-operator">::</span>mutex mtx;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-type">int</span> counter <span class="hl-operator">=</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-type">void</span> increment<span class="hl-bracket">(</span><span class="hl-type">int</span> count<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> count; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span>lock_guard<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>mutex<span class="hl-operator">&gt;</span> lock<span class="hl-bracket">(</span>mtx<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">        <span class="hl-operator">++</span>counter;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">const</span> <span class="hl-type">int</span> iterations <span class="hl-operator">=</span> <span class="hl-number">10000</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>thread<span class="hl-operator">&gt;</span> threads;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> <span class="hl-number">4</span>; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">        threads.emplace_back<span class="hl-bracket">(</span>increment, iterations<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span><span class="hl-operator">&amp;</span> t : threads<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">        t.join<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Counter: &quot;</span> <span class="hl-operator">&lt;&lt;</span> counter <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Expected: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span><span class="hl-number">4</span> <span class="hl-operator">*</span> iterations<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">32</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Atomic Operations and Memory Ordering</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="atomic-operations-lock-free-synchronization">Atomic Operations: Lock-Free Synchronization</h1>
<p>The <code>&lt;atomic&gt;</code> header provides atomic operations—indivisible operations that appear to occur instantaneously to other threads, without requiring mutexes.</p>
<h2 id="stdatomic-basics">std::atomic Basics</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;atomic&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">counter;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Atomic increment (no mutex needed)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Guaranteed to be 200000</span></span>
<span class="line"></span></code></pre>
<h2 id="atomic-operations">Atomic Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x{</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // Atomic write</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Atomic read</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> old </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">exchange</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Atomic swap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Compare-and-swap</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> expected </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> success </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_strong</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(expected, </span><span style="color:#005CC5;--shiki-dark:#D19A66">40</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// If x == expected, sets x = 40 and returns true</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Otherwise, sets expected = x and returns false</span></span>
<span class="line"></span></code></pre>
<h2 id="lock-free-property">Lock-Free Property</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_lock_free</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;True atomic (no locks)</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Uses mutex internally</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Compile-time check (C++17)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">atomic</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::is_always_lock_free);</span></span>
<span class="line"></span></code></pre>
<p>Most standard types are lock-free on modern architectures:</p>
<ul>
<li><code>atomic&lt;int&gt;</code>, <code>atomic&lt;long&gt;</code>: Usually lock-free</li>
<li><code>atomic&lt;std::string&gt;</code>: Not lock-free (too large)</li>
<li><code>atomic&lt;bool&gt;</code>, <code>atomic&lt;char&gt;</code>: Always lock-free</li>
</ul>
<h2 id="memory-ordering">Memory Ordering</h2>
<p>The C++ memory model defines how operations on different threads are ordered. Six memory ordering modes:</p>
<h3 id="1-memory_order_relaxed">1. memory_order_relaxed</h3>
<p>No synchronization, only atomicity:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, y{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Thread 1</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Thread 2</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// a=2, b=0 is possible! (reordering allowed)</span></span>
<span class="line"></span></code></pre>
<p><strong>Use</strong>: Independent counters, statistics</p>
<h3 id="2-memory_order_acquire-and-memory_order_release">2. memory_order_acquire and memory_order_release</h3>
<p>Establishes happens-before relationship:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;bool&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ready{</span><span style="color:#005CC5;--shiki-dark:#D19A66">false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Producer thread</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">data </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Non-atomic write</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">ready</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_release);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Release</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Consumer thread</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#E5C07B">ready</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_acquire)) {}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Acquire</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Guaranteed to see 42</span></span>
<span class="line"></span></code></pre>
<p><strong>Release-acquire pair</strong> synchronizes: all writes before release are visible after acquire.</p>
<h3 id="3-memory_order_acq_rel">3. memory_order_acq_rel</h3>
<p>Both acquire and release:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> prev </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_acq_rel);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Acquires previous value, releases new value</span></span>
<span class="line"></span></code></pre>
<h3 id="4-memory_order_seq_cst-default">4. memory_order_seq_cst (Default)</h3>
<p>Sequentially consistent: total global order:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, y{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Thread 1</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Default: memory_order_seq_cst</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Thread 2</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// If a == 2, then b must == 1 (total order guaranteed)</span></span>
<span class="line"></span></code></pre>
<p><strong>Most expensive</strong> but easiest to reason about. Default for most operations.</p>
<h3 id="5-memory_order_consume-deprecated">5. memory_order_consume (Deprecated)</h3>
<p>Like acquire but weaker (rarely used, complex semantics).</p>
<h2 id="compare-exchange">Compare-Exchange</h2>
<p>Fundamental building block for lock-free algorithms:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> expected </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#E5C07B">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_weak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(expected, expected </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // expected was updated to current value, retry</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="strong-vs-weak-cas">Strong vs Weak CAS</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Strong: Only fails if value != expected</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_strong</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(expected, desired);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Weak: May spuriously fail even if value == expected</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// (Faster on some architectures)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_weak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(expected, desired);</span></span>
<span class="line"></span></code></pre>
<p>Use <code>_weak</code> in loops (spurious failures don’t matter).</p>
<h2 id="atomic-flags">Atomic Flags</h2>
<p>Simplest atomic type, guaranteed lock-free:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic_flag flag </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ATOMIC_FLAG_INIT;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> was_set </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> flag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">test_and_set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Atomically set to true, return old value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">flag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">clear</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Set to false</span></span>
<span class="line"></span></code></pre>
<h3 id="spinlock-implementation">Spinlock Implementation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> spinlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic_flag flag_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ATOMIC_FLAG_INIT;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">flag_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">test_and_set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_acquire)) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // Spin until lock acquired</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> unlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        flag_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">clear</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_release);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Warning</strong>: Spinlocks waste CPU cycles. Use for very short critical sections only.</p>
<h2 id="lock-free-stack-example">Lock-Free Stack Example</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> lock_free_stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T data;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> head_{</span><span style="color:#005CC5;--shiki-dark:#D19A66">nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> new_node </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Node{value, </span><span style="color:#24292E;--shiki-dark:#E5C07B">head_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#E5C07B">head_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_weak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">new_node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, new_node)) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // Retry with updated head</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> old_head </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> head_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (old_head </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">head_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compare_exchange_weak</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(old_head, </span><span style="color:#24292E;--shiki-dark:#E5C07B">old_head</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // Retry</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (old_head) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> old_head</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> old_head;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<p><strong>Caution</strong>: Lock-free programming is extremely difficult. Prefer mutexes unless profiling shows they’re a bottleneck.</p>
<h2 id="when-to-use-atomics-vs-mutexes">When to Use Atomics vs Mutexes</h2>

























<table><thead><tr><th style="text-align:left">Use Atomics When</th><th style="text-align:left">Use Mutexes When</th></tr></thead><tbody><tr><td style="text-align:left">Single variable</td><td style="text-align:left">Multiple variables</td></tr><tr><td style="text-align:left">Simple operations</td><td style="text-align:left">Complex critical sections</td></tr><tr><td style="text-align:left">Performance critical</td><td style="text-align:left">Simplicity matters</td></tr><tr><td style="text-align:left">Lock-free required</td><td style="text-align:left">Standard case</td></tr></tbody></table>
<astro-island uid="Z15W9fn" prefix="r42" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the default memory ordering for atomic operations?&quot;],&quot;answers&quot;:[1,[[0,&quot;memory_order_relaxed&quot;],[0,&quot;memory_order_acquire&quot;],[0,&quot;memory_order_seq_cst&quot;],[0,&quot;memory_order_release&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;memory_order_seq_cst (sequentially consistent) is the default, providing the strongest guarantees but potentially lower performance.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the default memory ordering for atomic operations?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">memory_order_relaxed</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">memory_order_acquire</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">memory_order_seq_cst</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">memory_order_release</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="1bsAO8" prefix="r43" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;atomic&gt;\n#include &lt;thread&gt;\n#include &lt;vector&gt;\n\nstd::atomic&lt;long&gt; counter{0};\n\nvoid increment(int count) {\n    for (int i = 0; i &lt; count; ++i) {\n        counter.fetch_add(1, std::memory_order_relaxed);\n    }\n}\n\nint main() {\n    std::cout &lt;&lt; \&quot;atomic&lt;long&gt; is lock-free: \&quot; \n              &lt;&lt; std::boolalpha &lt;&lt; counter.is_lock_free() &lt;&lt; &#39;\\n&#39;;\n    \n    std::vector&lt;std::thread&gt; threads;\n    for (int i = 0; i &lt; 4; ++i) {\n        threads.emplace_back(increment, 25000);\n    }\n    \n    for (auto&amp; t : threads) t.join();\n    \n    std::cout &lt;&lt; \&quot;Counter: \&quot; &lt;&lt; counter &lt;&lt; &#39;\\n&#39;;\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;atomic&lt;long&gt; is lock-free: true\\nCounter: 100000&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;atomic&gt;
#include &lt;thread&gt;
#include &lt;vector&gt;

std::atomic&lt;long&gt; counter{0};

void increment(int count) {
    for (int i = 0; i &lt; count; ++i) {
        counter.fetch_add(1, std::memory_order_relaxed);
    }
}

int main() {
    std::cout &lt;&lt; &quot;atomic&lt;long&gt; is lock-free: &quot; 
              &lt;&lt; std::boolalpha &lt;&lt; counter.is_lock_free() &lt;&lt; &#x27;\n&#x27;;
    
    std::vector&lt;std::thread&gt; threads;
    for (int i = 0; i &lt; 4; ++i) {
        threads.emplace_back(increment, 25000);
    }
    
    for (auto&amp; t : threads) t.join();
    
    std::cout &lt;&lt; &quot;Counter: &quot; &lt;&lt; counter &lt;&lt; &#x27;\n&#x27;;
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>atomic<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>thread<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">std</span><span class="hl-operator">::</span>atomic<span class="hl-operator">&lt;</span><span class="hl-type">long</span><span class="hl-operator">&gt;</span> counter<span class="hl-bracket">{</span><span class="hl-number">0</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-type">void</span> increment<span class="hl-bracket">(</span><span class="hl-type">int</span> count<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> count; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">        counter.fetch_add<span class="hl-bracket">(</span><span class="hl-number">1</span>, <span class="hl-type">std</span><span class="hl-operator">::</span>memory_order_relaxed<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;atomic&lt;long&gt; is lock-free: &quot;</span> </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">              <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>boolalpha <span class="hl-operator">&lt;&lt;</span> counter.is_lock_free<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>thread<span class="hl-operator">&gt;</span> threads;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> <span class="hl-number">4</span>; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">        threads.emplace_back<span class="hl-bracket">(</span>increment, <span class="hl-number">25000</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span><span class="hl-operator">&amp;</span> t : threads<span class="hl-bracket">)</span> t.join<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Counter: &quot;</span> <span class="hl-operator">&lt;&lt;</span> counter <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Condition Variables and Futures</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="advanced-thread-synchronization">Advanced Thread Synchronization</h1>
<p>Beyond mutexes and atomics, C++ provides higher-level synchronization primitives: condition variables for signaling between threads, and futures/promises for asynchronous result retrieval.</p>
<h2 id="condition-variables">Condition Variables</h2>
<p>Condition variables enable threads to wait for specific conditions without busy-waiting:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;condition_variable&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;mutex&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;queue&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex mtx;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::condition_variable cv;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::queue</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> queue;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> producer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(i);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">notify_one</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Wake one waiting thread</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> consumer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_lock</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock, []{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); });</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Wait until queue not empty</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Consumed: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="wait-mechanics">Wait Mechanics</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mutex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mtx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Atomically unlocks mtx and sleeps</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">                // When woken, reacquires mtx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Equivalent to:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">predicate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="spurious-wakeups">Spurious Wakeups</h3>
<p>Condition variables can wake spuriously (without notify). Always use predicate form:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: No protection against spurious wakeups</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#E5C07B">queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> /* ... */</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Handles spurious wakeups</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock, []{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">queue</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); });</span></span>
<span class="line"></span></code></pre>
<h2 id="notify_one-vs-notify_all">notify_one vs notify_all</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">notify_one</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Wakes one waiting thread</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">notify_all</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Wakes all waiting threads</span></span>
<span class="line"></span></code></pre>
<p>Use <code>notify_all</code> when multiple threads might need to act on the condition.</p>
<h2 id="timed-waits">Timed Waits</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">chrono_literals</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mutex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">mtx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait_for</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#D73A49;--shiki-dark:#E06C75">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, []{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ready; })) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Condition met within 1 second</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Timeout</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> deadline </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">chrono</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">system_clock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">now</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#D73A49;--shiki-dark:#E06C75">s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">cv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait_until</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock, deadline, []{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ready; })) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Condition met before deadline</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="stdfuture-and-stdpromise">std::future and std::promise</h2>
<p>Futures provide a mechanism to retrieve results from asynchronous operations:</p>
<h3 id="promise-future-pair">promise-future Pair</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;future&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Do expensive computation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(result);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fulfill promise</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::promise</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> prom;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::future</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fut </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_future</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(prom));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> fut</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Blocks until promise fulfilled</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Result: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h3 id="exception-propagation">Exception Propagation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Error!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set_exception</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">current_exception</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::promise</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> prom;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::future</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fut </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> prom</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_future</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(prom));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> fut</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Rethrows exception</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Caught: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="stdasync">std::async</h2>
<p>Higher-level alternative to manual thread + promise:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::future</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fut </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">async</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">launch</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::async, []{</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Runs in separate thread</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> fut</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Retrieve result</span></span>
<span class="line"></span></code></pre>
<h3 id="launch-policies">Launch Policies</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Force async execution (new thread)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> f1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">async</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">launch</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::async, task);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Defer execution until get() called (lazy)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> f2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">async</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">launch</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::deferred, task);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Implementation chooses (default)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> f3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">async</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task);</span></span>
<span class="line"></span></code></pre>
<h2 id="shared_future">shared_future</h2>
<p>Multiple threads can wait on the same result:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_future</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sf </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">async</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task).</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">share</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">sf</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> sf</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">lambda</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">lambda</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Both can call get()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="packaged_task">packaged_task</h2>
<p>Wraps callable for future retrieval:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">packaged_task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::future</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> task</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_future</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">thread</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(task), </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">join</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="producer-consumer-with-condition-variables">Producer-Consumer with Condition Variables</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ThreadSafeQueue</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::queue</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> queue_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    mutable</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex mtx_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::condition_variable cv_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            queue_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(value);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        cv_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">notify_one</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_lock</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        cv_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">wait</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(lock, [</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">]{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">queue_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); });</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> queue_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        queue_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::mutex</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mtx_);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> queue_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<astro-island uid="ZRSsuF" prefix="r44" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Why must condition_variable::wait take a unique_lock instead of lock_guard?&quot;],&quot;answers&quot;:[1,[[0,&quot;lock_guard is deprecated&quot;],[0,&quot;wait needs to unlock and relock the mutex&quot;],[0,&quot;unique_lock is faster&quot;],[0,&quot;Technical limitation&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;wait() unlocks the mutex while sleeping and relocks it when woken. lock_guard cannot be unlocked, so unique_lock is required.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Why must condition_variable::wait take a unique_lock instead of lock_guard?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">lock_guard is deprecated</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">wait needs to unlock and relock the mutex</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">unique_lock is faster</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Technical limitation</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="ZjX3Rv" prefix="r45" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;future&gt;\n#include &lt;thread&gt;\n#include &lt;chrono&gt;\n\nint compute(int x) {\n    std::this_thread::sleep_for(std::chrono::milliseconds(100));\n    return x * x;\n}\n\nint main() {\n    // Async execution\n    auto fut1 = std::async(std::launch::async, compute, 5);\n    auto fut2 = std::async(std::launch::async, compute, 10);\n    \n    std::cout &lt;&lt; \&quot;Computing...\\n\&quot;;\n    \n    std::cout &lt;&lt; \&quot;Result 1: \&quot; &lt;&lt; fut1.get() &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;Result 2: \&quot; &lt;&lt; fut2.get() &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Computing...\\nResult 1: 25\\nResult 2: 100&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;future&gt;
#include &lt;thread&gt;
#include &lt;chrono&gt;

int compute(int x) {
    std::this_thread::sleep_for(std::chrono::milliseconds(100));
    return x * x;
}

int main() {
    // Async execution
    auto fut1 = std::async(std::launch::async, compute, 5);
    auto fut2 = std::async(std::launch::async, compute, 10);
    
    std::cout &lt;&lt; &quot;Computing...\n&quot;;
    
    std::cout &lt;&lt; &quot;Result 1: &quot; &lt;&lt; fut1.get() &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;Result 2: &quot; &lt;&lt; fut2.get() &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>future<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>thread<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>chrono<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> compute<span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>this_thread<span class="hl-operator">::</span>sleep_for<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>milliseconds<span class="hl-bracket">(</span><span class="hl-number">100</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-comment">// Async execution</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-type">auto</span> fut1 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-keyword">async</span><span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>launch<span class="hl-operator">::</span><span class="hl-keyword">async</span>, compute, <span class="hl-number">5</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">auto</span> fut2 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-keyword">async</span><span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>launch<span class="hl-operator">::</span><span class="hl-keyword">async</span>, compute, <span class="hl-number">10</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Computing...\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Result 1: &quot;</span> <span class="hl-operator">&lt;&lt;</span> fut1.get<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Result 2: &quot;</span> <span class="hl-operator">&lt;&lt;</span> fut2.get<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Modern C++ Features</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">std::optional and std::variant</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="stdoptional-representing-optional-values">std::optional: Representing Optional Values</h1>
<p>C++17’s <code>std::optional&lt;T&gt;</code> represents a value that may or may not be present, avoiding special sentinel values or pointers.</p>
<h2 id="basic-usage">Basic Usage</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;optional&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">optional</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::nullopt;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;42&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // or result.has_value()</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dereference to get value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Parse failed</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="accessing-values">Accessing Values</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> opt </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Safe access with default</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_or</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Returns 42, or 0 if empty</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Direct access (throws if empty)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Throws std::bad_optional_access if empty</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Unsafe access (UB if empty)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">opt;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Like pointer dereference</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Check before access</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">has_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="creating-optionals">Creating Optionals</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> empty;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No value</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> zero{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Contains 0</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> forty_two </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> none </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::nullopt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// In-place construction</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str{</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::in_place, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&#39;x&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;xxxxxxxxxx&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="modifying-optionals">Modifying Optionals</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> opt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">opt </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Assign value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reset</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Clear value (now empty)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">emplace</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Construct value in-place</span></span>
<span class="line"></span></code></pre>
<h2 id="monadic-operations-c23">Monadic Operations (C++23)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> opt </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// and_then: Apply function returning optional</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) -&gt; </span><span style="color:#D73A49;--shiki-dark:#C678DD">std::optional&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ?</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional{x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">:</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::nullopt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// transform: Apply function returning value</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> doubled </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// or_else: Provide alternative</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{}.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">or_else</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([]{ </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional{</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}; });</span></span>
<span class="line"></span></code></pre>
<h2 id="use-cases">Use Cases</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> username_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::optional</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> port_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> set_username</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { username_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">optional</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_username</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> username_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_port</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> port_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_or</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">8080</span><span style="color:#24292E;--shiki-dark:#ABB2BF">); }</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Default port</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h1 id="stdvariant-type-safe-unions">std::variant: Type-Safe Unions</h1>
<p><code>std::variant</code> is a type-safe union that can hold one of several types at any time.</p>
<h2 id="basic-usage-1">Basic Usage</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;variant&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::variant</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Holds int</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Now holds double</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Now holds string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Access by index</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Throws if not int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Access by type (must be unique)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Safe access</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="visiting-variants">Visiting Variants</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::variant</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">visit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> arg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">decay_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(arg)&gt;;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_same_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;int: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arg </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#D73A49;--shiki-dark:#C678DD"> if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_same_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;double: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arg </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;string: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arg </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}, v);</span></span>
<span class="line"></span></code></pre>
<h3 id="overloaded-pattern">Overloaded Pattern</h3>
<p>Helper for multiple lambdas:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> overloaded</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : Ts... { </span><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::operator()...; };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Ts</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">overloaded</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Ts...)</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> -&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75">overloaded</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Ts...</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Deduction guide</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::variant</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">visit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(overloaded{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;int: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;double: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;string: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}, v);</span></span>
<span class="line"></span></code></pre>
<h2 id="variant-state">Variant State</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::variant</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">index</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 (double is second alternative)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">holds_alternative</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(v)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Holds double</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="error-handling-with-variant">Error Handling with Variant</h2>
<p>Alternative to exceptions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string message;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">variant</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Error{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">visit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(overloaded{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Result: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value; },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Error</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">message</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}, result);</span></span>
<span class="line"></span></code></pre>
<h2 id="variant-vs-optional-vs-union">variant vs optional vs union</h2>



































<table><thead><tr><th style="text-align:left">Feature</th><th style="text-align:left">optional</th><th style="text-align:left">variant</th><th style="text-align:left">union</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Type Safety</strong></td><td style="text-align:left">Yes</td><td style="text-align:left">Yes</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><strong>Knows Type</strong></td><td style="text-align:left">Yes</td><td style="text-align:left">Yes</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><strong>Empty State</strong></td><td style="text-align:left">Yes</td><td style="text-align:left">No*</td><td style="text-align:left">N/A</td></tr><tr><td style="text-align:left"><strong>Non-Trivial Types</strong></td><td style="text-align:left">Yes</td><td style="text-align:left">Yes</td><td style="text-align:left">No</td></tr></tbody></table>
<p>*variant has <code>std::monostate</code> for empty state</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::variant</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::monostate, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Default: monostate (empty)</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z2mKYs9" prefix="r46" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What&#39;s the key advantage of std::optional over using nullptr or -1 as sentinel values?&quot;],&quot;answers&quot;:[1,[[0,&quot;Better performance&quot;],[0,&quot;Type safety and explicit semantics&quot;],[0,&quot;Less memory usage&quot;],[0,&quot;Faster compilation&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;std::optional provides type-safe and explicit semantics for optional values, avoiding magic values and type confusion.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What&#x27;s the key advantage of std::optional over using nullptr or -1 as sentinel values?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Better performance</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Type safety and explicit semantics</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Less memory usage</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Faster compilation</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="2hTHQe" prefix="r47" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;optional&gt;\n#include &lt;variant&gt;\n#include &lt;string&gt;\n\nstd::optional&lt;int&gt; safe_divide(int a, int b) {\n    if (b == 0) return std::nullopt;\n    return a / b;\n}\n\nint main() {\n    auto r1 = safe_divide(10, 2);\n    std::cout &lt;&lt; \&quot;10/2 = \&quot; &lt;&lt; r1.value_or(-1) &lt;&lt; &#39;\\n&#39;;\n    \n    auto r2 = safe_divide(10, 0);\n    std::cout &lt;&lt; \&quot;10/0 = \&quot; &lt;&lt; r2.value_or(-1) &lt;&lt; &#39;\\n&#39;;\n    \n    std::variant&lt;int, double, std::string&gt; v = 42;\n    std::cout &lt;&lt; \&quot;Variant holds index \&quot; &lt;&lt; v.index() &lt;&lt; &#39;\\n&#39;;\n    \n    v = \&quot;hello\&quot;;\n    std::visit([](auto&amp;&amp; arg) {\n        std::cout &lt;&lt; \&quot;Value: \&quot; &lt;&lt; arg &lt;&lt; &#39;\\n&#39;;\n    }, v);\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;10/2 = 5\\n10/0 = -1\\nVariant holds index 0\\nValue: hello&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;optional&gt;
#include &lt;variant&gt;
#include &lt;string&gt;

std::optional&lt;int&gt; safe_divide(int a, int b) {
    if (b == 0) return std::nullopt;
    return a / b;
}

int main() {
    auto r1 = safe_divide(10, 2);
    std::cout &lt;&lt; &quot;10/2 = &quot; &lt;&lt; r1.value_or(-1) &lt;&lt; &#x27;\n&#x27;;
    
    auto r2 = safe_divide(10, 0);
    std::cout &lt;&lt; &quot;10/0 = &quot; &lt;&lt; r2.value_or(-1) &lt;&lt; &#x27;\n&#x27;;
    
    std::variant&lt;int, double, std::string&gt; v = 42;
    std::cout &lt;&lt; &quot;Variant holds index &quot; &lt;&lt; v.index() &lt;&lt; &#x27;\n&#x27;;
    
    v = &quot;hello&quot;;
    std::visit([](auto&amp;&amp; arg) {
        std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; arg &lt;&lt; &#x27;\n&#x27;;
    }, v);
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>optional<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>variant<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">std</span><span class="hl-operator">::</span>optional<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> safe_divide<span class="hl-bracket">(</span><span class="hl-type">int</span> a, <span class="hl-type">int</span> b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>b <span class="hl-operator">==</span> <span class="hl-number">0</span><span class="hl-bracket">)</span> <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>nullopt;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> a <span class="hl-operator">/</span> b;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">auto</span> r1 <span class="hl-operator">=</span> safe_divide<span class="hl-bracket">(</span><span class="hl-number">10</span>, <span class="hl-number">2</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;10/2 = &quot;</span> <span class="hl-operator">&lt;&lt;</span> r1.value_or<span class="hl-bracket">(</span><span class="hl-operator">-</span><span class="hl-number">1</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">auto</span> r2 <span class="hl-operator">=</span> safe_divide<span class="hl-bracket">(</span><span class="hl-number">10</span>, <span class="hl-number">0</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;10/0 = &quot;</span> <span class="hl-operator">&lt;&lt;</span> r2.value_or<span class="hl-bracket">(</span><span class="hl-operator">-</span><span class="hl-number">1</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>variant<span class="hl-operator">&lt;</span><span class="hl-type">int</span>, <span class="hl-type">double</span>, <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span> v <span class="hl-operator">=</span> <span class="hl-number">42</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Variant holds index &quot;</span> <span class="hl-operator">&lt;&lt;</span> v.index<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    v <span class="hl-operator">=</span> <span class="hl-string">&quot;hello&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>visit<span class="hl-bracket">(</span><span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">auto</span><span class="hl-operator">&amp;</span><span class="hl-operator">&amp;</span> arg<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Value: &quot;</span> <span class="hl-operator">&lt;&lt;</span> arg <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-bracket">}</span>, v<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">String View and Span</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="non-owning-views-efficient-abstractions">Non-Owning Views: Efficient Abstractions</h1>
<p>C++17/20 introduced view types that refer to existing data without owning it, avoiding unnecessary copies.</p>
<h2 id="stdstring_view-c17">std::string_view (C++17)</h2>
<p>Lightweight non-owning reference to a string:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;string_view&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No copy!</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sv </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cstr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;world&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // OK: string converts to string_view</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(cstr);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: const char* converts to string_view</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;literal&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: no temporary std::string created</span></span>
<span class="line"></span></code></pre>
<h3 id="performance-advantage">Performance Advantage</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Creates temporary string for each call</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;literal&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Allocates memory!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: No allocation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;literal&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Just pointer + length</span></span>
<span class="line"></span></code></pre>
<h2 id="string_view-operations">string_view Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string_view sv </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello, World!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // 13</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">length</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // 13</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // false</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Pointer to first character</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // &#39;H&#39;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &#39;H&#39;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // &#39;!&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">substr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;World&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_prefix</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // sv = &quot;World!&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_suffix</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // sv = &quot;World&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="lifetime-hazards">Lifetime Hazards</h2>
<p><strong>Critical</strong>: <code>string_view</code> doesn’t own data—ensure underlying data outlives the view:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;temporary&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // DANGER: Returns view to destroyed string!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sv </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sv;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // UB: Dangling reference!</span></span>
<span class="line"></span></code></pre>
<p>Safe usage:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;persistent&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string_view sv </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: str outlives sv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // OK: sv only used during function</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="stdspan-c20">std::span (C++20)</h2>
<p>Non-owning view over contiguous sequence:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;span&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : data) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr[] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Works with vector</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(arr);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Works with array</span></span>
<span class="line"></span></code></pre>
<h3 id="compile-time-vs-runtime-extent">Compile-Time vs Runtime Extent</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Dynamic extent (size at runtime)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::span</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> dynamic_span </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Fixed extent (size at compile time)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::span</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fixed_span </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// fixed_span.size() is constexpr</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">fixed_span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="span-operations">span Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::span</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // 5</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_bytes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // 5 * sizeof(int)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // false</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Pointer to first element</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Modify through span</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">front</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Subspans</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> first3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">first</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // First 3 elements</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> last2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">last</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Last 2 elements</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> middle </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> sp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">subspan</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 3 elements starting at index 1</span></span>
<span class="line"></span></code></pre>
<h2 id="read-only-spans">Read-Only Spans</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // const elements</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : data) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: converts to span&lt;const int&gt;</span></span>
<span class="line"></span></code></pre>
<h2 id="use-cases">Use Cases</h2>
<h3 id="replacing-multiple-overloads">Replacing Multiple Overloads</h3>
<p>Before:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">array</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<p>After:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Handles all cases</span></span>
<span class="line"></span></code></pre>
<h3 id="safer-c-style-arrays">Safer C-Style Arrays</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Old: Easy to mismatch size</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// New: Size is part of the span</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="string_view-vs-const-string">string_view vs const string&amp;</h2>



































<table><thead><tr><th style="text-align:left">Aspect</th><th style="text-align:left">string_view</th><th style="text-align:left">const string&amp;</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Copy Cost</strong></td><td style="text-align:left">Cheap (2 pointers)</td><td style="text-align:left">Depends (reference)</td></tr><tr><td style="text-align:left"><strong>Temporary Creation</strong></td><td style="text-align:left">No</td><td style="text-align:left">Yes (for literals)</td></tr><tr><td style="text-align:left"><strong>Null-Termination</strong></td><td style="text-align:left">Not guaranteed</td><td style="text-align:left">Guaranteed</td></tr><tr><td style="text-align:left"><strong>Substring</strong></td><td style="text-align:left">O(1)</td><td style="text-align:left">O(n) (copies)</td></tr><tr><td style="text-align:left"><strong>Modify Original</strong></td><td style="text-align:left">No</td><td style="text-align:left">No</td></tr></tbody></table>
<p><strong>Guideline</strong>: Use <code>string_view</code> for read-only string parameters, especially when substrings are common.</p>
<h2 id="span-vs-vector">span vs vector&amp;</h2>






























<table><thead><tr><th style="text-align:left">Aspect</th><th style="text-align:left">span</th><th style="text-align:left">vector&amp;</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">View</td><td style="text-align:left">Container</td></tr><tr><td style="text-align:left"><strong>Ownership</strong></td><td style="text-align:left">No</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><strong>Works With</strong></td><td style="text-align:left">Any contiguous</td><td style="text-align:left">Only vector</td></tr><tr><td style="text-align:left"><strong>Resize</strong></td><td style="text-align:left">No</td><td style="text-align:left">Yes</td></tr></tbody></table>
<p><strong>Guideline</strong>: Use <code>span</code> for functions operating on contiguous data regardless of container type.</p>
<astro-island uid="Z2c874X" prefix="r48" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Why is std::string_view potentially dangerous?&quot;],&quot;answers&quot;:[1,[[0,&quot;Slower than std::string&quot;],[0,&quot;Can create dangling references&quot;],[0,&quot;Cannot be copied&quot;],[0,&quot;Uses too much memory&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;string_view doesn&#39;t own data, so if the underlying string is destroyed, the view becomes a dangling reference.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Why is std::string_view potentially dangerous?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Slower than std::string</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Can create dangling references</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Cannot be copied</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Uses too much memory</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1YfoW7" prefix="r49" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;string_view&gt;\n#include &lt;span&gt;\n#include &lt;vector&gt;\n\nvoid print_sv(std::string_view sv) {\n    std::cout &lt;&lt; \&quot;string_view: \&quot; &lt;&lt; sv &lt;&lt; \&quot; (size: \&quot; &lt;&lt; sv.size() &lt;&lt; \&quot;)\\n\&quot;;\n}\n\nvoid double_values(std::span&lt;int&gt; data) {\n    for (int&amp; x : data) {\n        x *= 2;\n    }\n}\n\nint main() {\n    // string_view examples\n    print_sv(\&quot;literal\&quot;);\n    std::string str = \&quot;hello\&quot;;\n    print_sv(str);\n    \n    // span examples\n    std::vector&lt;int&gt; vec = {1, 2, 3, 4, 5};\n    double_values(vec);\n    \n    std::cout &lt;&lt; \&quot;After doubling: \&quot;;\n    for (int x : vec) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;string_view: literal (size: 7)\\nstring_view: hello (size: 5)\\nAfter doubling: 2 4 6 8 10 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;string_view&gt;
#include &lt;span&gt;
#include &lt;vector&gt;

void print_sv(std::string_view sv) {
    std::cout &lt;&lt; &quot;string_view: &quot; &lt;&lt; sv &lt;&lt; &quot; (size: &quot; &lt;&lt; sv.size() &lt;&lt; &quot;)\n&quot;;
}

void double_values(std::span&lt;int&gt; data) {
    for (int&amp; x : data) {
        x *= 2;
    }
}

int main() {
    // string_view examples
    print_sv(&quot;literal&quot;);
    std::string str = &quot;hello&quot;;
    print_sv(str);
    
    // span examples
    std::vector&lt;int&gt; vec = {1, 2, 3, 4, 5};
    double_values(vec);
    
    std::cout &lt;&lt; &quot;After doubling: &quot;;
    for (int x : vec) std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>string_view<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>span<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">void</span> print_sv<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>string_view sv<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;string_view: &quot;</span> <span class="hl-operator">&lt;&lt;</span> sv <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; (size: &quot;</span> <span class="hl-operator">&lt;&lt;</span> sv.size<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;)\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre"><span class="hl-type">void</span> double_values<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>span<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> data<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span><span class="hl-operator">&amp;</span> x : data<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">        x <span class="hl-operator">*</span><span class="hl-operator">=</span> <span class="hl-number">2</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-comment">// string_view examples</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    print_sv<span class="hl-bracket">(</span><span class="hl-string">&quot;literal&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> str <span class="hl-operator">=</span> <span class="hl-string">&quot;hello&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    print_sv<span class="hl-bracket">(</span>str<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-comment">// span examples</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    double_values<span class="hl-bracket">(</span>vec<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;After doubling: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> x : vec<span class="hl-bracket">)</span> <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Structured Bindings and Init Statements</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="structured-bindings-decomposing-objects">Structured Bindings: Decomposing Objects</h1>
<p>C++17 structured bindings provide a concise syntax for unpacking tuples, pairs, arrays, and structs into individual variables.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">pair</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get_person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [id, name] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Structured binding</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> id </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 42: Alice</span></span>
<span class="line"></span></code></pre>
<h2 id="binding-pairs-and-tuples">Binding Pairs and Tuples</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> scores </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">95</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Bob&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">87</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [name, score] : scores) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> score </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::tuple</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data{</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [i, d, s] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data;</span></span>
<span class="line"></span></code></pre>
<h2 id="binding-arrays">Binding Arrays</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr[] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [a, b, c] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> arr;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // a=1, b=2, c=3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Number of bindings must match array size</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// auto [x, y] = arr;  // Error: 3 elements, 2 bindings</span></span>
<span class="line"></span></code></pre>
<h2 id="binding-structs">Binding Structs</h2>
<p>Works with any struct/class where all members are public:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p{</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [x, y] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // x=3.0, y=4.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> distance </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">x </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">y);</span></span>
<span class="line"></span></code></pre>
<h2 id="reference-bindings">Reference Bindings</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> map </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Reference binding: can modify original</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [key, value] : map) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    value </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Modifies map</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Const reference: read-only</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [key, value] : map) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> key </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="ignoring-values">Ignoring Values</h2>
<p>C++20 allows placeholder with <code>[[maybe_unused]]</code>:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [a, </span><span style="color:#005CC5;--shiki-dark:#ABB2BF">[[</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">maybe_unused</span><span style="color:#005CC5;--shiki-dark:#ABB2BF">]]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b, c] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::tuple{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// b is not used but no warning</span></span>
<span class="line"></span></code></pre>
<p>C++26 will support <code>_</code> as placeholder:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [a, _, c] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::tuple{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // C++26</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-types">Custom Types</h2>
<p>Make custom types decomposable:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> width_, height_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> w</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> h</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">width_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(w), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">height_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(h) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Tuple-like interface</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> I</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (I </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> width_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        else</span><span style="color:#D73A49;--shiki-dark:#C678DD"> if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (I </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> height_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Specializations for std::tuple_size and std::tuple_element</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> tuple_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; : </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">integral_constant</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> I</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> tuple_element</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">I</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Rectangle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; { </span><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> type</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Rectangle r{</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [w, h] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> r;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // w=3.0, h=4.0</span></span>
<span class="line"></span></code></pre>
<h1 id="init-statements-in-if-and-switch-c17">Init Statements in if and switch (C++17)</h1>
<p>Declare and initialize variables in the condition statement with tighter scope.</p>
<h2 id="if-with-init-statement">if with Init Statement</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(key); it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">second</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // it is in scope here</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// it is NOT in scope here</span></span>
<span class="line"></span></code></pre>
<p>Before C++17:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(key);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // it pollutes outer scope</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">second</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="switch-with-init-statement">switch with Init Statement</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">switch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> status </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_status</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); status) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    case</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Status</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E06C75">OK</span><span style="color:#24292E;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // use status</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    case</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Status</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E06C75">ERROR</span><span style="color:#24292E;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // use status</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// status not in scope</span></span>
<span class="line"></span></code></pre>
<h2 id="structured-binding-in-if">Structured Binding in if</h2>
<p>Combine init statement with structured binding:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [iter, inserted] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({key, value}); inserted) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Inserted: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> iter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">first</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Already exists</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="range-based-for-init-statement-c20">Range-Based for Init Statement (C++20)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> init_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> elem : container) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // v and elem both in scope</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v, elem);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="use-cases">Use Cases</h2>
<h3 id="lock-and-check">Lock and Check</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::lock_guard </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mutex); </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">condition</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Protected section</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Lock released</span></span>
<span class="line"></span></code></pre>
<h3 id="optional-chaining">Optional Chaining</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> opt </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_optional</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#24292E;--shiki-dark:#E5C07B">opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">has_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">opt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="error-handling">Error Handling</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [result, error] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> perform_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); error) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    handle_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(error);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    use_result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(result);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<astro-island uid="1DtXVb" prefix="r50" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What&#39;s the main benefit of init statements in if/switch?&quot;],&quot;answers&quot;:[1,[[0,&quot;Faster execution&quot;],[0,&quot;Tighter variable scope&quot;],[0,&quot;Better type safety&quot;],[0,&quot;Less memory usage&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Init statements keep variables scoped to the if/switch block, preventing scope pollution and making code clearer.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What&#x27;s the main benefit of init statements in if/switch?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Faster execution</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Tighter variable scope</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Better type safety</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Less memory usage</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="9btFs" prefix="r51" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;tuple&gt;\n\nstruct Point { double x, y; };\n\nint main() {\n    // Structured bindings with tuple\n    auto [a, b, c] = std::tuple{1, 2.5, \&quot;hello\&quot;};\n    std::cout &lt;&lt; \&quot;Tuple: \&quot; &lt;&lt; a &lt;&lt; \&quot;, \&quot; &lt;&lt; b &lt;&lt; \&quot;, \&quot; &lt;&lt; c &lt;&lt; &#39;\\n&#39;;\n    \n    // Structured bindings with struct\n    Point p{3.0, 4.0};\n    auto [x, y] = p;\n    std::cout &lt;&lt; \&quot;Point: (\&quot; &lt;&lt; x &lt;&lt; \&quot;, \&quot; &lt;&lt; y &lt;&lt; \&quot;)\\n\&quot;;\n    \n    // Init statement in if\n    std::map&lt;std::string, int&gt; scores{{\&quot;Alice\&quot;, 95}};\n    \n    if (auto it = scores.find(\&quot;Alice\&quot;); it != scores.end()) {\n        std::cout &lt;&lt; \&quot;Alice&#39;s score: \&quot; &lt;&lt; it-&gt;second &lt;&lt; &#39;\\n&#39;;\n    }\n    \n    // Structured binding in loop\n    for (const auto&amp; [name, score] : scores) {\n        std::cout &lt;&lt; name &lt;&lt; \&quot; scored \&quot; &lt;&lt; score &lt;&lt; &#39;\\n&#39;;\n    }\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Tuple: 1, 2.5, hello\\nPoint: (3, 4)\\nAlice&#39;s score: 95\\nAlice scored 95&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;tuple&gt;

struct Point { double x, y; };

int main() {
    // Structured bindings with tuple
    auto [a, b, c] = std::tuple{1, 2.5, &quot;hello&quot;};
    std::cout &lt;&lt; &quot;Tuple: &quot; &lt;&lt; a &lt;&lt; &quot;, &quot; &lt;&lt; b &lt;&lt; &quot;, &quot; &lt;&lt; c &lt;&lt; &#x27;\n&#x27;;
    
    // Structured bindings with struct
    Point p{3.0, 4.0};
    auto [x, y] = p;
    std::cout &lt;&lt; &quot;Point: (&quot; &lt;&lt; x &lt;&lt; &quot;, &quot; &lt;&lt; y &lt;&lt; &quot;)\n&quot;;
    
    // Init statement in if
    std::map&lt;std::string, int&gt; scores{{&quot;Alice&quot;, 95}};
    
    if (auto it = scores.find(&quot;Alice&quot;); it != scores.end()) {
        std::cout &lt;&lt; &quot;Alice&#x27;s score: &quot; &lt;&lt; it-&gt;second &lt;&lt; &#x27;\n&#x27;;
    }
    
    // Structured binding in loop
    for (const auto&amp; [name, score] : scores) {
        std::cout &lt;&lt; name &lt;&lt; &quot; scored &quot; &lt;&lt; score &lt;&lt; &#x27;\n&#x27;;
    }
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>map<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>tuple<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">struct</span> Point <span class="hl-bracket">{</span> <span class="hl-type">double</span> x, y; <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-comment">// Structured bindings with tuple</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">auto</span> <span class="hl-bracket">[</span>a, b, c<span class="hl-bracket">]</span> <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>tuple<span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>.<span class="hl-number">5</span>, <span class="hl-string">&quot;hello&quot;</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Tuple: &quot;</span> <span class="hl-operator">&lt;&lt;</span> a <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, &quot;</span> <span class="hl-operator">&lt;&lt;</span> b <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, &quot;</span> <span class="hl-operator">&lt;&lt;</span> c <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-comment">// Structured bindings with struct</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    Point p<span class="hl-bracket">{</span><span class="hl-number">3</span>.<span class="hl-number">0</span>, <span class="hl-number">4</span>.<span class="hl-number">0</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">auto</span> <span class="hl-bracket">[</span>x, y<span class="hl-bracket">]</span> <span class="hl-operator">=</span> p;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Point: (&quot;</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, &quot;</span> <span class="hl-operator">&lt;&lt;</span> y <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;)\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-comment">// Init statement in if</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>map<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span>, <span class="hl-type">int</span><span class="hl-operator">&gt;</span> scores<span class="hl-bracket">{</span><span class="hl-bracket">{</span><span class="hl-string">&quot;Alice&quot;</span>, <span class="hl-number">95</span><span class="hl-bracket">}</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> it <span class="hl-operator">=</span> scores.find<span class="hl-bracket">(</span><span class="hl-string">&quot;Alice&quot;</span><span class="hl-bracket">)</span>; it <span class="hl-operator">!=</span> scores.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Alice&#039;s score: &quot;</span> <span class="hl-operator">&lt;&lt;</span> it<span class="hl-operator">-&gt;</span>second <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-comment">// Structured binding in loop</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">auto</span><span class="hl-operator">&amp;</span> <span class="hl-bracket">[</span>name, score<span class="hl-bracket">]</span> : scores<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> name <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; scored &quot;</span> <span class="hl-operator">&lt;&lt;</span> score <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Standard Library</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Filesystem Library</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="stdfilesystem-portable-file-operations">std::filesystem: Portable File Operations</h1>
<p>C++17 introduced <code>&lt;filesystem&gt;</code> for portable, type-safe file and directory operations, replacing platform-specific APIs.</p>
<h2 id="path-manipulation">Path Manipulation</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;filesystem&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> fs</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">filesystem</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;/home/user/document.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // &quot;document.txt&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stem</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // &quot;document&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">extension</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;.txt&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parent_path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;/home/user&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">root_path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Path concatenation</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path dir </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;/home/user&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;document.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path full </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> dir </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;/home/user/document.txt&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="path-components">Path Components</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;/home/user/docs/file.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> part : p) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> part </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Output: &quot;/&quot; &quot;home&quot; &quot;user&quot; &quot;docs&quot; &quot;file.txt&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="checking-file-status">Checking File Status</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;some/path&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">exists</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // Does path exist?</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_regular_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Is it a regular file?</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_directory</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Is it a directory?</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_symlink</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Is it a symbolic link?</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Is file empty or directory empty?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// File size</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // In bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Last modification time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> time </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">last_write_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p);</span></span>
<span class="line"></span></code></pre>
<h2 id="directory-iteration">Directory Iteration</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Iterate over directory contents</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> entry : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">directory_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;/path/to/dir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> entry</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Recursive iteration</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> entry : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">recursive_directory_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;/path/to/dir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_regular_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(entry)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> entry</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(entry) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="file-operations">File Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Copy file</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;source.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;dest.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Copy with options</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;source.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;dest.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">         fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">copy_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::overwrite_existing);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Rename/move</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;old_name.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;new_name.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove file</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;file.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove directory and contents</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove_all</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;directory&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Create directory</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">create_directory</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;new_dir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Create directory and parents</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">create_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;path/to/deep/dir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="file-permissions">File Permissions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path p </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;file.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Get permissions</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> perms </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">status</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p).</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">permissions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Set permissions</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">permissions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perms</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::owner_read </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perms</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::owner_write);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Add permissions</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">permissions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perms</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::others_read, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perm_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::add);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Remove permissions</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">permissions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(p, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perms</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::others_write, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">perm_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::remove);</span></span>
<span class="line"></span></code></pre>
<h2 id="space-information">Space Information</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::space_info info </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">space</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;/&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Capacity: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> info</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">capacity</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Free: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> info</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">free</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Available: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> info</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">available</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h2 id="current-path">Current Path</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Get current working directory</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path cwd </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">current_path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Set current working directory</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">current_path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;/new/path&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="temporary-directory">Temporary Directory</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">temp_directory_path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path temp_file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> temp </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;my_temp_file.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h2 id="error-handling">Error Handling</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Exception-based</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;source.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;dest.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::filesystem_error</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Path1: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Path2: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Error code-based</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::error_code ec;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;source.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;dest.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, ec);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (ec) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">message</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-examples">Practical Examples</h2>
<h3 id="find-all-files-with-extension">Find All Files with Extension</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find_files</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">path</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> dir</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ext</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> entry : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">recursive_directory_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(dir)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">entry</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">().</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">extension</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ext) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">entry</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cpp_files </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> find_files</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;/project&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;.cpp&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h3 id="calculate-directory-size">Calculate Directory Size</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">uintmax_t</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> directory_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">path</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> dir</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    uintmax_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> entry : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">recursive_directory_iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(dir)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_regular_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(entry)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            size </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(entry);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="safe-file-backup">Safe File Backup</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> backup_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">path</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> source</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">exists</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(source)) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::path backup </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> source;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    backup </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;.bak&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">exists</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(backup)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(backup);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    fs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(source, backup);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1Pv74p" prefix="r52" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What operator is used to concatenate filesystem paths?&quot;],&quot;options&quot;:[1,[[0,&quot;+&quot;],[0,&quot;/&quot;],[0,&quot;.&quot;],[0,&quot;&amp;&quot;]]],&quot;answerIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;The / operator is overloaded for path concatenation, providing intuitive and portable path building.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What operator is used to concatenate filesystem paths?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">+</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">/</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">.</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">&amp;</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="cOL9M" prefix="r53" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;filesystem&gt;\n\nnamespace fs = std::filesystem;\n\nint main() {\n  fs::path p = \&quot;/home/user/document.txt\&quot;;\n  \n  std::cout &lt;&lt; \&quot;Full path: \&quot; &lt;&lt; p &lt;&lt; &#39;\\n&#39;;\n  std::cout &lt;&lt; \&quot;Filename: \&quot; &lt;&lt; p.filename() &lt;&lt; &#39;\\n&#39;;\n  std::cout &lt;&lt; \&quot;Stem: \&quot; &lt;&lt; p.stem() &lt;&lt; &#39;\\n&#39;;\n  std::cout &lt;&lt; \&quot;Extension: \&quot; &lt;&lt; p.extension() &lt;&lt; &#39;\\n&#39;;\n  std::cout &lt;&lt; \&quot;Parent: \&quot; &lt;&lt; p.parent_path() &lt;&lt; &#39;\\n&#39;;\n  \n  // Path concatenation\n  fs::path dir = \&quot;/tmp\&quot;;\n  fs::path file = \&quot;test.txt\&quot;;\n  fs::path full = dir / file;\n  std::cout &lt;&lt; \&quot;Concatenated: \&quot; &lt;&lt; full &lt;&lt; &#39;\\n&#39;;\n  \n  // Get temp directory\n  std::cout &lt;&lt; \&quot;Temp directory: \&quot; &lt;&lt; fs::temp_directory_path() &lt;&lt; &#39;\\n&#39;;\n  \n  return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Full path: \&quot;/home/user/document.txt\&quot;\nFilename: \&quot;document.txt\&quot;\nStem: \&quot;document\&quot;\nExtension: \&quot;.txt\&quot;\nParent: \&quot;/home/user\&quot;\nConcatenated: \&quot;/tmp/test.txt\&quot;\nTemp directory: \&quot;/tmp\&quot;&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;filesystem&gt;

namespace fs = std::filesystem;

int main() {
  fs::path p = &quot;/home/user/document.txt&quot;;
  
  std::cout &lt;&lt; &quot;Full path: &quot; &lt;&lt; p &lt;&lt; &#x27;\n&#x27;;
  std::cout &lt;&lt; &quot;Filename: &quot; &lt;&lt; p.filename() &lt;&lt; &#x27;\n&#x27;;
  std::cout &lt;&lt; &quot;Stem: &quot; &lt;&lt; p.stem() &lt;&lt; &#x27;\n&#x27;;
  std::cout &lt;&lt; &quot;Extension: &quot; &lt;&lt; p.extension() &lt;&lt; &#x27;\n&#x27;;
  std::cout &lt;&lt; &quot;Parent: &quot; &lt;&lt; p.parent_path() &lt;&lt; &#x27;\n&#x27;;
  
  // Path concatenation
  fs::path dir = &quot;/tmp&quot;;
  fs::path file = &quot;test.txt&quot;;
  fs::path full = dir / file;
  std::cout &lt;&lt; &quot;Concatenated: &quot; &lt;&lt; full &lt;&lt; &#x27;\n&#x27;;
  
  // Get temp directory
  std::cout &lt;&lt; &quot;Temp directory: &quot; &lt;&lt; fs::temp_directory_path() &lt;&lt; &#x27;\n&#x27;;
  
  return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>filesystem<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">namespace</span> fs <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>filesystem;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">  fs<span class="hl-operator">::</span>path p <span class="hl-operator">=</span> <span class="hl-string">&quot;/home/user/document.txt&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">  </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Full path: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Filename: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p.filename<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Stem: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p.stem<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Extension: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p.extension<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Parent: &quot;</span> <span class="hl-operator">&lt;&lt;</span> p.parent_path<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">  </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">  <span class="hl-comment">// Path concatenation</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">  fs<span class="hl-operator">::</span>path dir <span class="hl-operator">=</span> <span class="hl-string">&quot;/tmp&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">  fs<span class="hl-operator">::</span>path file <span class="hl-operator">=</span> <span class="hl-string">&quot;test.txt&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">  fs<span class="hl-operator">::</span>path full <span class="hl-operator">=</span> dir <span class="hl-operator">/</span> file;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Concatenated: &quot;</span> <span class="hl-operator">&lt;&lt;</span> full <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">  </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">  <span class="hl-comment">// Get temp directory</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">  <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Temp directory: &quot;</span> <span class="hl-operator">&lt;&lt;</span> fs<span class="hl-operator">::</span>temp_directory_path<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">  </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">  <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Modern C++20/23</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Concepts and Constraints (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="concepts-constraining-templates">Concepts: Constraining Templates</h1>
<p>C++20 concepts provide a way to specify requirements on template parameters, replacing complex SFINAE with readable constraints.</p>
<h2 id="basic-concept-syntax">Basic Concept Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;concepts&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Numeric </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_arithmetic_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">Numeric</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // OK: int is Numeric</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.71</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // OK: double is Numeric</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// add(&quot;hello&quot;, &quot;world&quot;);  // Error: const char* is not Numeric</span></span>
<span class="line"></span></code></pre>
<h2 id="standard-library-concepts">Standard Library Concepts</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;concepts&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Fundamental concepts</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // Integer types</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::floating_point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;double&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Floating-point types</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::signed_integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Signed integers</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unsigned_integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;size_t&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Unsigned integers</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Comparison concepts</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::equality_comparable</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::totally_ordered</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Has &lt;, &gt;, &lt;=, &gt;=, ==, !=</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Object concepts</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::movable</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::copyable</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::semiregular</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Default constructible and copyable</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::regular</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Semiregular and equality comparable</span></span>
<span class="line"></span></code></pre>
<h2 id="defining-custom-concepts">Defining Custom Concepts</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Addable </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T a, T b) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::convertible_to</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must support +</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Container </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T t) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    typename</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">value_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Must have value_type</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // Must have begin()</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() };</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">                // Must have end()</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::convertible_to</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;size_t&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // size() returns size_t-like</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">Container</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> C</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> C</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> container</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> elem : container) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="requires-clauses">requires Clauses</h2>
<h3 id="trailing-requires">Trailing requires</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">requires</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::totally_ordered</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (a </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) </span><span style="color:#D73A49;--shiki-dark:#C678DD">?</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">:</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="constrained-auto">Constrained auto</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral </span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral </span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // OK</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// square(3.14);  // Error: double is not integral</span></span>
<span class="line"></span></code></pre>
<h2 id="combining-concepts">Combining Concepts</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> SignedIntegral </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::signed_integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Number </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> ||</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::floating_point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Range </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T t) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="requires-expression">requires Expression</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Drawable </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T t) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">draw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::same_as</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;void&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must have void draw()</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">position</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::convertible_to</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::pair</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">visible</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must have visible member</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Arithmetic </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T a, T b) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="nested-requirements">Nested Requirements</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Complex </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T t) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    requires</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::regular</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must be regular</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    requires</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Size requirement</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">real</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::floating_point;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">imag</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::floating_point;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="subsumption">Subsumption</h2>
<p>More constrained concept is preferred:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Integral </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_integral_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> SignedIntegral </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::is_signed_v</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Integral</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Integral</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">SignedIntegral</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // More constrained</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Signed integral</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Calls SignedIntegral version</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#D73A49;--shiki-dark:#E06C75">u</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Calls Integral version</span></span>
<span class="line"></span></code></pre>
<h2 id="concept-based-overloading">Concept-Based Overloading</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">integral</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Integer: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">floating_point</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Float: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Calls integral version</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Calls floating_point version</span></span>
<span class="line"></span></code></pre>
<h2 id="debugging-concept-failures">Debugging Concept Failures</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Sortable </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> requires</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T t) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::random_access_iterator;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    { </span><span style="color:#24292E;--shiki-dark:#E5C07B">t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() } </span><span style="color:#D73A49;--shiki-dark:#C678DD">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::random_access_iterator;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lst;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::sort(lst.begin(), lst.end());  </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Clear error: list iterators are not random_access_iterator</span></span>
<span class="line"></span></code></pre>
<h2 id="abbreviated-function-templates">Abbreviated Function Templates</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Before concepts</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// With concepts (C++20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Unconstrained</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">integral</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Constrained</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Multiple parameters</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> func2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">integral</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">floating_point</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-example-generic-algorithm">Practical Example: Generic Algorithm</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Pred</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    requires</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">             std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::predicate</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Pred, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">range_value_t</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Pred</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">range_value_t</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> elem : r) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(elem)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(elem);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<astro-island uid="geBX5" prefix="r54" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What advantage do concepts have over SFINAE?&quot;],&quot;answers&quot;:[1,[[0,&quot;Faster compilation&quot;],[0,&quot;Better error messages and readability&quot;],[0,&quot;Runtime performance&quot;],[0,&quot;Less memory usage&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Concepts provide clear, readable constraints with much better compile error messages compared to SFINAE.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What advantage do concepts have over SFINAE?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Faster compilation</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Better error messages and readability</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Runtime performance</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Less memory usage</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="PV6fB" prefix="r55" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;concepts&gt;\n#include &lt;vector&gt;\n\ntemplate&lt;typename T&gt;\nconcept Numeric = std::integral&lt;T&gt; || std::floating_point&lt;T&gt;;\n\ntemplate&lt;Numeric T&gt;\nT multiply(T a, T b) {\n    return a * b;\n}\n\n// Constrained auto\nauto add(std::integral auto a, std::integral auto b) {\n    return a + b;\n}\n\nint main() {\n    std::cout &lt;&lt; multiply(5, 10) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; multiply(3.14, 2.0) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; add(100, 200) &lt;&lt; &#39;\\n&#39;;\n    \n    // Compile-time check\n    static_assert(Numeric&lt;int&gt;);\n    static_assert(Numeric&lt;double&gt;);\n    static_assert(!Numeric&lt;std::string&gt;);\n    \n    std::cout &lt;&lt; \&quot;All concept checks passed\\n\&quot;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;50\\n6.28\\n300\\nAll concept checks passed&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;concepts&gt;
#include &lt;vector&gt;

template&lt;typename T&gt;
concept Numeric = std::integral&lt;T&gt; || std::floating_point&lt;T&gt;;

template&lt;Numeric T&gt;
T multiply(T a, T b) {
    return a * b;
}

// Constrained auto
auto add(std::integral auto a, std::integral auto b) {
    return a + b;
}

int main() {
    std::cout &lt;&lt; multiply(5, 10) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; multiply(3.14, 2.0) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; add(100, 200) &lt;&lt; &#x27;\n&#x27;;
    
    // Compile-time check
    static_assert(Numeric&lt;int&gt;);
    static_assert(Numeric&lt;double&gt;);
    static_assert(!Numeric&lt;std::string&gt;);
    
    std::cout &lt;&lt; &quot;All concept checks passed\n&quot;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>concepts<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span><span class="hl-keyword">typename</span> T<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-keyword">concept</span> Numeric <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>integral<span class="hl-operator">&lt;</span>T<span class="hl-operator">&gt;</span> <span class="hl-operator">||</span> <span class="hl-type">std</span><span class="hl-operator">::</span>floating_point<span class="hl-operator">&lt;</span>T<span class="hl-operator">&gt;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre"><span class="hl-keyword">template</span><span class="hl-operator">&lt;</span>Numeric T<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">T multiply<span class="hl-bracket">(</span>T a, T b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> a <span class="hl-operator">*</span> b;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-comment">// Constrained auto</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre"><span class="hl-type">auto</span> add<span class="hl-bracket">(</span><span class="hl-type">std</span><span class="hl-operator">::</span>integral <span class="hl-type">auto</span> a, <span class="hl-type">std</span><span class="hl-operator">::</span>integral <span class="hl-type">auto</span> b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> a <span class="hl-operator">+</span> b;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> multiply<span class="hl-bracket">(</span><span class="hl-number">5</span>, <span class="hl-number">10</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> multiply<span class="hl-bracket">(</span><span class="hl-number">3</span>.<span class="hl-number">14</span>, <span class="hl-number">2</span>.<span class="hl-number">0</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> add<span class="hl-bracket">(</span><span class="hl-number">100</span>, <span class="hl-number">200</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-comment">// Compile-time check</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    static_assert<span class="hl-bracket">(</span>Numeric<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    static_assert<span class="hl-bracket">(</span>Numeric<span class="hl-operator">&lt;</span><span class="hl-type">double</span><span class="hl-operator">&gt;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    static_assert<span class="hl-bracket">(</span><span class="hl-operator">!</span>Numeric<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;All concept checks passed\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Ranges Library (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="ranges-composable-algorithms">Ranges: Composable Algorithms</h1>
<p>C++20 ranges revolutionize how we work with sequences, enabling composable, lazy-evaluated operations with cleaner syntax.</p>
<h2 id="range-based-algorithms">Range-Based Algorithms</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;ranges&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;algorithm&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> rng</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Old style</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Range style</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">rng</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Operates on entire range</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// With projection</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name; </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age; };</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> people </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> /*...*/</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">rng</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(people, {}, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::age);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Sort by age</span></span>
<span class="line"></span></code></pre>
<h2 id="views-lazy-evaluation">Views: Lazy Evaluation</h2>
<p>Views are lightweight range adaptors that don’t own data and evaluate lazily:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;ranges&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> views</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// filter: Select elements matching predicate</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> even </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// No computation yet - lazy!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// transform: Apply function to each element</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> squared </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// take: First n elements</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> first_three </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// drop: Skip first n elements</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> skip_two </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">drop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="composing-views">Composing Views</h2>
<p>Views compose using the pipe operator:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 4 16 36</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Computation happens here during iteration</span></span>
<span class="line"></span></code></pre>
<h2 id="common-views">Common Views</h2>
<h3 id="viewsiota">views::iota</h3>
<p>Generate sequence of numbers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Infinite sequence: 1, 2, 3, ...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">iota</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 2 3 4 5</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bounded sequence</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">iota</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 2 3 4 5</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="viewsreverse">views::reverse</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : vec </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::reverse) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 5 4 3 2 1</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="viewskeys-and-viewsvalues">views::keys and views::values</h3>
<p>For associative containers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> map </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;a&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;b&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;c&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> key : map </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::keys) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> key </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // a b c</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value : map </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::values) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 2 3</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="viewssplit">views::split</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;hello,world,test&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> word : str </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">split</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;,&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c : word) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// hello</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// world</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// test</span></span>
<span class="line"></span></code></pre>
<h3 id="viewsjoin">views::join</h3>
<p>Flatten range of ranges:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> nested </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, {</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, {</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : nested </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::join) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 1 2 3 4 5 6</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="viewszip-c23">views::zip (C++23)</h3>
<p>Combine multiple ranges:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> nums </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> words </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;one&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;two&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;three&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [num, word] : </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">zip</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(nums, words)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> num </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> word </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 1: one</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 2: two</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 3: three</span></span>
<span class="line"></span></code></pre>
<h2 id="materializing-views">Materializing Views</h2>
<p>Convert views to containers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> view </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Convert to vector</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Or use ranges::to (C++23)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> view </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span></code></pre>
<h2 id="owning-views">Owning Views</h2>
<h3 id="viewsall">views::all</h3>
<p>Create view of existing range:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">all</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec);</span></span>
<span class="line"></span></code></pre>
<h3 id="rangesref_view">ranges::ref_view</h3>
<p>Non-owning view (reference):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ref_view</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h3 id="rangesowning_view">ranges::owning_view</h3>
<p>Takes ownership of range:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> owned </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">owning_view</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"></span></code></pre>
<h2 id="range-adaptors">Range Adaptors</h2>
<h3 id="filtering-and-transforming">Filtering and Transforming</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> numbers </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">6</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Filter odd numbers, square them, take first 3</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> numbers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Result: 1, 9, 25</span></span>
<span class="line"></span></code></pre>
<h3 id="reverse-and-drop">Reverse and Drop</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> numbers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::reverse</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">drop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Start from end, skip 2, take 3: 8, 7, 6</span></span>
<span class="line"></span></code></pre>
<h2 id="projection-support">Projection Support</h2>
<p>Range algorithms accept projections:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> people </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Bob&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">25</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Charlie&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">35</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Find person with age &gt; 30</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> rng</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(people, [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> age</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::age);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Sort by name</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">rng</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(people, {}, </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::name);</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-examples">Practical Examples</h2>
<h3 id="processing-text-lines">Processing Text Lines</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string text </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;line1</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">nline2</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">nline3</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">nline4&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> line : text </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">split</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#56B6C2">|</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c : line) </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="generating-fibonacci-sequence">Generating Fibonacci Sequence</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fibonacci </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">iota</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // ... compute nth fibonacci</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">take</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<astro-island uid="21Tyfl" prefix="r56" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the key advantage of ranges views over eager evaluation?&quot;],&quot;answers&quot;:[1,[[0,&quot;Faster execution&quot;],[0,&quot;Lazy evaluation avoids intermediate containers&quot;],[0,&quot;Less memory always&quot;],[0,&quot;Easier syntax only&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Views evaluate lazily, avoiding creation of intermediate containers. Operations compose without allocating memory until final materialization.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the key advantage of ranges views over eager evaluation?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Faster execution</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Lazy evaluation avoids intermediate containers</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Less memory always</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Easier syntax only</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="1DhgRQ" prefix="r57" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;ranges&gt;\n\nnamespace views = std::views;\n\nint main() {\n    std::vector&lt;int&gt; nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n    \n    // Compose operations\n    auto result = nums\n        | views::filter([](int x) { return x % 2 == 0; })\n        | views::transform([](int x) { return x * x; })\n        | views::take(3);\n    \n    std::cout &lt;&lt; \&quot;Even squares (first 3): \&quot;;\n    for (int x : result) {\n        std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    // iota with reverse\n    std::cout &lt;&lt; \&quot;Countdown: \&quot;;\n    for (int x : views::iota(1, 6) | views::reverse) {\n        std::cout &lt;&lt; x &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Even squares (first 3): 4 16 36 \\nCountdown: 5 4 3 2 1 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;ranges&gt;

namespace views = std::views;

int main() {
    std::vector&lt;int&gt; nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    
    // Compose operations
    auto result = nums
        | views::filter([](int x) { return x % 2 == 0; })
        | views::transform([](int x) { return x * x; })
        | views::take(3);
    
    std::cout &lt;&lt; &quot;Even squares (first 3): &quot;;
    for (int x : result) {
        std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    // iota with reverse
    std::cout &lt;&lt; &quot;Countdown: &quot;;
    for (int x : views::iota(1, 6) | views::reverse) {
        std::cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>ranges<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-keyword">namespace</span> views <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>views;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> nums <span class="hl-operator">=</span> <span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span>, <span class="hl-number">6</span>, <span class="hl-number">7</span>, <span class="hl-number">8</span>, <span class="hl-number">9</span>, <span class="hl-number">10</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-comment">// Compose operations</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-type">auto</span> result <span class="hl-operator">=</span> nums</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">        <span class="hl-operator">|</span> views<span class="hl-operator">::</span>filter<span class="hl-bracket">(</span><span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">%</span> <span class="hl-number">2</span> <span class="hl-operator">==</span> <span class="hl-number">0</span>; <span class="hl-bracket">}</span><span class="hl-bracket">)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">        <span class="hl-operator">|</span> views<span class="hl-operator">::</span>transform<span class="hl-bracket">(</span><span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x; <span class="hl-bracket">}</span><span class="hl-bracket">)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        <span class="hl-operator">|</span> views<span class="hl-operator">::</span>take<span class="hl-bracket">(</span><span class="hl-number">3</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Even squares (first 3): &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> x : result<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-comment">// iota with reverse</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Countdown: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> x : views<span class="hl-operator">::</span>iota<span class="hl-bracket">(</span><span class="hl-number">1</span>, <span class="hl-number">6</span><span class="hl-bracket">)</span> <span class="hl-operator">|</span> views<span class="hl-operator">::</span>reverse<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> x <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Coroutines Basics (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="coroutines-suspendable-functions">Coroutines: Suspendable Functions</h1>
<p>C++20 coroutines are functions that can suspend execution and resume later, enabling asynchronous programming and lazy generators without callbacks.</p>
<h2 id="coroutine-keywords">Coroutine Keywords</h2>
<p>A function is a coroutine if it contains any of:</p>
<ul>
<li><code>co_await</code>: Suspend until expression completes</li>
<li><code>co_yield</code>: Suspend and produce a value</li>
<li><code>co_return</code>: Complete and optionally return a value</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        co_yield</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Suspend and produce value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="basic-generator-example">Basic Generator Example</h2>
<p>Simple generator coroutine:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;coroutine&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> promise_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T current_value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        generator</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_return_object</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> generator{</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">coroutine_handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">promise_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">from_promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">suspend_always</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> initial_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">suspend_always</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> final_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">suspend_always</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> yield_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            current_value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> return_void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> unhandled_exception</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">terminate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::coroutine_handle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">promise_type</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> coro;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">coroutine_handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">promise_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">h</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(h) {}</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (coro) </span><span style="color:#24292E;--shiki-dark:#E5C07B">coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">destroy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resume</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">done</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">().</span><span style="color:#24292E;--shiki-dark:#E06C75">current_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> start</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> start; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> end; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        co_yield</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Usage:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> gen </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">gen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> gen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="color:#032F62;--shiki-dark:#98C379">n&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="coroutine-mechanics">Coroutine Mechanics</h2>
<h3 id="promise-type">Promise Type</h3>
<p>Every coroutine requires a promise_type that defines behavior:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> promise_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Called to create the coroutine&#39;s return object</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    ReturnType</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_return_object</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Should coroutine suspend before executing body?</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> initial_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Returns suspend_always or suspend_never</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Should coroutine suspend after completing?</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> final_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Handle co_yield value</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> yield_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Handle co_return</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> return_void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // OR</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> return_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Exception handling</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> unhandled_exception</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="coroutine-handle">Coroutine Handle</h3>
<p>Manages coroutine state:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::coroutine_handle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">PromiseType</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> handle;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resume</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Resume coroutine execution</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">done</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Check if coroutine completed</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">destroy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Destroy coroutine state</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Access promise object</span></span>
<span class="line"></span></code></pre>
<h2 id="co_await-expression">co_await Expression</h2>
<p>Suspend until awaitable completes:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Task</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> async_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> co_await</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> some_async_call</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Resumed when async_call completes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    co_return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="awaitable-type">Awaitable Type</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> awaitable</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> await_ready</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Can we skip suspension?</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> await_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">coroutine_handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Called when suspending</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> await_resume</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Called when resuming, returns value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="infinite-generator">Infinite Generator</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fibonacci</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        co_yield</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fib </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fibonacci</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    fib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> fib</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 0 1 1 2 3 5 8 13 21 34</span></span>
<span class="line"></span></code></pre>
<h2 id="lazy-evaluation">Lazy Evaluation</h2>
<p>Coroutines enable lazy evaluation—values computed on demand:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">lazy_transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : vec) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        co_yield</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Computed only when requested</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="async-task-pattern">Async Task Pattern</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> promise_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        Task</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_return_object</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">suspend_never</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> initial_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">suspend_never</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> final_suspend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> return_void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> unhandled_exception</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Task</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> async_work</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    co_await</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> some_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    co_await</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> another_operation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    co_return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="range-based-for-with-coroutines">Range-Based for with Coroutines</h2>
<p>Make generator iterable:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> generator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ... previous code ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> iterator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::coroutine_handle</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">promise_type</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> coro;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resume</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> iterator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#E5C07B">coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">done</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">        T</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">promise</span><span style="color:#24292E;--shiki-dark:#ABB2BF">().</span><span style="color:#24292E;--shiki-dark:#E06C75">current_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    iterator</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        coro</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">resume</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {coro};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    iterator</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Now works with range-based for:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="coroutine-state">Coroutine State</h2>
<p>Coroutine state is heap-allocated (can be optimized away):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// State includes:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// - Parameters</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// - Local variables</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// - Promise object</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// - Suspension point information</span></span>
<span class="line"></span></code></pre>
<h2 id="compared-to-traditional-approaches">Compared to Traditional Approaches</h2>



































<table><thead><tr><th style="text-align:left">Approach</th><th style="text-align:left">Callbacks</th><th style="text-align:left">State Machines</th><th style="text-align:left">Coroutines</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Readability</strong></td><td style="text-align:left">Poor</td><td style="text-align:left">Medium</td><td style="text-align:left">Excellent</td></tr><tr><td style="text-align:left"><strong>Complexity</strong></td><td style="text-align:left">High</td><td style="text-align:left">High</td><td style="text-align:left">Low</td></tr><tr><td style="text-align:left"><strong>Error Handling</strong></td><td style="text-align:left">Difficult</td><td style="text-align:left">Complex</td><td style="text-align:left">Natural</td></tr><tr><td style="text-align:left"><strong>Performance</strong></td><td style="text-align:left">Fast</td><td style="text-align:left">Fast</td><td style="text-align:left">Fast</td></tr></tbody></table>
<astro-island uid="1OGXCE" prefix="r58" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What makes a function a coroutine?&quot;],&quot;answers&quot;:[1,[[0,&quot;Returning a special type&quot;],[0,&quot;Using co_await, co_yield, or co_return&quot;],[0,&quot;Being async&quot;],[0,&quot;Using std::coroutine_handle&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;A function becomes a coroutine when it uses any of the coroutine keywords: co_await, co_yield, or co_return.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What makes a function a coroutine?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Returning a special type</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Using co_await, co_yield, or co_return</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Being async</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Using std::coroutine_handle</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1u8qKk" prefix="r59" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\n// Simplified generator for demonstration\nstruct SimpleGen {\n    int current = 0;\n    int end;\n    \n    SimpleGen(int e) : end(e) {}\n    \n    bool next() {\n        if (current &lt; end) {\n            ++current;\n            return true;\n        }\n        return false;\n    }\n    \n    int value() const { return current - 1; }\n};\n\n// Simulates generator behavior without actual coroutines\nSimpleGen simulate_range(int start, int end) {\n    return SimpleGen(end - start);\n}\n\nint main() {\n    std::cout &lt;&lt; \&quot;Simulated coroutine generator:\\n\&quot;;\n    auto gen = simulate_range(0, 5);\n    \n    while (gen.next()) {\n        std::cout &lt;&lt; gen.value() &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Simulated coroutine generator:\\n0 1 2 3 4 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

// Simplified generator for demonstration
struct SimpleGen {
    int current = 0;
    int end;
    
    SimpleGen(int e) : end(e) {}
    
    bool next() {
        if (current &lt; end) {
            ++current;
            return true;
        }
        return false;
    }
    
    int value() const { return current - 1; }
};

// Simulates generator behavior without actual coroutines
SimpleGen simulate_range(int start, int end) {
    return SimpleGen(end - start);
}

int main() {
    std::cout &lt;&lt; &quot;Simulated coroutine generator:\n&quot;;
    auto gen = simulate_range(0, 5);
    
    while (gen.next()) {
        std::cout &lt;&lt; gen.value() &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-comment">// Simplified generator for demonstration</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">struct</span> SimpleGen <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">int</span> current <span class="hl-operator">=</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">int</span> end;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    SimpleGen<span class="hl-bracket">(</span><span class="hl-type">int</span> e<span class="hl-bracket">)</span> : end<span class="hl-bracket">(</span>e<span class="hl-bracket">)</span> <span class="hl-bracket">{</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">bool</span> next<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">        <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>current <span class="hl-operator">&lt;</span> end<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">            <span class="hl-operator">++</span>current;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">            <span class="hl-keyword">return</span> <span class="hl-keyword">true</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> <span class="hl-keyword">false</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">int</span> value<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> current <span class="hl-operator">-</span> <span class="hl-number">1</span>; <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-comment">// Simulates generator behavior without actual coroutines</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">SimpleGen simulate_range<span class="hl-bracket">(</span><span class="hl-type">int</span> start, <span class="hl-type">int</span> end<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> SimpleGen<span class="hl-bracket">(</span>end <span class="hl-operator">-</span> start<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Simulated coroutine generator:\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-type">auto</span> gen <span class="hl-operator">=</span> simulate_range<span class="hl-bracket">(</span><span class="hl-number">0</span>, <span class="hl-number">5</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    <span class="hl-keyword">while</span> <span class="hl-bracket">(</span>gen.next<span class="hl-bracket">(</span><span class="hl-bracket">)</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> gen.value<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">32</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">33</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">34</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">35</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">36</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Modules (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="modules-modern-code-organization">Modules: Modern Code Organization</h1>
<p>C++20 modules replace the preprocessor-based <code>#include</code> system with a semantic import mechanism, offering faster compilation and better encapsulation.</p>
<h2 id="basic-module-syntax">Basic Module Syntax</h2>
<h3 id="module-interface">Module Interface</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// math.cppm (module interface file)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> math;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> subtract</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="importing-a-module">Importing a Module</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// main.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import math;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> main</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Uses exported add()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="export-declarations">Export Declarations</h2>
<h3 id="exporting-functions">Exporting Functions</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> geometry;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> geometry</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> circle_area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> radius</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square_area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> side</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="exporting-classes">Exporting Classes</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> shapes;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">radius_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(r) {}</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Implementation can be in same file or separate</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14159</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="exporting-templates">Exporting Templates</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> containers;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#24292E;--shiki-dark:#E5C07B">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(value); }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="module-partitions">Module Partitions</h2>
<p>Split large modules into partitions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// math-basics.cppm (partition interface)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> math:basics;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// math-advanced.cppm (partition interface)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> math:advanced;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // implementation</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// math.cppm (primary module interface)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> math;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> import :basics;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Re-export partition</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> import :advanced;</span></span>
<span class="line"></span></code></pre>
<h2 id="implementation-units">Implementation Units</h2>
<p>Separate interface from implementation:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// widget.cppm (module interface)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> widget;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> internal_helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// widget.cpp (module implementation)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> widget;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No &#39;export&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    internal_helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">internal_helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Implementation details</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="module-linkage">Module Linkage</h2>
<h3 id="exported-vs-non-exported">Exported vs Non-Exported</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> utils;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Exported: Visible to importers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> public_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Not exported: Module-internal only</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> private_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Internal linkage</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> internal_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="global-module-fragment">Global Module Fragment</h2>
<p>Import legacy headers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">module</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Global module fragment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;vector&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;string&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mymodule;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyClass</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Uses std types</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="private-module-fragment">Private Module Fragment</h2>
<p>Hide implementation details completely:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> widget;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> :private;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Private fragment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Implementation hidden from importers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Helper functions not visible</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> helper</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="advantages-over-headers">Advantages Over Headers</h2>
<h3 id="1-faster-compilation">1. Faster Compilation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// With headers: Reparse every #include in every TU</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;vector&gt;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Parsed in every .cpp file</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// With modules: Parse once, import everywhere</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import std;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Pre-compiled module</span></span>
<span class="line"></span></code></pre>
<h3 id="2-no-macro-pollution">2. No Macro Pollution</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Header leaks macros</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#define</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> MAX</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) ((a)</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(b)</span><span style="color:#D73A49;--shiki-dark:#C678DD">?</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a)</span><span style="color:#D73A49;--shiki-dark:#C678DD">:</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(b))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Module doesn&#39;t leak implementation details</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> math;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Macros don&#39;t leak to importers</span></span>
<span class="line"></span></code></pre>
<h3 id="3-order-independence">3. Order Independence</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Headers: Order matters</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;b.h&quot;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must come before a.h sometimes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;a.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Modules: Order doesn&#39;t matter</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import a;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import b;</span></span>
<span class="line"></span></code></pre>
<h3 id="4-better-encapsulation">4. Better Encapsulation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Module interface</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> database;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Connection</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Only public interface exported</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Private implementation not exposed</span></span>
<span class="line"></span></code></pre>
<h2 id="importing-standard-library">Importing Standard Library</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import std;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Import entire standard library (C++23)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import </span><span style="color:#24292E;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">core</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Core utilities</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import </span><span style="color:#24292E;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">io</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // I/O facilities</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">import </span><span style="color:#24292E;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">regex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Regular expressions</span></span>
<span class="line"></span></code></pre>
<h2 id="module-vs-header-comparison">Module vs Header Comparison</h2>



































<table><thead><tr><th style="text-align:left">Aspect</th><th style="text-align:left">Headers</th><th style="text-align:left">Modules</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Parsing</strong></td><td style="text-align:left">Every TU</td><td style="text-align:left">Once</td></tr><tr><td style="text-align:left"><strong>Macros</strong></td><td style="text-align:left">Leak</td><td style="text-align:left">Don’t leak</td></tr><tr><td style="text-align:left"><strong>Order</strong></td><td style="text-align:left">Matters</td><td style="text-align:left">Independent</td></tr><tr><td style="text-align:left"><strong>ODR Violations</strong></td><td style="text-align:left">Possible</td><td style="text-align:left">Prevented</td></tr><tr><td style="text-align:left"><strong>Compile Time</strong></td><td style="text-align:left">Slow</td><td style="text-align:left">Fast</td></tr></tbody></table>
<h2 id="migration-strategy">Migration Strategy</h2>
<p>Gradual adoption:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 1. Start with new code</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> new_feature;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 2. Wrap existing headers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#D73A49;--shiki-dark:#C678DD"> module</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> legacy_wrapper;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">export</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    #include</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;old_header.h&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// 3. Eventually refactor to pure modules</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>One module per library</strong>: Don’t create too many small modules</li>
<li><strong>Use partitions</strong> for large modules</li>
<li><strong>Export minimal interface</strong>: Keep internals private</li>
<li><strong>Avoid global module fragment</strong> when possible</li>
<li><strong>Prefer module imports</strong> over header includes</li>
</ol>
<h2 id="compilation-model">Compilation Model</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile module interface (generates BMI - Binary Module Interface)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -std=c++20</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -c</span><span style="color:#032F62;--shiki-dark:#98C379"> math.cppm</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> math.o</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile code that imports module</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -std=c++20</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -c</span><span style="color:#032F62;--shiki-dark:#98C379"> main.cpp</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> main.o</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Link</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#032F62;--shiki-dark:#98C379"> math.o</span><span style="color:#032F62;--shiki-dark:#98C379"> main.o</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> program</span></span>
<span class="line"></span></code></pre>
<astro-island uid="1NMzlt" prefix="r60" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the primary advantage of modules over headers?&quot;],&quot;answers&quot;:[1,[[0,&quot;Smaller file size&quot;],[0,&quot;Faster compilation through parsing once&quot;],[0,&quot;Better syntax&quot;],[0,&quot;More features&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Modules are parsed once and cached, while headers are reparsed in every translation unit, significantly improving compilation time.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the primary advantage of modules over headers?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Smaller file size</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Faster compilation through parsing once</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Better syntax</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">More features</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="BG2Ts" prefix="r61" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;title&quot;:[0,&quot;Module Export&quot;],&quot;code&quot;:[0,&quot;[!blank!] module math;\n\nexport int multiply(int a, int b) {\n    return a * b;\n}&quot;],&quot;answers&quot;:[1,[[0,&quot;export&quot;]]],&quot;explanation&quot;:[0,&quot;The &#39;export&#39; keyword marks a module interface, making declarations visible to importers.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Module Export</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span></span><input type="text" placeholder="?" size="6" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span> module math;

<span class="hl-keyword">export</span> <span class="hl-type">int</span> multiply<span class="hl-bracket">(</span><span class="hl-type">int</span> a, <span class="hl-type">int</span> b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
    <span class="hl-keyword">return</span> a <span class="hl-operator">*</span> b;
<span class="hl-bracket">}</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Three-Way Comparison (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="the-spaceship-operator-c20">The Spaceship Operator (C++20)</h1>
<p>C++20 introduces the three-way comparison operator <code>&lt;=&gt;</code> (nicknamed “spaceship”), dramatically simplifying comparison operator implementation.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;compare&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(y) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Default three-way comparison</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p1{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, p2{</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Automatically works</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatically works</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Automatically works</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatically works</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Requires separate == or also defaulted</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">p1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p2;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Generated from ==</span></span>
<span class="line"></span></code></pre>
<h2 id="comparison-categories">Comparison Categories</h2>
<p>The spaceship operator returns one of three ordering types:</p>
<h3 id="1-strong_ordering">1. strong_ordering</h3>
<p>Total order with substitutability:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">strong_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::less</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">strong_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">strong_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::greater</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">strong_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::equivalent</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Same as equal</span></span>
<span class="line"></span></code></pre>
<p>Use when equal values are truly identical:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Integer</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">strong_ordering</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Integer</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">value_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="2-weak_ordering">2. weak_ordering</h3>
<p>Total order without substitutability:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">weak_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::less</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">weak_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::equivalent</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">weak_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::greater</span></span>
<span class="line"></span></code></pre>
<p>Use when equal values may not be substitutable (e.g., case-insensitive strings):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> CaseInsensitiveString</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string value_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">weak_ordering</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> CaseInsensitiveString</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Compare ignoring case</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;Hello&quot; and &quot;hello&quot; are equivalent but not equal</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="3-partial_ordering">3. partial_ordering</h3>
<p>May have incomparable values:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">partial_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::less</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">partial_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::equivalent</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">partial_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::greater</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">partial_ordering</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unordered</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Not comparable</span></span>
<span class="line"></span></code></pre>
<p>Use for types like floating-point (NaN is unordered):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">nan</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cmp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Returns partial_ordering::unordered</span></span>
<span class="line"></span></code></pre>
<h2 id="defaulted-spaceship">Defaulted Spaceship</h2>
<p>The compiler can generate <code>&lt;=&gt;</code> for you:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Compares members lexicographically: first name, then age</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="member-wise-comparison-order">Member-wise Comparison Order</h3>
<p>Comparison happens in declaration order:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Record</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> priority;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Compared first</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> // Compared second if priority equal</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Compared third if name equal</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Record</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-spaceship">Custom Spaceship</h2>
<p>Implement custom logic:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Version</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> major_, minor_, patch_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">strong_ordering</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Version</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cmp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> major_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">major_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; cmp </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cmp;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cmp </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> minor_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">minor_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; cmp </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> cmp;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> patch_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">patch_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="equality-vs-spaceship">Equality vs Spaceship</h2>
<p>For efficiency, you might want to define <code>==</code> separately:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> String</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Fast equality check</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> String</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Three-way comparison for ordering</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">strong_ordering</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> String</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="default-both">Default Both</h2>
<p>Common pattern: default both operators:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="heterogeneous-comparisons">Heterogeneous Comparisons</h2>
<p>Compare different types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Temperature</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> celsius_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Temperature</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> c</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">celsius_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(c) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">partial_ordering</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> fahrenheit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (fahrenheit </span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 32</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#005CC5;--shiki-dark:#D19A66">9</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> celsius_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">Temperature</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">t </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 212.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Compare Celsius with Fahrenheit</span></span>
<span class="line"></span></code></pre>
<h2 id="compiler-generated-operators">Compiler-Generated Operators</h2>
<p>With defaulted <code>&lt;=&gt;</code>, you get all six comparison operators:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Data</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Data</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Generated automatically:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &lt;, &lt;=, &gt;, &gt;=</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Also need == for these:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Data</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Then != is also generated</span></span>
<span class="line"></span></code></pre>
<h2 id="pre-c20-vs-c20">Pre-C++20 vs C++20</h2>
<h3 id="before-c20">Before C++20</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> other);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#56B6C2">||</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (x_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(other </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> other </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&gt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> other);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="with-c20">With C++20</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_, y_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Done! All six operators generated</span></span>
<span class="line"></span></code></pre>
<h2 id="special-cases">Special Cases</h2>
<h3 id="comparison-with-stdtie">Comparison with std::tie</h3>
<p>Before C++20 idiom:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">tie</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x_, y_) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">tie</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>C++20 makes this unnecessary:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">&lt;=&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<astro-island uid="o1R3a" prefix="r62" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does the spaceship operator return?&quot;],&quot;answers&quot;:[1,[[0,&quot;bool&quot;],[0,&quot;int&quot;],[0,&quot;Comparison category (strong/weak/partial_ordering)&quot;],[0,&quot;std::ordering&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;The spaceship operator returns a comparison category type: strong_ordering, weak_ordering, or partial_ordering.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does the spaceship operator return?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">bool</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">int</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Comparison category (strong/weak/partial_ordering)</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">std::ordering</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z11AQsp" prefix="r63" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;compare&gt;\n\nstruct Point {\n    int x, y;\n    \n    auto operator&lt;=&gt;(const Point&amp;) const = default;\n    bool operator==(const Point&amp;) const = default;\n};\n\nint main() {\n    Point p1{1, 2}, p2{3, 4}, p3{1, 2};\n    \n    std::cout &lt;&lt; std::boolalpha;\n    std::cout &lt;&lt; \&quot;p1 &lt; p2: \&quot; &lt;&lt; (p1 &lt; p2) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;p1 == p3: \&quot; &lt;&lt; (p1 == p3) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;p2 &gt; p1: \&quot; &lt;&lt; (p2 &gt; p1) &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;p1 != p2: \&quot; &lt;&lt; (p1 != p2) &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;p1 &lt; p2: true\\np1 == p3: true\\np2 &gt; p1: true\\np1 != p2: true&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;compare&gt;

struct Point {
    int x, y;
    
    auto operator&lt;=&gt;(const Point&amp;) const = default;
    bool operator==(const Point&amp;) const = default;
};

int main() {
    Point p1{1, 2}, p2{3, 4}, p3{1, 2};
    
    std::cout &lt;&lt; std::boolalpha;
    std::cout &lt;&lt; &quot;p1 &lt; p2: &quot; &lt;&lt; (p1 &lt; p2) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;p1 == p3: &quot; &lt;&lt; (p1 == p3) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;p2 &gt; p1: &quot; &lt;&lt; (p2 &gt; p1) &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;p1 != p2: &quot; &lt;&lt; (p1 != p2) &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>compare<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">struct</span> Point <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">int</span> x, y;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">auto</span> operator<span class="hl-operator">&lt;=</span><span class="hl-operator">&gt;</span><span class="hl-bracket">(</span><span class="hl-keyword">const</span> Point<span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-operator">=</span> <span class="hl-keyword">default</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">bool</span> operator<span class="hl-operator">==</span><span class="hl-bracket">(</span><span class="hl-keyword">const</span> Point<span class="hl-operator">&amp;</span><span class="hl-bracket">)</span> <span class="hl-keyword">const</span> <span class="hl-operator">=</span> <span class="hl-keyword">default</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    Point p1<span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span><span class="hl-bracket">}</span>, p2<span class="hl-bracket">{</span><span class="hl-number">3</span>, <span class="hl-number">4</span><span class="hl-bracket">}</span>, p3<span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>boolalpha;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;p1 &lt; p2: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span>p1 <span class="hl-operator">&lt;</span> p2<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;p1 == p3: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span>p1 <span class="hl-operator">==</span> p3<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;p2 &gt; p1: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span>p2 <span class="hl-operator">&gt;</span> p1<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;p1 != p2: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span>p1 <span class="hl-operator">!=</span> p2<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Designated Initializers (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="designated-initializers">Designated Initializers</h1>
<p>C++20 introduces designated initializers from C99, allowing you to initialize struct members by name. This improves clarity and maintainability, especially for structs with many members.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> width;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> height;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fullscreen;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> scale;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Traditional initialization</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Config c1{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1920</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1080</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // What does each value mean?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++20 designated initializers</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Config c2{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .width </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1920</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .height </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1080</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .fullscreen </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .scale </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Crystal clear!</span></span>
<span class="line"></span></code></pre>
<h2 id="partial-initialization">Partial Initialization</h2>
<p>You can initialize only specific members:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Settings</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> timeout </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Default value</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> debug </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string host </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;localhost&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Settings s{.debug </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only set debug, others use defaults</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// timeout=30, debug=true, host=&quot;localhost&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="order-requirement">Order Requirement</h2>
<p>C++ requires designated initializers to match declaration order:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> z;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p1{.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: follows declaration order</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p2{.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ERROR: out of order!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p3{.y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .z </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // OK: can skip x</span></span>
<span class="line"></span></code></pre>
<p>This differs from C99, which allows any order.</p>
<h2 id="cannot-mix-with-positional">Cannot Mix with Positional</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Data</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a, b, c;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Data d1{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .c </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ERROR: cannot mix</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Data d2{.a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // ERROR: cannot mix</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Data d3{.a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // OK: all designated</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Data d4{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // OK: all positional</span></span>
<span class="line"></span></code></pre>
<h2 id="nested-structs">Nested Structs</h2>
<p>Designated initializers work with nested structures:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Address</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string street;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string city;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> zipcode;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Address address;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Person p{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .name </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .age </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .address </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .street </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;123 Main St&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .city </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Springfield&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .zipcode </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 12345</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="arrays-in-structs">Arrays in Structs</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Palette</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    unsigned</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char</span><span style="color:#24292E;--shiki-dark:#E5C07B"> colors</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Palette red{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .colors </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">255</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .name </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Red&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="with-constructor-overloading">With Constructor Overloading</h2>
<p>Designated initializers use aggregate initialization, so they work only with aggregates:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Simple</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // No user-defined constructors</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Simple s{.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: aggregate</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> WithConstructor</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    WithConstructor</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(b) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">WithConstructor w{.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ERROR: not an aggregate</span></span>
<span class="line"></span></code></pre>
<h2 id="stdarray-and-containers">std::array and Containers</h2>
<p>Designated initializers don’t work directly with std::array, but you can use them in enclosing structs:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::array</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> values;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Config cfg{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .values </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .name </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Test&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="real-world-example">Real-World Example</h2>
<p>Configuration management becomes much clearer:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ServerConfig</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string host </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;0.0.0.0&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> port </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 8080</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> max_connections </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> enable_tls </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string cert_path;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> timeout_seconds </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> verbose </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Clear what each setting does</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">ServerConfig production{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .host </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;api.example.com&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .port </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 443</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .enable_tls </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .cert_path </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;/etc/ssl/cert.pem&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .verbose </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">ServerConfig development{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .port </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .verbose </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="function-parameters">Function Parameters</h2>
<p>Particularly useful for options objects:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> DrawOptions</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> line_width </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    unsigned</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> color </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#E06C75"> 0x</span><span style="color:#005CC5;--shiki-dark:#D19A66">000000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> anti_alias </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> opacity </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> draw_line</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> start</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">DrawOptions</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> opts</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Call with clear intent</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">draw_line</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {.x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .y </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">},</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    {.color </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#E06C75"> 0x</span><span style="color:#005CC5;--shiki-dark:#D19A66">FF0000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, .line_width </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="comparison-before-and-after">Comparison: Before and After</h2>
<h3 id="c17">C++17</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> WindowConfig</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> width, height;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string title;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> resizable, fullscreen;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Hard to read</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">WindowConfig cfg{</span><span style="color:#005CC5;--shiki-dark:#D19A66">800</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">600</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;My App&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better, but verbose</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">WindowConfig cfg;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">width</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 800</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">height</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 600</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">title</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;My App&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">resizable</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">fullscreen</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h3 id="c20">C++20</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">WindowConfig cfg{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .width </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 800</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .height </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 600</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .title </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;My App&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .resizable </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .fullscreen </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="with-const-and-constexpr">With const and constexpr</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Constants</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> max_retries;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> timeout;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Constants network_defaults{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .max_retries </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .timeout </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="benefits">Benefits</h2>
<ol>
<li><strong>Self-documenting</strong>: Code clearly shows what each value represents</li>
<li><strong>Refactor-safe</strong>: Adding/removing/reordering members is safer</li>
<li><strong>Default values</strong>: Easy to use defaults for some members</li>
<li><strong>Type safety</strong>: Compiler catches mismatched types</li>
<li><strong>IDE support</strong>: Better autocomplete and hints</li>
</ol>
<h2 id="limitations">Limitations</h2>
<ol>
<li>Must be in declaration order (unlike C99)</li>
<li>Only works with aggregates</li>
<li>Cannot mix with positional initialization</li>
<li>Cannot repeat members</li>
<li>No computed field names</li>
</ol>
<astro-island uid="ZHUvl2" prefix="r64" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is required about the order of designated initializers in C++20?&quot;],&quot;answers&quot;:[1,[[0,&quot;They can be in any order&quot;],[0,&quot;They must be in alphabetical order&quot;],[0,&quot;They must match the declaration order in the struct&quot;],[0,&quot;They must be in reverse order&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;C++20 requires designated initializers to match the declaration order of members in the struct, unlike C99 which allows any order.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is required about the order of designated initializers in C++20?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They can be in any order</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They must be in alphabetical order</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They must match the declaration order in the struct</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They must be in reverse order</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="XxwHu" prefix="r65" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;struct Rectangle {\n    int width = 10;\n    int height = 20;\n    std::string color = \&quot;red\&quot;;\n};\n\n// Initialize rect with width=50, height=30, keep default color\nRectangle rect{_______________};&quot;],&quot;correctAnswer&quot;:[0,&quot;.width = 50, .height = 30&quot;],&quot;explanation&quot;:[0,&quot;Use designated initializers to set width and height. The color will use its default value &#39;red&#39;.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-keyword">struct</span> Rectangle <span class="hl-bracket">{</span>
    <span class="hl-type">int</span> width <span class="hl-operator">=</span> <span class="hl-number">10</span>;
    <span class="hl-type">int</span> height <span class="hl-operator">=</span> <span class="hl-number">20</span>;
    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> color <span class="hl-operator">=</span> <span class="hl-string">&quot;red&quot;</span>;
<span class="hl-bracket">}</span>;

<span class="hl-comment">// Initialize rect with width=50, height=30, keep default color</span>
Rectangle rect<span class="hl-bracket">{</span></span><input type="text" placeholder="?" size="25" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">}</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="6p9Nc" prefix="r66" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nstruct Employee {\n    std::string name;\n    int id;\n    double salary = 50000.0;\n    bool remote = false;\n};\n\nint main() {\n    Employee e1{\n        .name = \&quot;Alice\&quot;,\n        .id = 101,\n        .salary = 75000.0\n    };\n    \n    Employee e2{\n        .name = \&quot;Bob\&quot;,\n        .id = 102,\n        .remote = true\n    };\n    \n    std::cout &lt;&lt; e1.name &lt;&lt; \&quot;: $\&quot; &lt;&lt; e1.salary &lt;&lt; \&quot;, Remote: \&quot; &lt;&lt; e1.remote &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; e2.name &lt;&lt; \&quot;: $\&quot; &lt;&lt; e2.salary &lt;&lt; \&quot;, Remote: \&quot; &lt;&lt; e2.remote &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Alice: $75000, Remote: 0\\nBob: $50000, Remote: 1&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;string&gt;

struct Employee {
    std::string name;
    int id;
    double salary = 50000.0;
    bool remote = false;
};

int main() {
    Employee e1{
        .name = &quot;Alice&quot;,
        .id = 101,
        .salary = 75000.0
    };
    
    Employee e2{
        .name = &quot;Bob&quot;,
        .id = 102,
        .remote = true
    };
    
    std::cout &lt;&lt; e1.name &lt;&lt; &quot;: $&quot; &lt;&lt; e1.salary &lt;&lt; &quot;, Remote: &quot; &lt;&lt; e1.remote &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; e2.name &lt;&lt; &quot;: $&quot; &lt;&lt; e2.salary &lt;&lt; &quot;, Remote: &quot; &lt;&lt; e2.remote &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-keyword">struct</span> Employee <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> name;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">int</span> id;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">double</span> salary <span class="hl-operator">=</span> <span class="hl-number">50000</span>.<span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">bool</span> remote <span class="hl-operator">=</span> <span class="hl-keyword">false</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    Employee e1<span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">        .name <span class="hl-operator">=</span> <span class="hl-string">&quot;Alice&quot;</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        .id <span class="hl-operator">=</span> <span class="hl-number">101</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        .salary <span class="hl-operator">=</span> <span class="hl-number">75000</span>.<span class="hl-number">0</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    Employee e2<span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">        .name <span class="hl-operator">=</span> <span class="hl-string">&quot;Bob&quot;</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">        .id <span class="hl-operator">=</span> <span class="hl-number">102</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">        .remote <span class="hl-operator">=</span> <span class="hl-keyword">true</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> e1.name <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;: $&quot;</span> <span class="hl-operator">&lt;&lt;</span> e1.salary <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, Remote: &quot;</span> <span class="hl-operator">&lt;&lt;</span> e1.remote <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> e2.name <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;: $&quot;</span> <span class="hl-operator">&lt;&lt;</span> e2.salary <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;, Remote: &quot;</span> <span class="hl-operator">&lt;&lt;</span> e2.remote <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">constexpr and consteval (C++20/23)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="compile-time-computation-evolution">Compile-Time Computation Evolution</h1>
<p>Modern C++ continuously expands compile-time capabilities. C++20 and C++23 bring significant improvements to constexpr and introduce consteval and constinit.</p>
<h2 id="constexpr-evolution">constexpr Evolution</h2>
<h3 id="c11-basic-constexpr-functions">C++11: Basic constexpr Functions</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Computed at compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> runtime_val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Can still be used at runtime</span></span>
<span class="line"></span></code></pre>
<h3 id="c14-relaxed-constexpr">C++14: Relaxed constexpr</h3>
<p>Allows multiple statements, loops, and local variables:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        result </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fact5 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 120, computed at compile-time</span></span>
<span class="line"></span></code></pre>
<h3 id="c17-constexpr-lambda">C++17: constexpr Lambda</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> squared </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; };</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> squared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 100</span></span>
<span class="line"></span></code></pre>
<h3 id="c20-major-expansions">C++20: Major Expansions</h3>
<p>Virtual functions, try-catch, dynamic allocation, and more:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;vector&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;algorithm&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> sum_vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dynamic allocation!</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x : vec) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> sum_vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 15, at compile-time</span></span>
<span class="line"></span></code></pre>
<h2 id="consteval-immediate-functions-c20">consteval: Immediate Functions (C++20)</h2>
<p>Functions that <strong>must</strong> execute at compile-time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compile_time_only</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compile_time_only</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compile_time_only</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // ERROR: not compile-time</span></span>
<span class="line"></span></code></pre>
<h3 id="use-cases-for-consteval">Use Cases for consteval</h3>
<p>Generate compile-time constants:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> unsigned</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> hash_string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    unsigned</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> hash </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">str) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        hash </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> hash </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 31</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">str</span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> hash;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">switch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (event_type) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    case</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> hash_string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;click&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">):</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Computed at compile-time</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        handle_click</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    case</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> hash_string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;keypress&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">):</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        handle_key</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="consteval-vs-constexpr">consteval vs constexpr</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> maybe_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> always_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> runtime_value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> maybe_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // OK: compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> maybe_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(runtime_value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: runtime</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> always_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // OK: compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> d </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> always_compile_time</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(runtime_value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ERROR!</span></span>
<span class="line"></span></code></pre>
<h2 id="constinit-compile-time-initialization-c20">constinit: Compile-Time Initialization (C++20)</h2>
<p>Ensures variables are initialized at compile-time, but allows runtime modification:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constinit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> global_counter </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must be compile-time initialized</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> increment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    ++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">global_counter;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // OK: can modify at runtime</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// constexpr would make it immutable</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> immutable </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// immutable = 43;  // ERROR: cannot modify</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// constinit ensures initialization, allows modification</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constinit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mutable_init </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // compute_value() must be constexpr</span></span>
<span class="line"></span></code></pre>
<h3 id="static-storage-duration">Static Storage Duration</h3>
<p>constinit is primarily for static/thread-local variables:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constinit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> initialized_once </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> expensive_computation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Guarantees no dynamic initialization order issues</span></span>
<span class="line"></span></code></pre>
<h3 id="prevents-static-initialization-order-fiasco">Prevents Static Initialization Order Fiasco</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// header.h</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constinit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> extern</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> global_config;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Declaration</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// source.cpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constinit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> global_config </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must be compile-time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// other.cpp</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Safe to use global_config - guaranteed initialized</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> global_config </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h2 id="if-consteval-c23">if consteval (C++23)</h2>
<p>Different code paths for compile-time vs runtime:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> consteval</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // This branch runs only at compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> expensive_compile_time_computation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // This branch runs only at runtime</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fast_runtime_computation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="practical-example">Practical Example</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compile_time_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Simple algorithm acceptable for compile-time</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x) </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> runtime_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Optimized runtime algorithm</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> safe_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#D73A49;--shiki-dark:#C678DD"> consteval</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compile_time_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> runtime_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="constexpr-stdstring-and-stdvector-c20">constexpr std::string and std::vector (C++20)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> build_greeting</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string greeting </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello, &quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    greeting </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;World!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> greeting;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> msg </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> build_greeting</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Compile-time!</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_primes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> primes;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> max; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">n) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> is_prime </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p : primes) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">                is_prime </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">                break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (is_prime) </span><span style="color:#24292E;--shiki-dark:#E5C07B">primes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> primes;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> primes </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_primes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::array or similar at compile-time</span></span>
<span class="line"></span></code></pre>
<h2 id="constexpr-virtual-functions-c20">constexpr Virtual Functions (C++20)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Shape</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : Shape {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    constexpr</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Circle</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">radius</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(r) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14159</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> radius;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Circle c{</span><span style="color:#005CC5;--shiki-dark:#D19A66">5.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Shape</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> s </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Virtual call at compile-time!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> area </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute_area</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 78.5398...</span></span>
<span class="line"></span></code></pre>
<h2 id="try-catch-in-constexpr-c20">try-catch in constexpr (C++20)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> safe_divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> safe_divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 5</span></span>
<span class="line"></span></code></pre>
<p>Note: Throwing exceptions causes compile-time evaluation to fail, but the structure is allowed.</p>
<h2 id="stdis_constant_evaluated">std::is_constant_evaluated()</h2>
<p>Detect compile-time evaluation:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;type_traits&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_constant_evaluated</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Compile-time: use simple algorithm</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Runtime: can use optimized version</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fast_multiply</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x, x);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-examples">Practical Examples</h2>
<h3 id="compile-time-configuration">Compile-Time Configuration</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_build_config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> version;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> optimization_level;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> debug;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Config{</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .version </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;1.0.0&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .optimization_level </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .debug </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> config </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_build_config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h3 id="compile-time-validation">Compile-Time Validation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">consteval</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> validate_range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> min</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (min </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> max) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        throw</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Invalid range&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Compile-time error</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Min</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        validate_range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Min, Max);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Compile-time check</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> valid;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // OK</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Range</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> invalid;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Compile error!</span></span>
<span class="line"></span></code></pre>
<astro-island uid="Z1PtAN9" prefix="r67" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the key difference between constexpr and consteval functions?&quot;],&quot;answers&quot;:[1,[[0,&quot;constexpr is faster&quot;],[0,&quot;consteval must execute at compile-time, constexpr can run at runtime&quot;],[0,&quot;consteval is deprecated&quot;],[0,&quot;They are the same&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;consteval functions MUST execute at compile-time, while constexpr functions CAN execute at compile-time but can also run at runtime if needed.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the key difference between constexpr and consteval functions?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">constexpr is faster</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">consteval must execute at compile-time, constexpr can run at runtime</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">consteval is deprecated</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They are the same</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="ZLmAuM" prefix="r68" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;// Create a function that MUST execute at compile-time\n_______ int cube(int x) {\n    return x * x * x;\n}\n\nconstexpr int result = cube(3);  // Must work at compile-time&quot;],&quot;correctAnswer&quot;:[0,&quot;consteval&quot;],&quot;explanation&quot;:[0,&quot;Use consteval to create a function that must execute at compile-time.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-comment">// Create a function that MUST execute at compile-time</span>
</span><input type="text" placeholder="?" size="9" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span> <span class="hl-type">int</span> cube<span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
    <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x <span class="hl-operator">*</span> x;
<span class="hl-bracket">}</span>

<span class="hl-keyword">constexpr</span> <span class="hl-type">int</span> result <span class="hl-operator">=</span> cube<span class="hl-bracket">(</span><span class="hl-number">3</span><span class="hl-bracket">)</span>;  <span class="hl-comment">// Must work at compile-time</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="PIGLg" prefix="r69" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n\nconstexpr int factorial(int n) {\n    int result = 1;\n    for (int i = 2; i &lt;= n; ++i) {\n        result *= i;\n    }\n    return result;\n}\n\nconsteval int square(int x) {\n    return x * x;\n}\n\nint main() {\n    constexpr int fact5 = factorial(5);\n    constexpr int sq10 = square(10);\n    \n    std::cout &lt;&lt; \&quot;5! = \&quot; &lt;&lt; fact5 &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;10² = \&quot; &lt;&lt; sq10 &lt;&lt; &#39;\\n&#39;;\n    \n    // This works:\n    int n = 5;\n    std::cout &lt;&lt; \&quot;factorial(\&quot; &lt;&lt; n &lt;&lt; \&quot;) = \&quot; &lt;&lt; factorial(n) &lt;&lt; &#39;\\n&#39;;\n    \n    // This would fail: square(n) - consteval requires compile-time\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;5! = 120\\n10² = 100\\nfactorial(5) = 120&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;

constexpr int factorial(int n) {
    int result = 1;
    for (int i = 2; i &lt;= n; ++i) {
        result *= i;
    }
    return result;
}

consteval int square(int x) {
    return x * x;
}

int main() {
    constexpr int fact5 = factorial(5);
    constexpr int sq10 = square(10);
    
    std::cout &lt;&lt; &quot;5! = &quot; &lt;&lt; fact5 &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;10² = &quot; &lt;&lt; sq10 &lt;&lt; &#x27;\n&#x27;;
    
    // This works:
    int n = 5;
    std::cout &lt;&lt; &quot;factorial(&quot; &lt;&lt; n &lt;&lt; &quot;) = &quot; &lt;&lt; factorial(n) &lt;&lt; &#x27;\n&#x27;;
    
    // This would fail: square(n) - consteval requires compile-time
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-keyword">constexpr</span> <span class="hl-type">int</span> factorial<span class="hl-bracket">(</span><span class="hl-type">int</span> n<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">    <span class="hl-type">int</span> result <span class="hl-operator">=</span> <span class="hl-number">1</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">2</span>; i <span class="hl-operator">&lt;=</span> n; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">        result <span class="hl-operator">*</span><span class="hl-operator">=</span> i;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> result;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">consteval <span class="hl-type">int</span> square<span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-keyword">constexpr</span> <span class="hl-type">int</span> fact5 <span class="hl-operator">=</span> factorial<span class="hl-bracket">(</span><span class="hl-number">5</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">constexpr</span> <span class="hl-type">int</span> sq10 <span class="hl-operator">=</span> square<span class="hl-bracket">(</span><span class="hl-number">10</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;5! = &quot;</span> <span class="hl-operator">&lt;&lt;</span> fact5 <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;10² = &quot;</span> <span class="hl-operator">&lt;&lt;</span> sq10 <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-comment">// This works:</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-type">int</span> n <span class="hl-operator">=</span> <span class="hl-number">5</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;factorial(&quot;</span> <span class="hl-operator">&lt;&lt;</span> n <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;) = &quot;</span> <span class="hl-operator">&lt;&lt;</span> factorial<span class="hl-bracket">(</span>n<span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-comment">// This would fail: square(n) - consteval requires compile-time</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">std::format (C++20)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="modern-string-formatting">Modern String Formatting</h1>
<p>C++20’s <code>std::format</code> provides Python-style string formatting that’s type-safe, efficient, and more intuitive than iostream or printf.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;format&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;string&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++20 format</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string msg </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello, {}! You are {} years old.&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, name, age);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// &quot;Hello, Alice! You are 30 years old.&quot;</span></span>
<span class="line"></span></code></pre>
<h3 id="comparison-with-alternatives">Comparison with Alternatives</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// printf: not type-safe, no std::string support</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">printf</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello, </span><span style="color:#005CC5;--shiki-dark:#D19A66">%s</span><span style="color:#032F62;--shiki-dark:#98C379">! You are </span><span style="color:#005CC5;--shiki-dark:#D19A66">%d</span><span style="color:#032F62;--shiki-dark:#98C379"> years old.</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">c_str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), age);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// iostream: verbose, awkward</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::ostringstream oss;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">oss </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello, &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;! You are &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; years old.&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string msg </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> oss</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::format: clean and type-safe</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> msg </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello, {}! You are {} years old.&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, name, age);</span></span>
<span class="line"></span></code></pre>
<h2 id="positional-arguments">Positional Arguments</h2>
<p>Reference arguments by position:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{0} {1} {0}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;Hello World Hello&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{1} {0}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;Hello World&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="format-specifications">Format Specifications</h2>
<h3 id="integers">Integers</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> num </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // &quot;42&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;42&quot; (decimal)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:x}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;2a&quot; (hexadecimal lowercase)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:X}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;2A&quot; (hexadecimal uppercase)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:o}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;52&quot; (octal)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:b}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;101010&quot; (binary)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:06d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // &quot;000042&quot; (zero-padded, width 6)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:+d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;+42&quot; (show sign)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{: d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, num);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot; 42&quot; (space for positive)</span></span>
<span class="line"></span></code></pre>
<h3 id="floating-point">Floating-Point</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> pi </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 3.14159265359</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // &quot;3.14159265359&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:.2f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;3.14&quot; (2 decimal places)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:.5f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;3.14159&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:e}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;3.141593e+00&quot; (scientific)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:E}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;3.141593E+00&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:g}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;3.14159&quot; (general format)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:10.2f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;      3.14&quot; (width 10)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:010.2f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, pi);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // &quot;0000003.14&quot; (zero-padded)</span></span>
<span class="line"></span></code></pre>
<h3 id="strings">Strings</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string text </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;Hello&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:10}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // &quot;Hello     &quot; (width 10, left-aligned)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:&gt;10}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;     Hello&quot; (right-aligned)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:^10}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;  Hello   &quot; (centered)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:*&lt;10}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // &quot;Hello*****&quot; (fill with *)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:.3}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, text);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // &quot;Hel&quot; (truncate to 3)</span></span>
<span class="line"></span></code></pre>
<h2 id="alignment-and-fill">Alignment and Fill</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:&lt;5}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;42   &quot; (left-aligned, width 5)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:&gt;5}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;   42&quot; (right-aligned)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:^5}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot; 42  &quot; (centered)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:*&gt;5}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;***42&quot; (fill with *, right-aligned)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:0&gt;5}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;00042&quot; (zero-padded)</span></span>
<span class="line"></span></code></pre>
<h2 id="type-specific-formatting">Type-Specific Formatting</h2>
<h3 id="pointers">Pointers</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, ptr);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // &quot;0x7ffc12345678&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:p}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, ptr);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // &quot;0x7ffc12345678&quot;</span></span>
<span class="line"></span></code></pre>
<h3 id="booleans">Booleans</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> flag </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, flag);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;true&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:s}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, flag);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;true&quot; (string representation)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, flag);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // &quot;1&quot; (numeric representation)</span></span>
<span class="line"></span></code></pre>
<h3 id="characters">Characters</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ch </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;A&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, ch);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          // &quot;A&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, ch);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // &quot;65&quot; (ASCII value)</span></span>
<span class="line"></span></code></pre>
<h2 id="compile-time-format-string-checking">Compile-Time Format String Checking</h2>
<p>Format strings are checked at compile-time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // OK</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:d}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // OK</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // Compile error: can&#39;t format int as float</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{} {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, n);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Compile error: too few arguments</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-type-formatting">Custom Type Formatting</h2>
<p>Extend formatting for your types:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">formatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">format_parse_context</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">format_context</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">out</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;({}, {})&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p{</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Point: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;Point: (10, 20)&quot;</span></span>
<span class="line"></span></code></pre>
<h3 id="advanced-custom-formatting">Advanced Custom Formatting</h3>
<p>Support format specifications:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">formatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> presentation </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;c&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &#39;c&#39; for cartesian, &#39;p&#39; for polar</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">format_parse_context</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;c&#39;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> ||</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;p&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            presentation </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it</span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">format_context</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (presentation </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;p&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> r </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#E5C07B"> p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> theta </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">atan2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">out</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r={:.2f}, θ={:.2f}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, r, theta);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">ctx</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">out</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;({}, {})&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Point p{</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:c}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;(3, 4)&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:p}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, p);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // &quot;r=5.00, θ=0.93&quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="format_to-output-iterators">format_to: Output Iterators</h2>
<p>Write directly to output iterators for efficiency:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string buffer;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(buffer), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// buffer == &quot;Value: 42&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;char&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="format_to_n-bounded-output">format_to_n: Bounded Output</h2>
<p>Format with size limit:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#E5C07B"> buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to_n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(buffer, </span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(buffer), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">12345</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result.out points past the last written character</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result.size is the total that would have been written</span></span>
<span class="line"></span></code></pre>
<h2 id="formatted_size-size-calculation">formatted_size: Size Calculation</h2>
<p>Calculate size without formatting:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">formatted_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {}, {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;test&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string buffer;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reserve</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(size);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format_to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(buffer), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {}, {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;test&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="localization-support">Localization Support</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">locale</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> loc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;de_DE.UTF-8&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1234.56</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:L}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">              // &quot;1,234.56&quot; (default locale)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(loc, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{:L}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">         // &quot;1.234,56&quot; (German locale)</span></span>
<span class="line"></span></code></pre>
<h2 id="escaping-braces">Escaping Braces</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{{}}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // &quot;{}&quot;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{{{}}} &quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;{42} &quot;</span></span>
<span class="line"></span></code></pre>
<h2 id="vformat-runtime-format-strings">vformat: Runtime Format Strings</h2>
<p>When format string isn’t known at compile-time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string fmt </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_format_from_user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Runtime string</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vformat</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(fmt, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_format_args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(arg1, arg2));</span></span>
<span class="line"></span></code></pre>
<h2 id="performance-benefits">Performance Benefits</h2>
<p>std::format is typically faster than iostream:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Iostream: multiple virtual calls, manipulator overhead</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::ostringstream oss;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">oss </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Value: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">setw</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">setfill</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;0&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::format: single operation, optimized</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {:010}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, value);</span></span>
<span class="line"></span></code></pre>
<h2 id="migration-from-printf">Migration from printf</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// printf</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">printf</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#005CC5;--shiki-dark:#D19A66">%s</span><span style="color:#032F62;--shiki-dark:#98C379">: </span><span style="color:#005CC5;--shiki-dark:#D19A66">%d</span><span style="color:#032F62;--shiki-dark:#98C379"> items, </span><span style="color:#005CC5;--shiki-dark:#D19A66">%.2f</span><span style="color:#032F62;--shiki-dark:#98C379"> total</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">c_str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), count, total);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::format</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">println</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}: {} items, {:.2f} total&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, name, count, total);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// or</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}: {} items, {:.2f} total</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, name, count, total);</span></span>
<span class="line"></span></code></pre>
<h2 id="c23-stdprint-and-stdprintln">C++23 std::print and std::println</h2>
<p>C++23 adds convenience functions:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello, {}!</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, name);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // Print to stdout</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">println</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Value: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, value);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">           // Print with newline</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(stderr, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Error: {}</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, msg);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Print to stderr</span></span>
<span class="line"></span></code></pre>
<astro-island uid="kNeJi" prefix="r70" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the advantage of std::format over printf?&quot;],&quot;answers&quot;:[1,[[0,&quot;It&#39;s faster in all cases&quot;],[0,&quot;Type safety at compile-time&quot;],[0,&quot;It uses less memory&quot;],[0,&quot;It&#39;s shorter to write&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;std::format provides compile-time type checking, preventing format string mismatches that would cause undefined behavior in printf.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the advantage of std::format over printf?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">It&#x27;s faster in all cases</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Type safety at compile-time</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">It uses less memory</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">It&#x27;s shorter to write</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="2hGQdf" prefix="r71" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;double price = 19.99;\nint quantity = 3;\n\n// Format as: \&quot;Total: $59.97 (3 items)\&quot;\nstd::string msg = std::format(___________________);&quot;],&quot;correctAnswer&quot;:[0,&quot;\&quot;Total: {:.2f} ({} items)\&quot;, price * quantity, quantity&quot;],&quot;explanation&quot;:[0,&quot;Use {:.2f} for 2 decimal places on the price, and {} for the integer quantity.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">double</span> price <span class="hl-operator">=</span> <span class="hl-number">19</span>.<span class="hl-number">99</span>;
<span class="hl-type">int</span> quantity <span class="hl-operator">=</span> <span class="hl-number">3</span>;

<span class="hl-comment">// Format as: &quot;Total: $59.97 (3 items)&quot;</span>
<span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> msg <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span></span><input type="text" placeholder="?" size="54" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">)</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="Zxyktk" prefix="r72" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;format&gt;\n#include &lt;string&gt;\n\nint main() {\n    std::string name = \&quot;Alice\&quot;;\n    int score = 95;\n    double average = 87.456;\n    \n    std::cout &lt;&lt; std::format(\&quot;Student: {}\n\&quot;, name);\n    std::cout &lt;&lt; std::format(\&quot;Score: {:3d}/100\n\&quot;, score);\n    std::cout &lt;&lt; std::format(\&quot;Average: {:6.2f}\n\&quot;, average);\n    std::cout &lt;&lt; std::format(\&quot;Hex: 0x{:04X}\n\&quot;, score);\n    std::cout &lt;&lt; std::format(\&quot;Binary: 0b{:08b}\n\&quot;, score);\n    std::cout &lt;&lt; std::format(\&quot;{:=^30}\n\&quot;, \&quot; Summary \&quot;);\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Student: Alice\\nScore:  95/100\\nAverage:  87.46\\nHex: 0x005F\\nBinary: 0b01011111\\n========== Summary ==========\\n&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;format&gt;
#include &lt;string&gt;

int main() {
    std::string name = &quot;Alice&quot;;
    int score = 95;
    double average = 87.456;
    
    std::cout &lt;&lt; std::format(&quot;Student: {}
&quot;, name);
    std::cout &lt;&lt; std::format(&quot;Score: {:3d}/100
&quot;, score);
    std::cout &lt;&lt; std::format(&quot;Average: {:6.2f}
&quot;, average);
    std::cout &lt;&lt; std::format(&quot;Hex: 0x{:04X}
&quot;, score);
    std::cout &lt;&lt; std::format(&quot;Binary: 0b{:08b}
&quot;, score);
    std::cout &lt;&lt; std::format(&quot;{:=^30}
&quot;, &quot; Summary &quot;);
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>format<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span> name <span class="hl-operator">=</span> <span class="hl-string">&quot;Alice&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">int</span> score <span class="hl-operator">=</span> <span class="hl-number">95</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">double</span> average <span class="hl-operator">=</span> <span class="hl-number">87</span>.<span class="hl-number">456</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;Student: <span class="hl-bracket">{</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-operator">&</span>quot;, name<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;Score: <span class="hl-bracket">{</span>:3d<span class="hl-bracket">}</span><span class="hl-operator">/</span><span class="hl-number">100</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-operator">&</span>quot;, score<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;Average: <span class="hl-bracket">{</span>:<span class="hl-number">6</span>.2f<span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre"><span class="hl-operator">&</span>quot;, average<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;Hex: 0x<span class="hl-bracket">{</span>:04X<span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre"><span class="hl-operator">&</span>quot;, score<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;Binary: 0b<span class="hl-bracket">{</span>:08b<span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre"><span class="hl-operator">&</span>quot;, score<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-type">std</span><span class="hl-operator">::</span>format<span class="hl-bracket">(</span><span class="hl-operator">&</span>quot;<span class="hl-bracket">{</span>:<span class="hl-operator">=</span><span class="hl-operator">^</span><span class="hl-number">30</span><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre"><span class="hl-string">&quot;, &quot;</span> Summary <span class="hl-operator">&</span>quot;<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">std::expected (C++23)</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="error-handling-with-stdexpected">Error Handling with std::expected</h1>
<p>C++23 introduces <code>std::expected&lt;T, E&gt;</code>, a vocabulary type for functions that can return either a value or an error. It provides a type-safe alternative to exceptions and error codes.</p>
<h2 id="basic-concept">Basic Concept</h2>
<p><code>std::expected&lt;T, E&gt;</code> holds either a value of type T (success) or an error of type E (failure):</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;expected&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;string&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Invalid integer format&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;42&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Parsed: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 42</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="checking-success-vs-failure">Checking Success vs Failure</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Method 1: Contextual conversion to bool</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dereference to get value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Method 2: has_value()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">has_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Throws if error</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Method 3: Check for error</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string err </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="accessing-values">Accessing Values</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Dereference (undefined behavior if error)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">operator</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// value() - throws std::bad_expected_access if error</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// value_or() - returns default if error</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v4 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value_or</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="error-types">Error Types</h2>
<h3 id="using-enums">Using Enums</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">enum</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    FileNotFound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    PermissionDenied</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    InvalidFormat</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">read_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_exists</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(path)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::FileNotFound);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">has_permission</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(path)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::PermissionDenied);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Read and return content</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file_content;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="custom-error-types">Custom Error Types</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ParseError</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string message;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> position;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ParseError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> msg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> pos</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">message</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(msg)), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">position</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(pos) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ParseError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_number</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">length</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">isdigit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i])) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ParseError{</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379">                &quot;Invalid character&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, i</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="monadic-operations">Monadic Operations</h2>
<p>C++23 expected supports monadic operations for chaining:</p>
<h3 id="and_then-chain-operations">and_then: Chain Operations</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">validate_positive</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compute_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;16&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(validate_positive)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(compute_sqrt);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Square root: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 4.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>Implementation:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">validate_positive</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Number must be positive&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compute_sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sqrt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="or_else-handle-errors">or_else: Handle Errors</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;invalid&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">or_else</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> err</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) -&gt; </span><span style="color:#D73A49;--shiki-dark:#C678DD">std::expected&lt;int,</span><span style="color:#D73A49;--shiki-dark:#C678DD"> std::string&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Parse error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> err </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Return default value</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"></span></code></pre>
<h3 id="transform-map-values">transform: Map Values</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;42&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // std::expected&lt;int, std::string&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 84</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="transform_error-map-errors">transform_error: Map Errors</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;invalid&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> err</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::InvalidFormat;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Convert error type</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// result is std::expected&lt;int, Error&gt;</span></span>
<span class="line"></span></code></pre>
<h2 id="practical-example-file-processing-pipeline">Practical Example: File Processing Pipeline</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">enum</span><span style="color:#D73A49;--shiki-dark:#C678DD"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    NotFound</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    PermissionDenied</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    InvalidFormat</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    ProcessingFailed</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">read_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> content</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">process_data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Data</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">save_result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Result</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Chain operations</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> outcome </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> read_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;input.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(parse_data)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(process_data)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Result</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> r</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> save_result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(r);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">outcome) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    switch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">outcome</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        case</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::NotFound:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;File not found</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        case</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> FileError</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::PermissionDenied:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Permission denied</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            break</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="stdexpectedvoid-e"><code>std::expected&lt;void, E&gt;</code></h2>
<p>For operations that don’t return a value:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">validate_config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">port</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1024</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Port must be &gt;= 1024&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">cfg</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E5C07B">host</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">empty</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Host cannot be empty&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Success</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> validate_config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(config);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Validation failed: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="comparison-with-alternatives">Comparison with Alternatives</h2>
<h3 id="vs-exceptions">vs Exceptions</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Exceptions: implicit control flow</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide_throws</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide_throws</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Handle error</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::expected: explicit error handling</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">divide_expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (b </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Division by zero&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> divide_expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result) {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Handle error explicitly</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="vs-stdoptional">vs std::optional</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::optional: success/failure, but no error information</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">optional</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int_opt</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::nullopt;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No error information</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::expected: success/failure with error details</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int_exp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error details preserved</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="vs-error-codes">vs Error Codes</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C-style error codes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int_code</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> out</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">out </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Success</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">error </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> -</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Failure</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::expected: type-safe, ergonomic</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(s);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="error-propagation">Error Propagation</h2>
<p>Simplify error propagation with monadic operations:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">step1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">step2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">step3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">double</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> step1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(step2)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">and_then</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(step3);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Error automatically propagates through chain</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Use for recoverable errors</strong>: std::expected is ideal for expected failures (validation, parsing, I/O)</li>
<li><strong>Use exceptions for exceptional cases</strong>: Programming errors, violations of invariants</li>
<li><strong>Consistent error types</strong>: Use enums or custom error types across a module</li>
<li><strong>Leverage monadic operations</strong>: Chain operations for clean error handling</li>
<li><strong>Document error cases</strong>: Clearly document what errors a function can return</li>
</ol>
<h2 id="when-to-use-stdexpected">When to Use std::expected</h2>
<p>✅ Use when:</p>
<ul>
<li>Errors are expected and recoverable</li>
<li>Performance is critical (no exception overhead)</li>
<li>Error information needs to be propagated</li>
<li>Explicit error handling is preferred</li>
</ul>
<p>❌ Don’t use when:</p>
<ul>
<li>Errors are truly exceptional (use exceptions)</li>
<li>Error handling is optional (use std::optional)</li>
<li>Working with legacy code that uses error codes</li>
</ul>
<astro-island uid="220hQe" prefix="r73" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does std::expected&lt;T, E&gt; contain?&quot;],&quot;answers&quot;:[1,[[0,&quot;Always a value of type T&quot;],[0,&quot;Always an error of type E&quot;],[0,&quot;Either a value T or an error E&quot;],[0,&quot;Both T and E simultaneously&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;std::expected&lt;T, E&gt; is a sum type that contains either a value of type T (success) or an error of type E (failure), but never both.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does std::expected&lt;T, E&gt; contain?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Always a value of type T</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Always an error of type E</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Either a value T or an error E</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Both T and E simultaneously</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="1dt6Mo" prefix="r74" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;std::expected&lt;double, std::string&gt; safe_sqrt(double x) {\n    if (x &lt; 0) {\n        return std::_________(\&quot;Cannot compute sqrt of negative number\&quot;);\n    }\n    return std::sqrt(x);\n}&quot;],&quot;correctAnswer&quot;:[0,&quot;unexpected&quot;],&quot;explanation&quot;:[0,&quot;Use std::unexpected to construct an expected object containing an error value.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">std</span><span class="hl-operator">::</span>expected<span class="hl-operator">&lt;</span><span class="hl-type">double</span>, <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span> safe_sqrt<span class="hl-bracket">(</span><span class="hl-type">double</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>x <span class="hl-operator">&lt;</span> <span class="hl-number">0</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
        <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span></span><input type="text" placeholder="?" size="10" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">(</span><span class="hl-string">&quot;Cannot compute sqrt of negative number&quot;</span><span class="hl-bracket">)</span>;
    <span class="hl-bracket">}</span>
    <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>sqrt<span class="hl-bracket">(</span>x<span class="hl-bracket">)</span>;
<span class="hl-bracket">}</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="ZLSODd" prefix="r75" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;expected&gt;\n#include &lt;string&gt;\n#include &lt;cmath&gt;\n\nstd::expected&lt;double, std::string&gt; safe_divide(double a, double b) {\n    if (b == 0.0) {\n        return std::unexpected(\&quot;Division by zero\&quot;);\n    }\n    return a / b;\n}\n\nstd::expected&lt;double, std::string&gt; safe_sqrt(double x) {\n    if (x &lt; 0) {\n        return std::unexpected(\&quot;Cannot compute sqrt of negative\&quot;);\n    }\n    return std::sqrt(x);\n}\n\nint main() {\n    auto result = safe_divide(16.0, 4.0)\n        .and_then(safe_sqrt);\n    \n    if (result) {\n        std::cout &lt;&lt; \&quot;Result: \&quot; &lt;&lt; *result &lt;&lt; &#39;\\n&#39;;\n    } else {\n        std::cout &lt;&lt; \&quot;Error: \&quot; &lt;&lt; result.error() &lt;&lt; &#39;\\n&#39;;\n    }\n    \n    auto error_result = safe_divide(10.0, 0.0)\n        .and_then(safe_sqrt);\n    \n    if (!error_result) {\n        std::cout &lt;&lt; \&quot;Error: \&quot; &lt;&lt; error_result.error() &lt;&lt; &#39;\\n&#39;;\n    }\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Result: 2\\nError: Division by zero&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;expected&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;

std::expected&lt;double, std::string&gt; safe_divide(double a, double b) {
    if (b == 0.0) {
        return std::unexpected(&quot;Division by zero&quot;);
    }
    return a / b;
}

std::expected&lt;double, std::string&gt; safe_sqrt(double x) {
    if (x &lt; 0) {
        return std::unexpected(&quot;Cannot compute sqrt of negative&quot;);
    }
    return std::sqrt(x);
}

int main() {
    auto result = safe_divide(16.0, 4.0)
        .and_then(safe_sqrt);
    
    if (result) {
        std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; *result &lt;&lt; &#x27;\n&#x27;;
    } else {
        std::cout &lt;&lt; &quot;Error: &quot; &lt;&lt; result.error() &lt;&lt; &#x27;\n&#x27;;
    }
    
    auto error_result = safe_divide(10.0, 0.0)
        .and_then(safe_sqrt);
    
    if (!error_result) {
        std::cout &lt;&lt; &quot;Error: &quot; &lt;&lt; error_result.error() &lt;&lt; &#x27;\n&#x27;;
    }
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>expected<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>cmath<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">std</span><span class="hl-operator">::</span>expected<span class="hl-operator">&lt;</span><span class="hl-type">double</span>, <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span> safe_divide<span class="hl-bracket">(</span><span class="hl-type">double</span> a, <span class="hl-type">double</span> b<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>b <span class="hl-operator">==</span> <span class="hl-number">0</span>.<span class="hl-number">0</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>unexpected<span class="hl-bracket">(</span><span class="hl-string">&quot;Division by zero&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> a <span class="hl-operator">/</span> b;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre"><span class="hl-type">std</span><span class="hl-operator">::</span>expected<span class="hl-operator">&lt;</span><span class="hl-type">double</span>, <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">string</span><span class="hl-operator">&gt;</span> safe_sqrt<span class="hl-bracket">(</span><span class="hl-type">double</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>x <span class="hl-operator">&lt;</span> <span class="hl-number">0</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">        <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>unexpected<span class="hl-bracket">(</span><span class="hl-string">&quot;Cannot compute sqrt of negative&quot;</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-type">std</span><span class="hl-operator">::</span>sqrt<span class="hl-bracket">(</span>x<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-type">auto</span> result <span class="hl-operator">=</span> safe_divide<span class="hl-bracket">(</span><span class="hl-number">16</span>.<span class="hl-number">0</span>, <span class="hl-number">4</span>.<span class="hl-number">0</span><span class="hl-bracket">)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">        .and_then<span class="hl-bracket">(</span>safe_sqrt<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span>result<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Result: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>result <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-bracket">}</span> <span class="hl-keyword">else</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Error: &quot;</span> <span class="hl-operator">&lt;&lt;</span> result.<span class="hl-function">error</span><span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    <span class="hl-type">auto</span> error_result <span class="hl-operator">=</span> safe_divide<span class="hl-bracket">(</span><span class="hl-number">10</span>.<span class="hl-number">0</span>, <span class="hl-number">0</span>.<span class="hl-number">0</span><span class="hl-bracket">)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre">        .and_then<span class="hl-bracket">(</span>safe_sqrt<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">32</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">33</span><span class="whitespace-pre">    <span class="hl-keyword">if</span> <span class="hl-bracket">(</span><span class="hl-operator">!</span>error_result<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">34</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Error: &quot;</span> <span class="hl-operator">&lt;&lt;</span> error_result.<span class="hl-function">error</span><span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">35</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">36</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">37</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">38</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div> </div><div class="module-group"> <div class="page-break-before h-64 flex items-end pb-12 border-b-[12px] border-slate-900 mb-20"> <h2 class="text-6xl font-black uppercase tracking-tighter text-slate-900 leading-none">Tools and Practices</h2> </div> <div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">CMake and Build Systems</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="modern-c-build-systems">Modern C++ Build Systems</h1>
<p>CMake has become the de facto standard for C++ build configuration. It generates platform-specific build files and manages dependencies, compiler flags, and project structure.</p>
<h2 id="basic-cmakeliststxt">Basic CMakeLists.txt</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">cmake_minimum_required</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> 3.20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">project</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(MyProject </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> 1.0.0 LANGUAGES CXX)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Set C++ standard</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_STANDARD 20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_STANDARD_REQUIRED </span><span style="color:#D73A49;--shiki-dark:#C678DD">ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_EXTENSIONS </span><span style="color:#D73A49;--shiki-dark:#C678DD">OFF</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Create executable</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp main.cpp)</span></span>
<span class="line"></span></code></pre>
<p>Build process:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="color:#032F62;--shiki-dark:#98C379"> build</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="color:#032F62;--shiki-dark:#98C379"> build</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --build</span><span style="color:#032F62;--shiki-dark:#98C379"> .</span></span>
<span class="line"></span></code></pre>
<h2 id="project-structure">Project Structure</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>project/</span></span>
<span class="line"><span>├── CMakeLists.txt</span></span>
<span class="line"><span>├── src/</span></span>
<span class="line"><span>│   ├── main.cpp</span></span>
<span class="line"><span>│   ├── utils.cpp</span></span>
<span class="line"><span>│   └── utils.h</span></span>
<span class="line"><span>├── include/</span></span>
<span class="line"><span>│   └── mylib/</span></span>
<span class="line"><span>│       └── api.h</span></span>
<span class="line"><span>├── tests/</span></span>
<span class="line"><span>│   └── test_main.cpp</span></span>
<span class="line"><span>└── build/  (generated)</span></span>
<span class="line"><span></span></span></code></pre>
<p>Root CMakeLists.txt:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">cmake_minimum_required</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> 3.20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">project</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(MyProject)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_STANDARD 20)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Include directories</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(include)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Source files</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/main.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/utils.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Enable testing</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">enable_testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_subdirectory</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(tests)</span></span>
<span class="line"></span></code></pre>
<h2 id="libraries">Libraries</h2>
<h3 id="static-library">Static Library</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_library</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib STATIC</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/lib.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/helper.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> include)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Link library to executable</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp src/main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mylib)</span></span>
<span class="line"></span></code></pre>
<h3 id="shared-library">Shared Library</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_library</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib SHARED</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/lib.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PUBLIC</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;BUILD_INTERFACE:</span><span style="color:#D73A49;--shiki-dark:#C678DD">${CMAKE_CURRENT_SOURCE_DIR}</span><span style="color:#24292E;--shiki-dark:#ABB2BF">/include&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;INSTALL_INTERFACE:include&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<h3 id="header-only-library">Header-Only Library</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_library</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">INTERFACE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">INTERFACE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> include)</span></span>
<span class="line"></span></code></pre>
<h2 id="target-properties">Target Properties</h2>
<p>Modern CMake uses target-based configuration:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_library</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib src/lib.cpp)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Include directories</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> include           </span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Consumers need these</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> src/</span><span style="color:#D73A49;--shiki-dark:#C678DD">internal</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     # Only this target needs these</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile definitions</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_compile_definitions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> API_VERSION=2</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> INTERNAL_DEBUG</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile options</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_compile_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> -Wall -Wextra -Wpedantic</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Link libraries</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mylib</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fmt::fmt          </span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Consumers need this too</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> spdlog::spdlog   </span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Only this target needs this</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<p>Visibility:</p>
<ul>
<li><strong>PUBLIC</strong>: Used by this target and propagated to consumers</li>
<li><strong>PRIVATE</strong>: Used only by this target</li>
<li><strong>INTERFACE</strong>: Not used by this target, only propagated to consumers</li>
</ul>
<h2 id="compiler-flags">Compiler Flags</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Global flags (discouraged)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#E36209;--shiki-dark:#E06C75">CMAKE_CXX_FLAGS</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;${CMAKE_CXX_FLAGS} -Wall&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Target-specific flags (preferred)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_compile_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;CXX_COMPILER_ID:GNU&gt;:-Wall -Wextra&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;CXX_COMPILER_ID:Clang&gt;:-Wall -Wextra&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;CXX_COMPILER_ID:</span><span style="color:#005CC5;--shiki-dark:#D19A66">MSVC</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;:/W4&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<h2 id="build-types">Build Types</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Set default build type</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">NOT</span><span style="color:#E36209;--shiki-dark:#E06C75"> CMAKE_BUILD_TYPE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#E36209;--shiki-dark:#E06C75">CMAKE_BUILD_TYPE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Release)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">endif</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Build type specific flags</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#E36209;--shiki-dark:#E06C75">CMAKE_CXX_FLAGS_DEBUG</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;-g -O0&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#E36209;--shiki-dark:#E06C75">CMAKE_CXX_FLAGS_RELEASE</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;-O3 -DNDEBUG&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<p>Build with specific type:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -DCMAKE_BUILD_TYPE=Debug</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -DCMAKE_BUILD_TYPE=Release</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"></span></code></pre>
<h2 id="finding-packages">Finding Packages</h2>
<h3 id="find_package">find_package</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">find_package</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Boost 1.75 REQUIRED COMPONENTS </span><span style="color:#005CC5;--shiki-dark:#D19A66">system</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> filesystem)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Boost::</span><span style="color:#005CC5;--shiki-dark:#D19A66">system</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Boost::filesystem</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<h3 id="pkg-config">pkg-config</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">find_package</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(PkgConfig REQUIRED)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">pkg_check_modules(LIBXML libxml-2.0 REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ${LIBXML_INCLUDE_DIRS}</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ${LIBXML_LIBRARIES}</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<h2 id="fetchcontent-modern-dependency-management">FetchContent: Modern Dependency Management</h2>
<p>Download and build dependencies at configure time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">include</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(FetchContent)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_Declare(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    fmt</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_REPOSITORY https://github.com/fmtlib/fmt.git</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_TAG 9.1.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_MakeAvailable(fmt)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fmt::fmt)</span></span>
<span class="line"></span></code></pre>
<p>Multiple dependencies:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_Declare(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    googletest</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_REPOSITORY https://github.com/google/googletest.git</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_TAG v1.14.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_Declare(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    spdlog</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_REPOSITORY https://github.com/gabime/spdlog.git</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_TAG v1.12.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_MakeAvailable(googletest spdlog)</span></span>
<span class="line"></span></code></pre>
<h2 id="generator-expressions">Generator Expressions</h2>
<p>Conditional compilation based on configuration:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_compile_definitions</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;CONFIG:Debug&gt;:DEBUG_MODE&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;CONFIG:Release&gt;:RELEASE_MODE&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;PLATFORM_ID:Windows&gt;:ws2_32&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    $&lt;$&lt;PLATFORM_ID:Linux&gt;:pthread&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<h2 id="testing-with-ctest">Testing with CTest</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">enable_testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(test_main tests/test_main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(test_main </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mylib GTest::gtest_main)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_test</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">NAME</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> MainTests </span><span style="color:#D73A49;--shiki-dark:#C678DD">COMMAND</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> test_main)</span></span>
<span class="line"></span></code></pre>
<p>Run tests:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --build</span><span style="color:#032F62;--shiki-dark:#98C379"> build</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">ctest</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --test-dir</span><span style="color:#032F62;--shiki-dark:#98C379"> build</span></span>
<span class="line"></span></code></pre>
<h2 id="installation">Installation</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">install</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(TARGETS myapp mylib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    RUNTIME DESTINATION bin</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    LIBRARY DESTINATION lib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ARCHIVE DESTINATION lib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">install</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(DIRECTORY include/</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    DESTINATION include</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<p>Install to custom location:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -DCMAKE_INSTALL_PREFIX=/usr/local</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --install</span><span style="color:#032F62;--shiki-dark:#98C379"> build</span></span>
<span class="line"></span></code></pre>
<h2 id="presets-cmake-319">Presets (CMake 3.19+)</h2>
<p>CMakePresets.json:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    &quot;version&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    &quot;configurePresets&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;debug&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;binaryDir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;build/debug&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;cacheVariables&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">                &quot;CMAKE_BUILD_TYPE&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Debug&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;release&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;binaryDir&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;build/release&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;cacheVariables&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">                &quot;CMAKE_BUILD_TYPE&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Release&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ],</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">    &quot;buildPresets&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;debug&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;configurePreset&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;debug&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;release&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75">            &quot;configurePreset&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">: </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;release&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>Use presets:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --preset</span><span style="color:#032F62;--shiki-dark:#98C379"> debug</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --build</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --preset</span><span style="color:#032F62;--shiki-dark:#98C379"> debug</span></span>
<span class="line"></span></code></pre>
<h2 id="package-management-vcpkg-and-conan">Package Management: vcpkg and Conan</h2>
<h3 id="vcpkg">vcpkg</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">vcpkg</span><span style="color:#032F62;--shiki-dark:#98C379"> install</span><span style="color:#032F62;--shiki-dark:#98C379"> fmt</span><span style="color:#032F62;--shiki-dark:#98C379"> spdlog</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -DCMAKE_TOOLCHAIN_FILE=/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"></span></code></pre>
<h3 id="conan">Conan</h3>
<p>conanfile.txt:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="ini"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">[requires]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#98C379">fmt/9.1.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#98C379">spdlog/1.12.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">[generators]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#98C379">CMakeDeps</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#98C379">CMakeToolchain</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">conan</span><span style="color:#032F62;--shiki-dark:#98C379"> install</span><span style="color:#032F62;--shiki-dark:#98C379"> .</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --build=missing</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">cmake</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -DCMAKE_TOOLCHAIN_FILE=build/conan_toolchain.cmake</span><span style="color:#032F62;--shiki-dark:#98C379"> ..</span></span>
<span class="line"></span></code></pre>
<h2 id="modern-cmake-best-practices">Modern CMake Best Practices</h2>
<ol>
<li><strong>Use targets, not variables</strong>: Prefer <code>target_*</code> commands</li>
<li><strong>Avoid global commands</strong>: Use target-specific settings</li>
<li><strong>Proper visibility</strong>: PUBLIC/PRIVATE/INTERFACE</li>
<li><strong>Minimum version</strong>: Set <code>cmake_minimum_required</code> appropriately</li>
<li><strong>Out-of-source builds</strong>: Always build in separate directory</li>
<li><strong>Generator expressions</strong>: For conditional configuration</li>
<li><strong>Export targets</strong>: For library packages</li>
<li><strong>Use FetchContent</strong>: For dependencies when appropriate</li>
</ol>
<h2 id="complete-example">Complete Example</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">cmake_minimum_required</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> 3.20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">project</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ModernApp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">VERSION</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> 1.0.0 LANGUAGES CXX)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_STANDARD 20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_STANDARD_REQUIRED </span><span style="color:#D73A49;--shiki-dark:#C678DD">ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CMAKE_CXX_EXTENSIONS </span><span style="color:#D73A49;--shiki-dark:#C678DD">OFF</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Options</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">option</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(BUILD_TESTS </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Build tests&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">option</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ENABLE_WARNINGS </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Enable compiler warnings&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Dependencies</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">include</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(FetchContent)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_Declare(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    fmt</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_REPOSITORY https://github.com/fmtlib/fmt.git</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    GIT_TAG 9.1.0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">FetchContent_MakeAvailable(fmt)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Library</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_library</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(applib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/lib.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    src/utils.cpp</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_include_directories</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(applib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> include)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(applib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PUBLIC</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fmt::fmt)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ENABLE_WARNINGS)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    target_compile_options</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(applib </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        $&lt;$&lt;CXX_COMPILER_ID:GNU,Clang&gt;:-Wall -Wextra -Wpedantic&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        $&lt;$&lt;CXX_COMPILER_ID:</span><span style="color:#005CC5;--shiki-dark:#D19A66">MSVC</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;:/W4&gt;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    )</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">endif</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Executable</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp src/main.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(myapp </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> applib)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Tests</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(BUILD_TESTS)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    enable_testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    add_subdirectory</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(tests)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">endif</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Installation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">install</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(TARGETS myapp applib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    RUNTIME DESTINATION bin</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    LIBRARY DESTINATION lib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ARCHIVE DESTINATION lib</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span></code></pre>
<astro-island uid="A3s5x" prefix="r76" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the recommended way to set compiler flags in modern CMake?&quot;],&quot;answers&quot;:[1,[[0,&quot;Using CMAKE_CXX_FLAGS&quot;],[0,&quot;Using set(CMAKE_CXX_FLAGS)&quot;],[0,&quot;Using target_compile_options()&quot;],[0,&quot;Passing flags to compiler directly&quot;]]],&quot;correctIndex&quot;:[0,2],&quot;explanation&quot;:[0,&quot;Modern CMake recommends using target_compile_options() for target-specific compiler flags rather than global variables like CMAKE_CXX_FLAGS.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the recommended way to set compiler flags in modern CMake?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Using CMAKE_CXX_FLAGS</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Using set(CMAKE_CXX_FLAGS)</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Using target_compile_options()</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Passing flags to compiler directly</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z2ba82b" prefix="r77" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;# Link fmt library to myapp target\nadd_executable(myapp main.cpp)\n________________(myapp PRIVATE fmt::fmt)&quot;],&quot;correctAnswer&quot;:[0,&quot;target_link_libraries&quot;],&quot;explanation&quot;:[0,&quot;Use target_link_libraries() to link libraries to targets in CMake.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span># Link fmt library to myapp target
<span class="hl-keyword">add_executable</span><span class="hl-bracket">(</span>myapp main.cpp<span class="hl-bracket">)</span>
</span><input type="text" placeholder="?" size="21" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">(</span>myapp PRIVATE fmt<span class="hl-operator">::</span>fmt<span class="hl-bracket">)</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Testing with GoogleTest</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="modern-c-testing">Modern C++ Testing</h1>
<p>Google Test (gtest) is the most widely-used C++ testing framework, providing comprehensive features for unit testing, integration testing, and test-driven development.</p>
<h2 id="basic-test-structure">Basic Test Structure</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;gtest/gtest.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Simple function to test</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// TEST(TestSuiteName, TestName)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(MathTests, Addition) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> main</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> argc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">char**</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> argv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">InitGoogleTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">argc, argv);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> RUN_ALL_TESTS</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="assertions">Assertions</h2>
<h3 id="expect-vs-assert">EXPECT vs ASSERT</h3>
<ul>
<li><strong>EXPECT_</strong>*: Continues test after failure (non-fatal)</li>
<li><strong>ASSERT_</strong>*: Stops test after failure (fatal)</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionExample, DemonstratesExpectVsAssert) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Passes</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fails, but continues</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Still runs</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionExample, AssertStopsOnFailure) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ASSERT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Passes</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ASSERT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fails, stops test</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Never runs</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="common-assertions">Common Assertions</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionTypes, BooleanAssertions) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_TRUE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_FALSE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionTypes, ComparisonAssertions) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_NE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">20</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Not equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_LT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Less than</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_LE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Less or equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_GT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Greater than</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_GE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Greater or equal</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionTypes, StringAssertions) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_STREQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // C-strings equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_STRNE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;world&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // C-strings not equal</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_STRCASEEQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Case-insensitive</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AssertionTypes, FloatingPointAssertions) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_FLOAT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1.0</span><span style="color:#D73A49;--shiki-dark:#E06C75">f</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1.0001</span><span style="color:#D73A49;--shiki-dark:#E06C75">f</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   // Within 4 ULPs</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_DOUBLE_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1.0001</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Within 4 ULPs</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_NEAR</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1.0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1.1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0.2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // Within absolute error</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="test-fixtures">Test Fixtures</h2>
<p>Reuse setup and teardown code:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> DatabaseTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Test</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">protected:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> SetUp</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Runs before each test</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        db </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Database</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">connect</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;test.db&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> TearDown</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Runs after each test</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">disconnect</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Database</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> db;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(DatabaseTest, InsertRecord) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_TRUE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(DatabaseTest, DeleteRecord) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_TRUE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_FALSE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">contains</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="static-setupteardown">Static Setup/Teardown</h3>
<p>Runs once per test suite:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ExpensiveSetupTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Test</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">protected:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> SetUpTestSuite</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Runs once before all tests in suite</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        shared_resource </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> TearDownTestSuite</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Runs once after all tests in suite</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> shared_resource;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    static</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> shared_resource;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> ExpensiveSetupTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::shared_resource </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span></code></pre>
<h2 id="parameterized-tests">Parameterized Tests</h2>
<p>Test with multiple inputs:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> PrimeTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">TestWithParam</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_P</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(PrimeTest, IsPrime) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> GetParam</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_TRUE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_prime</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">INSTANTIATE_TEST_SUITE_P</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    PrimeNumbers,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    PrimeTest,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Values</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">7</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">11</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">13</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">17</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">19</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<p>With multiple parameters:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> AdditionTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">TestWithParam</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_P</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AdditionTest, ValidateAddition) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [a, b, expected] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> GetParam</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(a, b), expected);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">INSTANTIATE_TEST_SUITE_P</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    AddCases,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    AdditionTest,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Values</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">-</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_tuple</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">200</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">300</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    )</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="death-tests">Death Tests</h2>
<p>Test for expected crashes or aborts:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fatal_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> condition</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (condition) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">abort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(DeathTest, FatalError) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_DEATH</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fatal_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EXIT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">exit</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), ::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ExitedWithCode</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="exception-tests">Exception Tests</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ExceptionTest, ThrowsException) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THROW</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">risky_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::runtime_error);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_ANY_THROW</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">another_risky_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_NO_THROW</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">safe_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ExceptionTest, SpecificException) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        risky_function</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        FAIL</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Expected exception&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::runtime_error</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        EXPECT_STREQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Expected error message&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-matchers">Custom Matchers</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;gmock/gmock.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::MatchesRegex;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::StartsWith;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::EndsWith;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::HasSubstr;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(StringMatchers, RegexAndSubstrings) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string text </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello, World!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(text, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">StartsWith</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(text, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">EndsWith</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(text, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">HasSubstr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;lo, Wo&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(text, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">MatchesRegex</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;H.*!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p>Container matchers:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::ElementsAre;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::UnorderedElementsAre;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Contains;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::SizeIs;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ContainerMatchers, VectorMatching) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ElementsAre</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Contains</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_THAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">SizeIs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="mocking-with-google-mock">Mocking with Google Mock</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;gmock/gmock.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Interface to mock</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Database</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~Database</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> key</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> key</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Mock implementation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MockDatabase</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Database</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    MOCK_METHOD</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> key, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value), (override));</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    MOCK_METHOD</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> key), (override));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Class under test</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Database</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> db_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Database</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(db) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> addUser</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> name</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(name, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;default_value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(UserManagerTest, AddsUser) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    MockDatabase mock_db;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    UserManager </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">manager</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">mock_db);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Set expectations</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_CALL</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mock_db, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;default_value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">WillOnce</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_TRUE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">manager</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">addUser</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="mock-expectations">Mock Expectations</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::Return;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">using</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::AtLeast;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(MockTest, Expectations) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    MockDatabase mock_db;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Expect specific call</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_CALL</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mock_db, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;key&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">WillOnce</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;value&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Expect any string argument</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_CALL</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mock_db, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(_))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">WillRepeatedly</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;default&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Expect at least 2 calls</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_CALL</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(mock_db, </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(_, _))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Times</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">AtLeast</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">WillRepeatedly</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Return</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="test-organization">Test Organization</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Anonymous namespace for test-only code</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> CalculatorTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Test</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">protected:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Calculator calc;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CalculatorTest, Addition) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">calc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST_F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(CalculatorTest, Subtraction) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">calc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">subtract</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // namespace</span></span>
<span class="line"></span></code></pre>
<h2 id="running-tests">Running Tests</h2>
<h3 id="command-line">Command Line</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Run all tests</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Run specific test</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --gtest_filter=MathTests.Addition</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Run tests matching pattern</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --gtest_filter=Math</span><span style="color:#D73A49;--shiki-dark:#ABB2BF">*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Repeat tests</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --gtest_repeat=10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Shuffle test order</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --gtest_shuffle</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Generate XML output</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./test_binary</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --gtest_output=xml:test_results.xml</span></span>
<span class="line"></span></code></pre>
<h3 id="cmake-integration">CMake Integration</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cmake"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">enable_testing</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">find_package</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(GTest REQUIRED)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">add_executable</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(my_tests test_main.cpp test_math.cpp)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">target_link_libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(my_tests </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">PRIVATE</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> GTest::gtest_main)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">include</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(GoogleTest)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">gtest_discover_tests(my_tests)</span></span>
<span class="line"></span></code></pre>
<p>Run with CTest:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">ctest</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --output-on-failure</span></span>
<span class="line"></span></code></pre>
<h2 id="test-driven-development-tdd">Test-Driven Development (TDD)</h2>
<ol>
<li><strong>Write failing test</strong>:</li>
</ol>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">TEST</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(StringUtils, Reverse) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    EXPECT_EQ</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reverse</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;olleh&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Test fails - function doesn&#39;t exist</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<ol start="2">
<li><strong>Implement minimum code to pass</strong>:</li>
</ol>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> reverse</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rbegin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<ol start="3">
<li><strong>Refactor</strong>:</li>
</ol>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> reverse</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rbegin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">rend</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>One assertion per test</strong> (when possible) - easier to identify failures</li>
<li><strong>Descriptive test names</strong> - document what’s being tested</li>
<li><strong>Arrange-Act-Assert</strong> pattern - structure test clearly</li>
<li><strong>Fast tests</strong> - avoid I/O when possible</li>
<li><strong>Isolated tests</strong> - no dependencies between tests</li>
<li><strong>Mock external dependencies</strong> - test in isolation</li>
<li><strong>Test edge cases</strong> - empty input, null, overflow</li>
<li><strong>Continuous integration</strong> - run tests automatically</li>
</ol>
<astro-island uid="1B0TGl" prefix="r78" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What&#39;s the difference between EXPECT and ASSERT macros?&quot;],&quot;answers&quot;:[1,[[0,&quot;EXPECT is faster&quot;],[0,&quot;ASSERT stops the test on failure, EXPECT continues&quot;],[0,&quot;ASSERT is deprecated&quot;],[0,&quot;They are identical&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;ASSERT macros are fatal - they stop the current test when they fail. EXPECT macros are non-fatal - the test continues even after failure.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What&#x27;s the difference between EXPECT and ASSERT macros?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">EXPECT is faster</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">ASSERT stops the test on failure, EXPECT continues</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">ASSERT is deprecated</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">They are identical</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="ZgoGG2" prefix="r79" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;// Create a test fixture for a Stack class\nclass StackTest : public ::testing::_____ {\nprotected:\n    Stack&lt;int&gt; stack;\n};&quot;],&quot;correctAnswer&quot;:[0,&quot;Test&quot;],&quot;explanation&quot;:[0,&quot;Test fixtures inherit from ::testing::Test to provide common setup/teardown for multiple tests.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-comment">// Create a test fixture for a Stack class</span>
<span class="hl-keyword">class</span> StackTest : <span class="hl-keyword">public</span> <span class="hl-operator">::</span>testing<span class="hl-operator">::</span></span><input type="text" placeholder="?" size="4" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span> <span class="hl-bracket">{</span>
<span class="hl-keyword">protected</span>:
    Stack<span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> stack;
<span class="hl-bracket">}</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Performance Optimization</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="c-performance-optimization">C++ Performance Optimization</h1>
<p>C++ provides fine-grained control over performance. Understanding optimization techniques and measurement tools is essential for writing efficient code.</p>
<h2 id="measurement-first">Measurement First</h2>
<p>Never optimize without measuring. Use profilers to identify bottlenecks:</p>
<h3 id="profiling-tools">Profiling Tools</h3>
<ul>
<li><strong>perf</strong> (Linux): CPU profiling</li>
<li><strong>Valgrind/Callgrind</strong>: Call graph analysis</li>
<li><strong>gprof</strong>: GNU profiler</li>
<li><strong>Intel VTune</strong>: Advanced profiling</li>
<li><strong>Tracy</strong>: Real-time profiling</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile with debug symbols</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -g</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -O2</span><span style="color:#032F62;--shiki-dark:#98C379"> program.cpp</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> program</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Profile with perf</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">perf</span><span style="color:#032F62;--shiki-dark:#98C379"> record</span><span style="color:#032F62;--shiki-dark:#98C379"> ./program</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">perf</span><span style="color:#032F62;--shiki-dark:#98C379"> report</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Profile with Valgrind</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">valgrind</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --tool=callgrind</span><span style="color:#032F62;--shiki-dark:#98C379"> ./program</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">kcachegrind</span><span style="color:#032F62;--shiki-dark:#98C379"> callgrind.out.</span><span style="color:#005CC5;--shiki-dark:#E5C07B">*</span></span>
<span class="line"></span></code></pre>
<h2 id="compiler-optimization-levels">Compiler Optimization Levels</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-O0</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # No optimization (default, fastest compile)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-O1</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # Basic optimization</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-O2</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # Recommended for release builds</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-O3</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # Aggressive optimization (may increase code size)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-Os</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # Optimize for size</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">-Ofast</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # -O3 + unsafe math optimizations</span></span>
<span class="line"></span></code></pre>
<p>Enable link-time optimization:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -O3</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -flto</span><span style="color:#032F62;--shiki-dark:#98C379"> program.cpp</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> program</span></span>
<span class="line"></span></code></pre>
<h2 id="memory-layout-and-cache">Memory Layout and Cache</h2>
<h3 id="structure-packing">Structure Packing</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Poor layout: 24 bytes (with padding)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Bad</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 1 byte + 7 padding</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 8 bytes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 1 byte + 7 padding</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good layout: 16 bytes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Good</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // 8 bytes</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 1 byte</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> c;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // 1 byte + 6 padding</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Bad) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 24</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Good) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 16</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h3 id="cache-friendly-data-structures">Cache-Friendly Data Structures</h3>
<p>Prefer contiguous memory (vector) over linked structures:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Cache-unfriendly</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::list</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> list;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Nodes scattered in memory</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Cache-friendly</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Contiguous memory</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Benchmark shows vector is often 10-100x faster for iteration</span></span>
<span class="line"></span></code></pre>
<h3 id="structure-of-arrays-soa-vs-array-of-structures-aos">Structure of Arrays (SoA) vs Array of Structures (AoS)</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// AoS: Poor cache utilization if you only need x coordinates</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">float</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y, z; };</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> points;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> p : points) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">p</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Loads y and z unnecessarily</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// SoA: Better cache utilization</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Points</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;float&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;float&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;float&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> z;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">Points points;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">float</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x_val : </span><span style="color:#24292E;--shiki-dark:#E5C07B">points</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(x_val);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only loads x values</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="move-semantics-and-rvo">Move Semantics and RVO</h2>
<h3 id="return-value-optimization-rvo">Return Value Optimization (RVO)</h3>
<p>Compiler automatically elides copies:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">create_vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No copy! RVO applied</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> v </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> create_vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // vec moved directly into v</span></span>
<span class="line"></span></code></pre>
<h3 id="named-return-value-optimization-nrvo">Named Return Value Optimization (NRVO)</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> build_string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // NRVO: no copy</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="explicit-move">Explicit Move</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> source </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> create_large_vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> dest </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(source);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Move, not copy</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// source is now empty</span></span>
<span class="line"></span></code></pre>
<h2 id="avoid-unnecessary-copies">Avoid Unnecessary Copies</h2>
<h3 id="pass-by-reference">Pass by Reference</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: copies vector</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: references vector</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: use std::span for read-only access</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">span</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { }</span></span>
<span class="line"></span></code></pre>
<h3 id="returning-large-objects">Returning Large Objects</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: RVO applies</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Don&#39;t do this:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> out</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Output parameter</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="small-string-optimization-sso">Small String Optimization (SSO)</h2>
<p>std::string optimizes for small strings:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string small </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No heap allocation (typically &lt; 16 chars)</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string large </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;This is a very long string...&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Heap allocated</span></span>
<span class="line"></span></code></pre>
<p>Use string_view for temporary views:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string_view</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> sv</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No copy</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Efficient</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No temporary string created</span></span>
<span class="line"></span></code></pre>
<h2 id="reserve-capacity">Reserve Capacity</h2>
<p>Avoid reallocations:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: multiple reallocations</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(i);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // May reallocate many times</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: single allocation</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reserve</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(i);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No reallocations</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Even better: direct initialization</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">iota</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span></code></pre>
<h2 id="emplace-vs-push">emplace vs push</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// push_back: creates temporary, then moves</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// emplace_back: constructs in-place</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">emplace_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No temporary</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// With complex types</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::pair</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> pairs;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">pairs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;one&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      // Creates temporary pair</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">pairs</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">emplace_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;one&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     // Constructs directly</span></span>
<span class="line"></span></code></pre>
<h2 id="inline-functions">Inline Functions</h2>
<p>Small functions benefit from inlining:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">inline</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: let compiler decide</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> square</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x; }</span></span>
<span class="line"></span></code></pre>
<p>Modern compilers inline automatically with optimization enabled.</p>
<h2 id="branch-prediction">Branch Prediction</h2>
<h3 id="likelyunlikely-hints-c20">Likely/Unlikely Hints (C++20)</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (x </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#005CC5;--shiki-dark:#ABB2BF">[[</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">likely</span><span style="color:#005CC5;--shiki-dark:#ABB2BF">]]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> handle_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="avoid-branches-in-tight-loops">Avoid Branches in Tight Loops</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: branch in loop</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (condition) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> array</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: predication</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> array</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> condition;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Branchless</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="algorithm-choice">Algorithm Choice</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// O(n²) - slow for large n</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">erase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">remove</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), i), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// O(n) - much faster</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unordered_set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">set</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span></code></pre>
<p>Choose appropriate containers:</p>
<ul>
<li><strong>std::vector</strong>: Random access, cache-friendly</li>
<li><strong>std::deque</strong>: Fast insertion at both ends</li>
<li><strong>std::list</strong>: Fast insertion/deletion in middle (but slow iteration)</li>
<li><strong>std::unordered_map</strong>: O(1) average lookup</li>
<li><strong>std::map</strong>: O(log n) lookup, ordered</li>
</ul>
<h2 id="compile-time-computation">Compile-Time Computation</h2>
<p>Move work to compile-time:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Runtime computation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial_runtime</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        result </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Compile-time computation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        result </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> fact5 </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Computed at compile-time</span></span>
<span class="line"></span></code></pre>
<h2 id="parallel-algorithms-c17">Parallel Algorithms (C++17)</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;algorithm&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;execution&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1000000</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Sequential</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Parallel</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">execution</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::par, </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Parallel + vectorized</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">sort</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">execution</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::par_unseq, </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"></span></code></pre>
<h2 id="string-operations">String Operations</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Slow: creates many temporary strings</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str1 </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str2 </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str3 </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str4;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Fast: single allocation</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">reserve</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">str1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#E5C07B"> str2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#E5C07B"> str3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#E5C07B"> str4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str1;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str2;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str3;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">result </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str4;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Or use std::format (C++20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;{}{}{}{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, str1, str2, str3, str4);</span></span>
<span class="line"></span></code></pre>
<h2 id="virtual-function-overhead">Virtual Function Overhead</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Virtual call: runtime dispatch</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Template: compile-time dispatch (faster)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // No virtual call</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Consider CRTP for static polymorphism</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Derived</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Base</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> interface</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF">        static_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Derived</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">implementation</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="memory-pools">Memory Pools</h2>
<p>For many small allocations:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;memory_resource&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::monotonic_buffer_resource pool;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">pool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Uses pool allocator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// All allocations come from pool - much faster</span></span>
<span class="line"></span></code></pre>
<h2 id="benchmarking">Benchmarking</h2>
<p>Use Google Benchmark:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;benchmark/benchmark.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> BM_VectorPush</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">benchmark</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">State</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> state</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> _ : state) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> state</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(i);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">BENCHMARK</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(BM_VectorPush)-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">Range</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">8</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">BENCHMARK_MAIN</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="common-pitfalls">Common Pitfalls</h2>
<ol>
<li><strong>Premature optimization</strong>: Profile first!</li>
<li><strong>Over-optimization</strong>: Hurting readability</li>
<li><strong>Ignoring algorithmic complexity</strong>: O(n²) vs O(n log n)</li>
<li><strong>Not using compiler optimizations</strong>: Always use -O2 or -O3</li>
<li><strong>Unnecessary abstractions</strong>: Virtual functions when not needed</li>
</ol>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Measure, don’t guess</strong>: Use profilers</li>
<li><strong>Optimize hot paths</strong>: Focus on 10% of code that takes 90% of time</li>
<li><strong>Choose right algorithms</strong>: Big-O matters more than micro-optimizations</li>
<li><strong>Use modern C++ idioms</strong>: Move semantics, RVO, constexpr</li>
<li><strong>Enable compiler optimizations</strong>: -O2/-O3, LTO</li>
<li><strong>Cache-friendly data structures</strong>: Contiguous memory</li>
<li><strong>Avoid copies</strong>: References, move, in-place construction</li>
</ol>
<astro-island uid="Z2kEzyG" prefix="r80" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What should you do BEFORE optimizing code?&quot;],&quot;answers&quot;:[1,[[0,&quot;Optimize the entire codebase&quot;],[0,&quot;Profile to find bottlenecks&quot;],[0,&quot;Rewrite in assembly&quot;],[0,&quot;Add more threads&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;Always profile first to identify actual bottlenecks. Premature optimization wastes time and can make code harder to maintain.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What should you do BEFORE optimizing code?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Optimize the entire codebase</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Profile to find bottlenecks</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Rewrite in assembly</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Add more threads</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1jgD4a" prefix="r81" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;std::vector&lt;int&gt; vec;\n// Reserve space for 1000 elements to avoid reallocations\nvec._______(1000);&quot;],&quot;correctAnswer&quot;:[0,&quot;reserve&quot;],&quot;explanation&quot;:[0,&quot;Use reserve() to pre-allocate capacity and avoid multiple reallocations as elements are added.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec;
<span class="hl-comment">// Reserve space for 1000 elements to avoid reallocations</span>
vec.</span><input type="text" placeholder="?" size="7" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">(</span><span class="hl-number">1000</span><span class="hl-bracket">)</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="Z3oshS" prefix="r82" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;chrono&gt;\n\nint main() {\n    const int n = 1000000;\n    \n    // Without reserve\n    auto start = std::chrono::high_resolution_clock::now();\n    std::vector&lt;int&gt; vec1;\n    for (int i = 0; i &lt; n; ++i) {\n        vec1.push_back(i);\n    }\n    auto end = std::chrono::high_resolution_clock::now();\n    auto duration1 = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(end - start);\n    \n    // With reserve\n    start = std::chrono::high_resolution_clock::now();\n    std::vector&lt;int&gt; vec2;\n    vec2.reserve(n);\n    for (int i = 0; i &lt; n; ++i) {\n        vec2.push_back(i);\n    }\n    end = std::chrono::high_resolution_clock::now();\n    auto duration2 = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(end - start);\n    \n    std::cout &lt;&lt; \&quot;Without reserve: \&quot; &lt;&lt; duration1.count() &lt;&lt; \&quot; μs\\n\&quot;;\n    std::cout &lt;&lt; \&quot;With reserve: \&quot; &lt;&lt; duration2.count() &lt;&lt; \&quot; μs\\n\&quot;;\n    std::cout &lt;&lt; \&quot;Speedup: \&quot; &lt;&lt; (double)duration1.count() / duration2.count() &lt;&lt; \&quot;x\\n\&quot;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Without reserve: 8234 μs\\nWith reserve: 3421 μs\\nSpeedup: 2.4x&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;chrono&gt;

int main() {
    const int n = 1000000;
    
    // Without reserve
    auto start = std::chrono::high_resolution_clock::now();
    std::vector&lt;int&gt; vec1;
    for (int i = 0; i &lt; n; ++i) {
        vec1.push_back(i);
    }
    auto end = std::chrono::high_resolution_clock::now();
    auto duration1 = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(end - start);
    
    // With reserve
    start = std::chrono::high_resolution_clock::now();
    std::vector&lt;int&gt; vec2;
    vec2.reserve(n);
    for (int i = 0; i &lt; n; ++i) {
        vec2.push_back(i);
    }
    end = std::chrono::high_resolution_clock::now();
    auto duration2 = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(end - start);
    
    std::cout &lt;&lt; &quot;Without reserve: &quot; &lt;&lt; duration1.count() &lt;&lt; &quot; μs\n&quot;;
    std::cout &lt;&lt; &quot;With reserve: &quot; &lt;&lt; duration2.count() &lt;&lt; &quot; μs\n&quot;;
    std::cout &lt;&lt; &quot;Speedup: &quot; &lt;&lt; (double)duration1.count() / duration2.count() &lt;&lt; &quot;x\n&quot;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>chrono<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-keyword">const</span> <span class="hl-type">int</span> n <span class="hl-operator">=</span> <span class="hl-number">1000000</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-comment">// Without reserve</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-type">auto</span> start <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>high_resolution_clock<span class="hl-operator">::</span>now<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec1;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> n; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">        vec1.push_back<span class="hl-bracket">(</span>i<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-type">auto</span> end <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>high_resolution_clock<span class="hl-operator">::</span>now<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">auto</span> duration1 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>duration_cast<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>microseconds<span class="hl-operator">&gt;</span><span class="hl-bracket">(</span>end <span class="hl-operator">-</span> start<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-comment">// With reserve</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    start <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>high_resolution_clock<span class="hl-operator">::</span>now<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec2;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    vec2.reserve<span class="hl-bracket">(</span>n<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> n; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">        vec2.push_back<span class="hl-bracket">(</span>i<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    end <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>high_resolution_clock<span class="hl-operator">::</span>now<span class="hl-bracket">(</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-type">auto</span> duration2 <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>duration_cast<span class="hl-operator">&lt;</span><span class="hl-type">std</span><span class="hl-operator">::</span>chrono<span class="hl-operator">::</span>microseconds<span class="hl-operator">&gt;</span><span class="hl-bracket">(</span>end <span class="hl-operator">-</span> start<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Without reserve: &quot;</span> <span class="hl-operator">&lt;&lt;</span> duration1.count<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; μs\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;With reserve: &quot;</span> <span class="hl-operator">&lt;&lt;</span> duration2.count<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot; μs\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Speedup: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-bracket">(</span><span class="hl-type">double</span><span class="hl-bracket">)</span>duration1.count<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">/</span> duration2.count<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;x\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">31</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">32</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Memory Management Deep Dive</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="advanced-memory-management">Advanced Memory Management</h1>
<p>C++ provides extensive control over memory management. Understanding allocators, alignment, and memory debugging tools is crucial for high-performance applications.</p>
<h2 id="memory-allocation-basics">Memory Allocation Basics</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Stack allocation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatic storage duration</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#E5C07B"> buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">1024</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Fixed size, fast</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Heap allocation</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Manual lifetime</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Automatic cleanup</span></span>
<span class="line"></span></code></pre>
<h2 id="alignment">Alignment</h2>
<h3 id="alignof-and-alignas">alignof and alignas</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#005CC5;--shiki-dark:#ABB2BF"> alignas(</span><span style="color:#005CC5;--shiki-dark:#D19A66">16</span><span style="color:#005CC5;--shiki-dark:#ABB2BF">)</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Aligned</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    double</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x, y;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#ABB2BF">alignof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Aligned) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 16</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">static_assert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Aligned) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 16</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Padded to alignment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Cache line alignment</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#005CC5;--shiki-dark:#ABB2BF"> alignas(</span><span style="color:#005CC5;--shiki-dark:#D19A66">64</span><span style="color:#005CC5;--shiki-dark:#ABB2BF">)</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> CacheAligned</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Padded to 64 bytes</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="stdaligned_storage">std::aligned_storage</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;type_traits&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF">alignas</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">16</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::byte </span><span style="color:#24292E;--shiki-dark:#E5C07B">buffer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(MyClass)];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Construct object in aligned buffer</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">MyClass</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> obj </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (buffer) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">MyClass</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(args);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Destroy when done</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">~MyClass</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h3 id="dynamic-aligned-allocation">Dynamic Aligned Allocation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++17: aligned new</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::</span><span style="color:#D73A49;--shiki-dark:#C678DD">operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">align_val_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{64});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">align_val_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{64});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Aligned unique_ptr</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Alignment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> AlignedDeleter</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">~T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        ::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">align_val_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{Alignment});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Alignment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> make_aligned_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> mem </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T), </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#005CC5;--shiki-dark:#56B6C2">align_val_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">{Alignment});</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (mem) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(args)...);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">AlignedDeleter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Alignment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;(ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="custom-allocators">Custom Allocators</h2>
<h3 id="basic-allocator-interface">Basic Allocator Interface</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> value_type</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> allocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">numeric_limits</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">max</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">bad_array_new_length</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        void*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(n </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T));</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> static_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> deallocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        ::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">==</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">bool</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">U</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Usage</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, MyAllocator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"></span></code></pre>
<h3 id="stack-allocator">Stack Allocator</h3>
<p>Allocate from stack buffer:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> N</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> StackAllocator</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    alignas</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::byte </span><span style="color:#24292E;--shiki-dark:#E5C07B">buffer_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[N </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T)];</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::byte</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> buffer_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    using</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> value_type</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> allocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T) </span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> buffer_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(buffer_)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">bad_alloc</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> reinterpret_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(T);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> deallocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // No-op for stack allocator</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Fast vector for small sizes</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, StackAllocator</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> small_vec;</span></span>
<span class="line"></span></code></pre>
<h2 id="memory-pools">Memory Pools</h2>
<h3 id="fixed-size-pool">Fixed-Size Pool</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> BlockSize </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 4096</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MemoryPool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    union</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Node</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T value;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Block</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::byte </span><span style="color:#24292E;--shiki-dark:#E5C07B">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[BlockSize];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Block</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Block</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> blocks_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> free_list_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~MemoryPool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        while</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (blocks_) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            Block</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> blocks_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            ::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(blocks_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            blocks_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> next;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> allocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">free_list_) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">            allocate_block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> node </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> free_list_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        free_list_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#E5C07B">node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> deallocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> node </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> reinterpret_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        node</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> free_list_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        free_list_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> node;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">private:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> allocate_block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Block</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> block </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> static_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Block</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(::operator </span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Block)));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> blocks_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        blocks_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> block;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> node_count </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> BlockSize </span><span style="color:#D73A49;--shiki-dark:#C678DD">/</span><span style="color:#D73A49;--shiki-dark:#C678DD"> sizeof</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(Node);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> nodes </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#ABB2BF"> reinterpret_cast</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">Node</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> node_count; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            nodes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i].</span><span style="color:#24292E;--shiki-dark:#E06C75">next</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> free_list_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            free_list_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#E5C07B">nodes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="polymorphic-memory-resources-c17">Polymorphic Memory Resources (C++17)</h2>
<p>std::pmr provides runtime polymorphism for allocators:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;memory_resource&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Monotonic allocator: fast, no deallocation</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::monotonic_buffer_resource pool;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vec1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">pool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">pool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// All allocations from pool</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Pool memory released when pool destroyed</span></span>
<span class="line"></span></code></pre>
<h3 id="pool-options">Pool Options</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Unsynchronized pool: single-threaded</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unsynchronized_pool_resource pool;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Synchronized pool: thread-safe</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::synchronized_pool_resource thread_safe_pool;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// New/delete resource: default</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">new_delete_resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Null resource: throws on allocation</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">null_memory_resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h3 id="custom-pmr-resource">Custom pmr Resource</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> LoggingResource</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">memory_resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> upstream_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    LoggingResource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">memory_resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> upstream</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">upstream_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(upstream) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">protected:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> do_allocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> bytes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> alignment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Allocating &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> bytes </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> upstream_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">allocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(bytes, alignment);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> do_deallocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">void*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> bytes</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> alignment</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Deallocating &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> bytes </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot; bytes</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        upstream_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">deallocate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr, bytes, alignment);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> do_is_equal</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">pmr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">memory_resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> noexcept</span><span style="color:#D73A49;--shiki-dark:#C678DD"> override</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#005CC5;--shiki-dark:#E5C07B"> this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="memory-debugging">Memory Debugging</h2>
<h3 id="address-sanitizer-asan">Address Sanitizer (ASan)</h3>
<p>Detects memory errors:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Compile with ASan</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">g++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -fsanitize=address</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -g</span><span style="color:#032F62;--shiki-dark:#98C379"> program.cpp</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> program</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Run</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">./program</span></span>
<span class="line"></span></code></pre>
<p>Detects:</p>
<ul>
<li>Use after free</li>
<li>Heap buffer overflow</li>
<li>Stack buffer overflow</li>
<li>Memory leaks</li>
<li>Use after return</li>
</ul>
<p>Example:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> main</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">    ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // ASan detects: heap-use-after-free</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="valgrind">Valgrind</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Check for memory leaks</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">valgrind</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --leak-check=full</span><span style="color:#032F62;--shiki-dark:#98C379"> ./program</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Memory profiler</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">valgrind</span><span style="color:#005CC5;--shiki-dark:#D19A66"> --tool=massif</span><span style="color:#032F62;--shiki-dark:#98C379"> ./program</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">ms_print</span><span style="color:#032F62;--shiki-dark:#98C379"> massif.out.</span><span style="color:#005CC5;--shiki-dark:#E5C07B">*</span></span>
<span class="line"></span></code></pre>
<h3 id="memory-sanitizer-msan">Memory Sanitizer (MSan)</h3>
<p>Detects uninitialized memory reads:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">clang++</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -fsanitize=memory</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -g</span><span style="color:#032F62;--shiki-dark:#98C379"> program.cpp</span><span style="color:#005CC5;--shiki-dark:#D19A66"> -o</span><span style="color:#032F62;--shiki-dark:#98C379"> program</span></span>
<span class="line"></span></code></pre>
<h2 id="smart-pointer-internals">Smart Pointer Internals</h2>
<h3 id="unique_ptr-implementation">unique_ptr Implementation</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Deleter</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::default_delete&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#ABB2BF">    [[</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">no_unique_address</span><span style="color:#005CC5;--shiki-dark:#ABB2BF">]]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Deleter deleter_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (ptr_) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">deleter_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">deleter_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">deleter_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">ptr_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        reset</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">release</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        deleter_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">deleter_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> release</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> reset</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> old_ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (old_ptr) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">deleter_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(old_ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">ptr_; }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="shared_ptr-reference-counting">shared_ptr Reference Counting</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Simplified shared_ptr internals</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ControlBlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;long&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ref_count{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;long&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> weak_count{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~ControlBlock</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> destroy_object</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> destroy_control_block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    ControlBlock</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> control_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        control_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ControlBlockImpl</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(ptr);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> shared_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">ptr_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (control_) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B">ref_count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~shared_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (control_ </span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B">ref_count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_sub</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">destroy_object</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B">control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B">weak_count</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_sub</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">                control_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">destroy_control_block</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="memory-order-and-synchronization">Memory Order and Synchronization</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">#include</span><span style="color:#032F62;--shiki-dark:#98C379"> &lt;atomic&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::atomic</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> counter{</span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Relaxed: no synchronization</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_relaxed);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Acquire-Release: synchronize with matching operations</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">store</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_release);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">load</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_acquire);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Sequential consistency: total order (default)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">counter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fetch_add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::memory_order_seq_cst);</span></span>
<span class="line"></span></code></pre>
<h2 id="raii-patterns">RAII Patterns</h2>
<h3 id="scope-guard">Scope Guard</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ScopeGuard</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    F cleanup_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> active_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> true</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ScopeGuard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">F</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> cleanup</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">cleanup_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(cleanup)) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~ScopeGuard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (active_) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">cleanup_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> dismiss</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { active_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ScopeGuard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ScopeGuard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    ScopeGuard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ScopeGuard</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> make_scope_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">F</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> cleanup</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ScopeGuard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">F</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(cleanup));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Usage</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> filename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(filename, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> guard </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> make_scope_guard</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([</span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] { </span><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (file) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file); });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Use file...</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Automatically closed on scope exit</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><strong>Prefer stack allocation</strong>: Faster and automatic cleanup</li>
<li><strong>Use smart pointers</strong>: unique_ptr by default, shared_ptr when needed</li>
<li><strong>Profile memory usage</strong>: Identify allocation hotspots</li>
<li><strong>Consider custom allocators</strong>: For performance-critical code</li>
<li><strong>Enable sanitizers in development</strong>: Catch bugs early</li>
<li><strong>Align data properly</strong>: For SIMD and cache efficiency</li>
<li><strong>Use pmr for runtime flexibility</strong>: When allocator type isn’t fixed</li>
<li><strong>Avoid memory leaks</strong>: RAII and smart pointers</li>
</ol>
<astro-island uid="Z5L1q1" prefix="r83" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What does alignof return?&quot;],&quot;answers&quot;:[1,[[0,&quot;Size of the type in bytes&quot;],[0,&quot;Alignment requirement in bytes&quot;],[0,&quot;Number of padding bytes&quot;],[0,&quot;Memory address&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;alignof returns the alignment requirement of a type in bytes - the address boundary the type must be aligned to.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What does alignof return?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Size of the type in bytes</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Alignment requirement in bytes</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Number of padding bytes</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Memory address</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="ZlYmXn" prefix="r84" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;// Force struct to be aligned to 64-byte boundary (cache line)\nstruct ______(64) CacheAligned {\n    int data[16];\n};&quot;],&quot;correctAnswer&quot;:[0,&quot;alignas&quot;],&quot;explanation&quot;:[0,&quot;Use alignas specifier to control the alignment of a type or variable.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-comment">// Force struct to be aligned to 64-byte boundary (cache line)</span>
<span class="hl-keyword">struct</span> </span><input type="text" placeholder="?" size="7" class="
                        mx-2 px-3 py-0 h-[24px] rounded-lg border-2 font-black text-center focus:outline-none transition-all duration-300
                        bg-light-surface dark:bg-dark-bg border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:border-primary focus:bg-white dark:focus:bg-black
                      " value=""/><span><span class="hl-bracket">(</span><span class="hl-number">64</span><span class="hl-bracket">)</span> CacheAligned <span class="hl-bracket">{</span>
    <span class="hl-type">int</span> data<span class="hl-bracket">[</span><span class="hl-number">16</span><span class="hl-bracket">]</span>;
<span class="hl-bracket">}</span>;</span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="ZhIOSQ" prefix="r85" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;memory_resource&gt;\n#include &lt;vector&gt;\n\nint main() {\n    // Stack buffer for allocations\n    std::byte buffer[1024];\n    std::pmr::monotonic_buffer_resource pool{buffer, sizeof(buffer)};\n    \n    // Vector using custom allocator\n    std::pmr::vector&lt;int&gt; vec(&amp;pool);\n    \n    for (int i = 0; i &lt; 10; ++i) {\n        vec.push_back(i);\n    }\n    \n    std::cout &lt;&lt; \&quot;Vector size: \&quot; &lt;&lt; vec.size() &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;Allocated from stack buffer\\n\&quot;;\n    \n    // Memory automatically released when pool destroyed\n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Vector size: 10\\nAllocated from stack buffer&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;memory_resource&gt;
#include &lt;vector&gt;

int main() {
    // Stack buffer for allocations
    std::byte buffer[1024];
    std::pmr::monotonic_buffer_resource pool{buffer, sizeof(buffer)};
    
    // Vector using custom allocator
    std::pmr::vector&lt;int&gt; vec(&amp;pool);
    
    for (int i = 0; i &lt; 10; ++i) {
        vec.push_back(i);
    }
    
    std::cout &lt;&lt; &quot;Vector size: &quot; &lt;&lt; vec.size() &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;Allocated from stack buffer\n&quot;;
    
    // Memory automatically released when pool destroyed
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>memory_resource<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre">    <span class="hl-comment">// Stack buffer for allocations</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>byte buffer<span class="hl-bracket">[</span><span class="hl-number">1024</span><span class="hl-bracket">]</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>pmr<span class="hl-operator">::</span>monotonic_buffer_resource pool<span class="hl-bracket">{</span>buffer, sizeof<span class="hl-bracket">(</span>buffer<span class="hl-bracket">)</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-comment">// Vector using custom allocator</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>pmr<span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> vec<span class="hl-bracket">(</span><span class="hl-operator">&amp;</span>pool<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">int</span> i <span class="hl-operator">=</span> <span class="hl-number">0</span>; i <span class="hl-operator">&lt;</span> <span class="hl-number">10</span>; <span class="hl-operator">++</span>i<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">        vec.push_back<span class="hl-bracket">(</span>i<span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Vector size: &quot;</span> <span class="hl-operator">&lt;&lt;</span> vec.size<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Allocated from stack buffer\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-comment">// Memory automatically released when pool destroyed</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">Best Practices and Idioms</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="c-best-practices">C++ Best Practices</h1>
<p>Modern C++ provides powerful features that, when used correctly, lead to clean, efficient, and maintainable code. This lesson covers essential idioms and best practices.</p>
<h2 id="raii-resource-acquisition-is-initialization">RAII: Resource Acquisition Is Initialization</h2>
<p>The fundamental C++ idiom: tie resource lifetime to object lifetime.</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Manual resource management</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ... process ...</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Easy to forget!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: RAII with smart pointers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unique_ptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">FILE</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">decltype</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">fclose)&gt;(</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">        fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">), fclose</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    );</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Automatically closed</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: Use RAII wrappers</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> File</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> File</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fopen</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(path, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;r&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">)) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">file_) </span><span style="color:#D73A49;--shiki-dark:#C678DD">throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Failed to open file&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~File</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (file_) </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fclose</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(file_); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    File</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> File</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    File</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> File</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> delete</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    FILE</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="rule-of-zerothreefive">Rule of Zero/Three/Five</h2>
<h3 id="rule-of-zero">Rule of Zero</h3>
<p>If you don’t need custom resource management, don’t define special members:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Compiler-generated special members work perfectly</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Person</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> age;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> hobbies;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Compiler generates correct copy/move/destructor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="rule-of-five">Rule of Five</h3>
<p>If you define one special member, define all:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int*</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[size]) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Destructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    ~Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="color:#D73A49;--shiki-dark:#C678DD">delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Copy constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()]) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">        std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), data_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Copy assignment</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> new</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">()];</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">            std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), data_);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move constructor</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Move assignment</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">    Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Resource</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">noexcept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#D73A49;--shiki-dark:#C678DD"> !=</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> &amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">other) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">            delete[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">            data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">            other</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#24292E;--shiki-dark:#E06C75">data_</span><span style="color:#D73A49;--shiki-dark:#C678DD"> =</span><span style="color:#005CC5;--shiki-dark:#D19A66"> nullptr</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#005CC5;--shiki-dark:#E5C07B">this</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h3 id="better-use-raii-members">Better: Use RAII Members</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::unique_ptr</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[]</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> size_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">        : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[]&gt;(size)), </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(size) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Rule of Zero: compiler-generated special members work!</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="const-correctness">Const Correctness</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> String</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Read-only access: const method</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    size_t</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> length</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">length</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char*</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> c_str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">c_str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Modification: non-const method</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> append</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { data_ </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Const and non-const overloads</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    char&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> i</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i]; }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> char&amp;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> operator</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">[]</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> i</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i]; }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Use const references to avoid copies</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> print</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> String</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Won&#39;t copy</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">c_str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="prefer-references-to-pointers">Prefer References to Pointers</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Nullable, unclear ownership</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int*</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (value) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Must check for null</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Not nullable, clear value semantics</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Always valid</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// When nullability is needed: std::optional</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">optional</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (value) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="initialization">Initialization</h2>
<h3 id="prefer-uniform-initialization">Prefer Uniform Initialization</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Direct initialization</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x{</span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Avoid narrowing conversions</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i{</span><span style="color:#005CC5;--shiki-dark:#D19A66">3.14</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Error: narrowing</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// For copy construction, use auto</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> str </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Clear intent</span></span>
<span class="line"></span></code></pre>
<h3 id="member-initialization">Member Initialization</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // In-class initializers (C++11)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> timeout </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string host </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;localhost&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> debug </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Constructor: only set non-default values</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    Config</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> h</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">host</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">move</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(h)) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="use-auto-appropriately">Use auto Appropriately</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Obvious type</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> count </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> name </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Complex types</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> some_function_with_long_return_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Generic code</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Type not obvious</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // What type is x?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: Explicit when clarity helps</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string x </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> get_value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span></code></pre>
<h2 id="range-based-for-loops">Range-Based For Loops</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec{</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">5</span><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Read-only: const reference</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value : vec) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39; &#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Modify: reference</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value : vec) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    value </span><span style="color:#D73A49;--shiki-dark:#C678DD">*=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Copy when needed</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value : vec) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    value </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Modifies copy</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="algorithms-over-raw-loops">Algorithms Over Raw Loops</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Manual loop</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i];</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Algorithm expresses intent</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">accumulate</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: Ranges (C++20)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> sum </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">ranges</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">fold_left</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(vec, </span><span style="color:#005CC5;--shiki-dark:#D19A66">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::plus{});</span></span>
<span class="line"></span></code></pre>
<p>More examples:</p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Find element</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">find</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#005CC5;--shiki-dark:#D19A66">42</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Transform</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> doubled;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">               std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(doubled),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">               [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Filter</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> evens;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">copy_if</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">             std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back_inserter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(evens),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">             [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h2 id="error-handling">Error Handling</h2>
<h3 id="exceptions-for-exceptional-cases">Exceptions for Exceptional Cases</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Use exceptions for errors you can&#39;t handle locally</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> path</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::ifstream </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(path);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#56B6C2">!</span><span style="color:#24292E;--shiki-dark:#ABB2BF">file) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">runtime_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Cannot open file: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> +</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> path);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Process...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Handle where you can recover</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    process_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::exception</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> e) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cerr </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Error: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> e</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">what</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Fallback action</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="expected-for-expected-errors">Expected for Expected Errors</h3>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Use std::expected for errors that are expected</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">expected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    try</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">stoi</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(str);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    } </span><span style="color:#D73A49;--shiki-dark:#C678DD">catch</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (...) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">unexpected</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Invalid integer&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> parse_int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(input);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    use</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">} </span><span style="color:#D73A49;--shiki-dark:#C678DD">else</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    handle_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">error</span><span style="color:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="avoid-premature-optimization">Avoid Premature Optimization</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Don&#39;t do this without profiling:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // &quot;Optimization&quot;: manually unrolled loop, hard to read</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">+=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 4</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i</span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#005CC5;--shiki-dark:#D19A66">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF">] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Instead: Write clear code, let compiler optimize</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> n; </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i] </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Modern compilers will vectorize this automatically</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="dependency-injection">Dependency Injection</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Hard-coded dependency</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Database db;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Tightly coupled</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> save_user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> User</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(user);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Inject dependency</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    Database</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> db_;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Dependency injected</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Database</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(db) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> save_user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> User</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(user);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Better: Use interface</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> IDatabase</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> ~IDatabase</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#D73A49;--shiki-dark:#C678DD"> default</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    virtual</span><span style="color:#D73A49;--shiki-dark:#C678DD"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> User</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    IDatabase</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> db_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">IDatabase</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> db</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(db) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> save_user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> User</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        db_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(user);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="prefer-composition-to-inheritance">Prefer Composition to Inheritance</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Inheritance for reuse</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD">public</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt; {</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Exposes vector interface (push_back, etc.)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Composition</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Stack</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> data_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> push</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#24292E;--shiki-dark:#E5C07B">data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(value); }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> pop</span><span style="color:#24292E;--shiki-dark:#ABB2BF">() { </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> val </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        data_</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">pop_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> val;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Only expose stack operations</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span></code></pre>
<h2 id="value-semantics">Value Semantics</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Prefer value semantics</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> names;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Owns strings</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">names</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Makes copy/move</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Over pointer semantics</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string</span><span style="color:#D73A49;--shiki-dark:#C678DD">*&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> names;</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Doesn&#39;t own</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">names</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">new</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">string</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">));</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Manual memory management</span></span>
<span class="line"></span></code></pre>
<h2 id="type-safety-with-strong-types">Type Safety with Strong Types</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Bad: Primitive obsession</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> transfer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> from_account</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> to_account</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> amount</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">transfer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#005CC5;--shiki-dark:#D19A66">123</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">456</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Easy to swap arguments!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: Strong types</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> AccountId</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> AccountId</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">struct</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Amount</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    explicit</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> Amount</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> v</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="color:#6F42C1;--shiki-dark:#61AFEF">value</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(v) {}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> transfer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">AccountId</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> from</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">AccountId</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> to</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Amount</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> amount</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">transfer</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(AccountId{</span><span style="color:#005CC5;--shiki-dark:#D19A66">123</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, AccountId{</span><span style="color:#005CC5;--shiki-dark:#D19A66">456</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}, Amount{</span><span style="color:#005CC5;--shiki-dark:#D19A66">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">});</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Type-safe!</span></span>
<span class="line"></span></code></pre>
<h2 id="factory-functions">Factory Functions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Good: make_unique/make_shared</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> ptr </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(args);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> shared </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_shared</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(args);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Custom factory</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> create</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#D73A49;--shiki-dark:#C678DD">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">... </span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">forward</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Args</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(args)...);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> widget </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> create</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(arg1, arg2);</span></span>
<span class="line"></span></code></pre>
<h2 id="naming-conventions">Naming Conventions</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Classes: PascalCase</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Functions/variables: snake_case</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> process_data</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> user_count;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Constants: SCREAMING_SNAKE_CASE or kPascalCase</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> MAX_USERS </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">constexpr</span><span style="color:#D73A49;--shiki-dark:#C678DD"> int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> kMaxUsers </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 100</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Member variables: trailing underscore</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Widget</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    int</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> value_;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string name_;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Template parameters: PascalCase</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> ValueType</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> AllocatorType</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> Container</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {};</span></span>
<span class="line"></span></code></pre>
<h2 id="documentation">Documentation</h2>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/**</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span><span style="color:#D73A49;font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">@brief</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> Computes the factorial of a number.</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span><span style="color:#D73A49;font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">@param</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> The number (must be non-negative)</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span><span style="color:#D73A49;font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">@return</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> The factorial of n</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span><span style="color:#D73A49;font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">@throws</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> std::invalid_argument if n &lt; 0</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> */</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> factorial</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> n</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (n </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">        throw</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">invalid_argument</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;n must be non-negative&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // ...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="modern-c-checklist">Modern C++ Checklist</h2>
<p>✅ Use RAII for resource management<br/>
✅ Prefer smart pointers to raw pointers<br/>
✅ Use const correctness<br/>
✅ Prefer references to pointers<br/>
✅ Initialize variables at declaration<br/>
✅ Use auto when type is obvious<br/>
✅ Prefer algorithms to raw loops<br/>
✅ Use range-based for loops<br/>
✅ Follow Rule of Zero when possible<br/>
✅ Use exceptions for exceptional cases<br/>
✅ Avoid premature optimization<br/>
✅ Prefer composition to inheritance<br/>
✅ Use strong types for type safety<br/>
✅ Document public APIs<br/>
✅ Enable compiler warnings (-Wall -Wextra)</p>
<astro-island uid="Z2rjypb" prefix="r86" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;What is the Rule of Zero?&quot;],&quot;answers&quot;:[1,[[0,&quot;Never use dynamic memory&quot;],[0,&quot;If you don&#39;t need custom resource management, don&#39;t define special members&quot;],[0,&quot;Always initialize to zero&quot;],[0,&quot;Use zero-overhead abstractions&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;The Rule of Zero states that if your class doesn&#39;t manage resources directly (using RAII members instead), you should rely on compiler-generated special member functions.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">What is the Rule of Zero?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Never use dynamic memory</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">If you don&#x27;t need custom resource management, don&#x27;t define special members</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Always initialize to zero</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">Use zero-overhead abstractions</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Mhfqm" prefix="r87" component-url="../../assets/CodeExercise.CAKj4wr1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;initialCode&quot;:[0,&quot;// Make this function take a non-nullable reference\nvoid increment(int_ value) {\n    value += 1;\n}&quot;],&quot;correctAnswer&quot;:[0,&quot;&amp;&quot;],&quot;explanation&quot;:[0,&quot;Use &amp; to declare a reference parameter, which cannot be null and provides value semantics.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeExercise&quot;,&quot;value&quot;:true}" await-children=""><div class="code-exercise my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code2 text-primary"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Interactive Lab</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Complete the Code</h3></div></div></div><div class="p-4"><div class="code-container-base hl-default !p-6 md:!p-10 overflow-auto"><pre class="whitespace-pre m-0 p-0 font-mono text-[15.2px] leading-[25.84px]"><span><span class="hl-comment">// Make this function take a non-nullable reference</span>
<span class="hl-type">void</span> increment<span class="hl-bracket">(</span>int_ value<span class="hl-bracket">)</span> <span class="hl-bracket">{</span>
    value <span class="hl-operator">+</span><span class="hl-operator">=</span> <span class="hl-number">1</span>;
<span class="hl-bracket">}</span></span></pre></div><div class="mt-10 flex flex-col gap-6"><button disabled="" class="
                    self-start px-12 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] transition-all shadow-xl
                    bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
                ">Compile &amp; Run</button></div></div></div></div><!--astro:end--></astro-island>
<astro-island uid="Z20vJFt" prefix="r88" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;numeric&gt;\n\nint main() {\n    std::vector&lt;int&gt; numbers{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n    \n    // Modern C++: algorithms over raw loops\n    int sum = std::accumulate(numbers.begin(), numbers.end(), 0);\n    \n    auto it = std::find_if(numbers.begin(), numbers.end(),\n                           [](int x) { return x &gt; 5; });\n    \n    std::vector&lt;int&gt; evens;\n    std::copy_if(numbers.begin(), numbers.end(),\n                 std::back_inserter(evens),\n                 [](int x) { return x % 2 == 0; });\n    \n    std::cout &lt;&lt; \&quot;Sum: \&quot; &lt;&lt; sum &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;First &gt; 5: \&quot; &lt;&lt; *it &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; \&quot;Evens: \&quot;;\n    for (const auto&amp; n : evens) {\n        std::cout &lt;&lt; n &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Sum: 55\\nFirst &gt; 5: 6\\nEvens: 2 4 6 8 10 &quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;numeric&gt;

int main() {
    std::vector&lt;int&gt; numbers{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    
    // Modern C++: algorithms over raw loops
    int sum = std::accumulate(numbers.begin(), numbers.end(), 0);
    
    auto it = std::find_if(numbers.begin(), numbers.end(),
                           [](int x) { return x &gt; 5; });
    
    std::vector&lt;int&gt; evens;
    std::copy_if(numbers.begin(), numbers.end(),
                 std::back_inserter(evens),
                 [](int x) { return x % 2 == 0; });
    
    std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;First &gt; 5: &quot; &lt;&lt; *it &lt;&lt; &#x27;\n&#x27;;
    std::cout &lt;&lt; &quot;Evens: &quot;;
    for (const auto&amp; n : evens) {
        std::cout &lt;&lt; n &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>algorithm<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>numeric<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> numbers<span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span>, <span class="hl-number">6</span>, <span class="hl-number">7</span>, <span class="hl-number">8</span>, <span class="hl-number">9</span>, <span class="hl-number">10</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-comment">// Modern C++: algorithms over raw loops</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    <span class="hl-type">int</span> sum <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>accumulate<span class="hl-bracket">(</span>numbers.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, numbers.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, <span class="hl-number">0</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">auto</span> it <span class="hl-operator">=</span> <span class="hl-type">std</span><span class="hl-operator">::</span>find_if<span class="hl-bracket">(</span>numbers.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, numbers.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">                           <span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">&gt;</span> <span class="hl-number">5</span>; <span class="hl-bracket">}</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> evens;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span>copy_if<span class="hl-bracket">(</span>numbers.begin<span class="hl-bracket">(</span><span class="hl-bracket">)</span>, numbers.end<span class="hl-bracket">(</span><span class="hl-bracket">)</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">                 <span class="hl-type">std</span><span class="hl-operator">::</span>back_inserter<span class="hl-bracket">(</span>evens<span class="hl-bracket">)</span>,</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">                 <span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">%</span> <span class="hl-number">2</span> <span class="hl-operator">==</span> <span class="hl-number">0</span>; <span class="hl-bracket">}</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Sum: &quot;</span> <span class="hl-operator">&lt;&lt;</span> sum <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;First &gt; 5: &quot;</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-operator">*</span>it <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Evens: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-keyword">const</span> <span class="hl-type">auto</span><span class="hl-operator">&amp;</span> n : evens<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> n <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island> </div> </div><div class="lesson-container mb-32 last:mb-0"> <header class="mb-16"> <div class="flex items-center gap-3 mb-6"> <div class="h-px w-8 bg-primary"></div> <div class="text-[10px] font-black text-primary uppercase tracking-[0.4em]">Section Detail</div> </div> <h3 class="text-5xl font-black uppercase tracking-tighter text-slate-900 mb-8 leading-[0.95]">The C++ Journey: Past, Present, Future</h3> <div class="h-2 w-24 bg-primary rounded-full shadow-lg shadow-primary/10"></div> </header> <div class="content-article"> <h1 id="the-c-journey">The C++ Journey</h1>
<p>C++ has evolved from a “C with Classes” in 1983 to a sophisticated, multi-paradigm language powering everything from embedded systems to game engines, financial systems to web browsers.</p>
<h2 id="historical-evolution">Historical Evolution</h2>
<h3 id="c98-the-first-standard">C++98: The First Standard</h3>
<p>The first ISO standard brought:</p>
<ul>
<li>Templates and STL</li>
<li>Exceptions</li>
<li>RTTI and dynamic_cast</li>
<li>Namespaces</li>
<li>bool type</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++98 style</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::vector</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;::iterator it </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">begin</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">     it </span><span style="color:#D73A49;--shiki-dark:#C678DD">!=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">end</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF">it </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="c11-modern-c-begins">C++11: Modern C++ Begins</h3>
<p>Revolutionary update with:</p>
<ul>
<li>auto and decltype</li>
<li>Range-based for loops</li>
<li>Lambda expressions</li>
<li>Smart pointers (unique_ptr, shared_ptr)</li>
<li>Move semantics and rvalue references</li>
<li>constexpr</li>
<li>nullptr</li>
<li>Uniform initialization</li>
<li>Threading library</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++11 style</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">make_unique</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">const</span><span style="color:#D73A49;--shiki-dark:#C678DD"> auto</span><span style="color:#D73A49;--shiki-dark:#56B6C2">&amp;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> item : </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">vec) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> item </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="c14-refinements">C++14: Refinements</h3>
<p>Incremental improvements:</p>
<ul>
<li>Generic lambdas</li>
<li>Return type deduction</li>
<li>Binary literals</li>
<li>std::make_unique</li>
<li>Variable templates</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> lambda </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [](</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> y</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> y; };</span></span>
<span class="line"></span></code></pre>
<h3 id="c17-major-features">C++17: Major Features</h3>
<p>Significant additions:</p>
<ul>
<li>Structured bindings</li>
<li>if/switch with initializers</li>
<li>std::optional, std::variant, std::any</li>
<li>std::string_view</li>
<li>Filesystem library</li>
<li>Parallel algorithms</li>
<li>Fold expressions</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::map</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::string, </span><span style="color:#D73A49;--shiki-dark:#C678DD">int&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> map </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> {{</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Alice&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">30</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> [it, inserted] </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#E5C07B"> map</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">insert</span><span style="color:#24292E;--shiki-dark:#ABB2BF">({</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Bob&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#005CC5;--shiki-dark:#D19A66">25</span><span style="color:#24292E;--shiki-dark:#ABB2BF">}); inserted) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">    std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::cout </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &quot;Inserted: &quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> it</span><span style="color:#24292E;--shiki-dark:#ABB2BF">-&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75">first</span><span style="color:#D73A49;--shiki-dark:#C678DD"> &lt;&lt;</span><span style="color:#032F62;--shiki-dark:#98C379"> &#39;</span><span style="color:#005CC5;--shiki-dark:#56B6C2">\n</span><span style="color:#032F62;--shiki-dark:#98C379">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="c20-transformative-release">C++20: Transformative Release</h3>
<p>Game-changing features:</p>
<ul>
<li>Concepts</li>
<li>Ranges</li>
<li>Coroutines</li>
<li>Modules</li>
<li>Three-way comparison (spaceship operator)</li>
<li>Designated initializers</li>
<li>constexpr expansions</li>
<li>std::format</li>
<li>Calendar and timezone</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++20: Concepts constrain templates</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#D73A49;--shiki-dark:#C678DD">integral</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Ranges: composable algorithms</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">%</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD"> ==</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">([](</span><span style="color:#D73A49;--shiki-dark:#C678DD">int</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> x</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) { </span><span style="color:#D73A49;--shiki-dark:#C678DD">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> x </span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; });</span></span>
<span class="line"></span></code></pre>
<h3 id="c23-continued-evolution">C++23: Continued Evolution</h3>
<p>Recent additions:</p>
<ul>
<li>std::expected</li>
<li>Deducing this</li>
<li>std::print</li>
<li>Multidimensional subscript operator</li>
<li>static operator()</li>
<li>if consteval</li>
<li>std::flat_map and std::flat_set</li>
</ul>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// C++23: std::print</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">println</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;Hello, {}!&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#032F62;--shiki-dark:#98C379">&quot;World&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// std::expected</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF">std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::expected</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;int</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, Error</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (result) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF">    process</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#D73A49;--shiki-dark:#C678DD">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF">result);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="the-current-ecosystem">The Current Ecosystem</h2>
<h3 id="major-implementations">Major Implementations</h3>
<p><strong>GCC (GNU Compiler Collection)</strong></p>
<ul>
<li>Open source</li>
<li>Excellent standards conformance</li>
<li>Wide platform support</li>
<li>Strong optimization</li>
</ul>
<p><strong>Clang/LLVM</strong></p>
<ul>
<li>Modern architecture</li>
<li>Fast compilation</li>
<li>Excellent diagnostics</li>
<li>Used by Apple, Google</li>
</ul>
<p><strong>MSVC (Microsoft Visual C++)</strong></p>
<ul>
<li>Windows-focused</li>
<li>Improving standards support</li>
<li>Integrated with Visual Studio</li>
<li>Good debugging tools</li>
</ul>
<p><strong>Intel C++ Compiler</strong></p>
<ul>
<li>Performance-focused</li>
<li>Advanced optimizations</li>
<li>Scientific computing</li>
</ul>
<h3 id="build-systems">Build Systems</h3>
<p><strong>CMake</strong>: Industry standard, cross-platform<br/>
<strong>Meson</strong>: Fast, user-friendly<br/>
<strong>Bazel</strong>: Scalable, reproducible builds<br/>
<strong>xmake</strong>: Lua-based, modern</p>
<h3 id="package-managers">Package Managers</h3>
<p><strong>vcpkg</strong>: Microsoft-backed, cross-platform<br/>
<strong>Conan</strong>: Decentralized, flexible<br/>
<strong>Hunter</strong>: CMake-driven</p>
<h3 id="testing-frameworks">Testing Frameworks</h3>
<p><strong>Google Test</strong>: Most widely used<br/>
<strong>Catch2</strong>: Header-only, BDD-style<br/>
<strong>Doctest</strong>: Fast, minimal</p>
<h3 id="libraries">Libraries</h3>
<p><strong>Boost</strong>: Extensive, battle-tested<br/>
<strong>Abseil</strong>: Google’s C++ library<br/>
<strong>fmt</strong>: Fast formatting<br/>
<strong>spdlog</strong>: Fast logging<br/>
<strong>nlohmann/json</strong>: JSON processing<br/>
<strong>cpr</strong>: HTTP requests</p>
<h2 id="where-c-excels">Where C++ Excels</h2>
<h3 id="systems-programming">Systems Programming</h3>
<ul>
<li>Operating systems (Windows, Linux, macOS)</li>
<li>Device drivers</li>
<li>Embedded systems</li>
<li>Real-time systems</li>
</ul>
<h3 id="performance-critical-applications">Performance-Critical Applications</h3>
<ul>
<li>Game engines (Unreal, Unity core)</li>
<li>Graphics (DirectX, OpenGL, Vulkan)</li>
<li>Scientific computing</li>
<li>High-frequency trading</li>
</ul>
<h3 id="large-scale-software">Large-Scale Software</h3>
<ul>
<li>Databases (MySQL, MongoDB)</li>
<li>Web browsers (Chrome, Firefox)</li>
<li>Office suites (LibreOffice)</li>
<li>Media processing (Adobe tools)</li>
</ul>
<h3 id="cross-platform-development">Cross-Platform Development</h3>
<ul>
<li>Mobile: Native Android (NDK)</li>
<li>Desktop: Qt, wxWidgets</li>
<li>Server: Backend services</li>
</ul>
<h2 id="future-directions">Future Directions</h2>
<h3 id="c26-and-beyond">C++26 and Beyond</h3>
<p>Proposed features:</p>
<ul>
<li>Pattern matching</li>
<li>Reflection</li>
<li>Contracts</li>
<li>Executors</li>
<li>Linear algebra library</li>
<li>Improved compile times</li>
</ul>
<h3 id="ongoing-improvements">Ongoing Improvements</h3>
<p><strong>Safety</strong>: Addressing memory safety concerns<br/>
<strong>Simplicity</strong>: Reducing complexity<br/>
<strong>Performance</strong>: Zero-cost abstractions<br/>
<strong>Tooling</strong>: Better IDE support<br/>
<strong>Modules</strong>: Universal adoption</p>
<h2 id="modern-c-principles">Modern C++ Principles</h2>
<p><strong>Zero-Overhead Abstraction</strong></p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// High-level abstractions...</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> result </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> vec </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(is_valid)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#56B6C2">    |</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">views</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">transform</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(compute);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// ...compile to efficient machine code</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#D73A49;--shiki-dark:#C678DD">size_t</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> i </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="color:#24292E;--shiki-dark:#ABB2BF">; i </span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B"> vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">size</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(); </span><span style="color:#D73A49;--shiki-dark:#C678DD">++</span><span style="color:#24292E;--shiki-dark:#ABB2BF">i) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">is_valid</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i])) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B">        result</span><span style="color:#24292E;--shiki-dark:#ABB2BF">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">push_back</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">compute</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#24292E;--shiki-dark:#E5C07B">vec</span><span style="color:#24292E;--shiki-dark:#ABB2BF">[i]));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Type Safety</strong></p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Compile-time checking prevents errors</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">typename</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">concept</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> Numeric </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::integral</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2"> ||</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::floating_point</span><span style="color:#D73A49;--shiki-dark:#C678DD">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">T</span><span style="color:#D73A49;--shiki-dark:#C678DD">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">template</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">Numeric</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#6F42C1;--shiki-dark:#61AFEF"> add</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> a</span><span style="color:#24292E;--shiki-dark:#ABB2BF">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="color:#E36209;font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> b</span><span style="color:#24292E;--shiki-dark:#ABB2BF">) {</span><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // Only accepts numeric types</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    return</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> a </span><span style="color:#D73A49;--shiki-dark:#C678DD">+</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> b;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Resource Management</strong></p>
<pre class="astro-code astro-code-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;overflow-x:auto" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// RAII: no manual cleanup needed</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> file </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">ifstream</span><span style="color:#24292E;--shiki-dark:#ABB2BF">(</span><span style="color:#032F62;--shiki-dark:#98C379">&quot;data.txt&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD">    auto</span><span style="color:#24292E;--shiki-dark:#ABB2BF"> buffer </span><span style="color:#D73A49;--shiki-dark:#C678DD">=</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF"> std</span><span style="color:#24292E;--shiki-dark:#ABB2BF">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF">vector</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD">char</span><span style="color:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="color:#005CC5;--shiki-dark:#D19A66">1024</span><span style="color:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#6A737D;font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Automatic cleanup on scope exit</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h2 id="learning-resources">Learning Resources</h2>
<h3 id="books">Books</h3>
<ul>
<li><strong>”A Tour of C++”</strong> - Bjarne Stroustrup (overview)</li>
<li><strong>“Effective Modern C++”</strong> - Scott Meyers (best practices)</li>
<li><strong>“C++ Concurrency in Action”</strong> - Anthony Williams (threading)</li>
<li><strong>“C++ Templates: The Complete Guide”</strong> - Vandevoorde et al.</li>
</ul>
<h3 id="online">Online</h3>
<ul>
<li><strong>cppreference.com</strong>: Comprehensive reference</li>
<li><strong>isocpp.org</strong>: Standard committee site</li>
<li><strong>CppCon</strong>: Annual conference talks</li>
<li><strong>C++ Weekly</strong>: Jason Turner’s videos</li>
</ul>
<h3 id="communities">Communities</h3>
<ul>
<li><strong>r/cpp</strong>: Reddit community</li>
<li><strong>cpplang Slack</strong>: Real-time chat</li>
<li><strong>Stack Overflow</strong>: Q&amp;A</li>
<li><strong>GitHub</strong>: Open source projects</li>
</ul>
<h2 id="career-opportunities">Career Opportunities</h2>
<p>C++ developers are in demand for:</p>
<ul>
<li><strong>Embedded Systems</strong>: IoT, automotive, aerospace</li>
<li><strong>Game Development</strong>: AAA games, engines</li>
<li><strong>Finance</strong>: Trading systems, risk analysis</li>
<li><strong>Cloud Infrastructure</strong>: Distributed systems</li>
<li><strong>AI/ML</strong>: TensorFlow, PyTorch backends</li>
<li><strong>Computer Graphics</strong>: Rendering engines</li>
<li><strong>Cybersecurity</strong>: System-level security tools</li>
</ul>
<p>Typical roles:</p>
<ul>
<li>Systems Engineer</li>
<li>Game Engine Programmer</li>
<li>Embedded Software Developer</li>
<li>Quantitative Developer</li>
<li>Graphics Engineer</li>
<li>Performance Engineer</li>
</ul>
<h2 id="continuing-your-journey">Continuing Your Journey</h2>
<h3 id="practice-projects">Practice Projects</h3>
<p><strong>Beginner</strong></p>
<ul>
<li>Text-based games</li>
<li>Data structure implementations</li>
<li>File processing utilities</li>
</ul>
<p><strong>Intermediate</strong></p>
<ul>
<li>HTTP server</li>
<li>JSON parser</li>
<li>Simple database</li>
<li>2D game engine</li>
</ul>
<p><strong>Advanced</strong></p>
<ul>
<li>Memory allocator</li>
<li>Multithreaded server</li>
<li>Graphics renderer</li>
<li>Programming language interpreter</li>
</ul>
<h3 id="contributing-to-open-source">Contributing to Open Source</h3>
<p>Find projects on GitHub:</p>
<ul>
<li>Fix bugs in libraries you use</li>
<li>Add features to tools</li>
<li>Improve documentation</li>
<li>Review pull requests</li>
</ul>
<h3 id="stay-current">Stay Current</h3>
<p>C++ evolves every three years:</p>
<ul>
<li>Read committee papers</li>
<li>Experiment with new features</li>
<li>Attend conferences (CppCon, Meeting C++)</li>
<li>Follow C++ blogs and podcasts</li>
</ul>
<h2 id="the-philosophy-of-c">The Philosophy of C++</h2>
<p><strong>“You don’t pay for what you don’t use”</strong> - Bjarne Stroustrup</p>
<p>C++ provides powerful abstractions without runtime cost. You can write high-level code that compiles to efficient machine code.</p>
<p><strong>Multi-Paradigm</strong></p>
<ul>
<li>Procedural: C-style functions</li>
<li>Object-Oriented: Classes and inheritance</li>
<li>Generic: Templates and concepts</li>
<li>Functional: Lambdas and algorithms</li>
</ul>
<p><strong>Backward Compatibility</strong></p>
<p>C++ maintains compatibility with previous versions, allowing gradual modernization of codebases.</p>
<h2 id="final-thoughts">Final Thoughts</h2>
<p>C++ is complex but rewarding. It offers:</p>
<ul>
<li><strong>Control</strong>: Direct hardware access</li>
<li><strong>Performance</strong>: Zero-overhead abstractions</li>
<li><strong>Expressiveness</strong>: Modern features</li>
<li><strong>Versatility</strong>: Multiple paradigms</li>
<li><strong>Longevity</strong>: 40+ years, still evolving</li>
</ul>
<p>The journey from C++98 to C++23 shows continuous improvement while maintaining backward compatibility. Modern C++ (C++11 onward) is a different language from legacy C++.</p>
<p><strong>Key Takeaways:</strong></p>
<ol>
<li>Use modern features (auto, ranges, smart pointers)</li>
<li>Follow RAII and value semantics</li>
<li>Leverage the type system (concepts, constexpr)</li>
<li>Prefer composition and algorithms</li>
<li>Profile before optimizing</li>
<li>Keep learning - C++ never stops evolving</li>
</ol>
<p>The C++ community is active and welcoming. Whether you’re building games, financial systems, embedded devices, or exploring systems programming, C++ provides the tools and performance you need.</p>
<p>Your journey doesn’t end here—it’s just beginning. Keep coding, keep learning, and embrace modern C++!</p>
<astro-island uid="Z28AvuS" prefix="r89" component-url="../../assets/Quiz.BfJdq4R1.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;question&quot;:[0,&quot;Which C++ version introduced move semantics and lambda expressions?&quot;],&quot;answers&quot;:[1,[[0,&quot;C++98&quot;],[0,&quot;C++11&quot;],[0,&quot;C++17&quot;],[0,&quot;C++20&quot;]]],&quot;correctIndex&quot;:[0,1],&quot;explanation&quot;:[0,&quot;C++11 was the revolutionary update that introduced move semantics, lambda expressions, smart pointers, auto, and many other modern features.&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Quiz&quot;,&quot;value&quot;:true}" await-children=""><div class="quiz-container my-16 p-8 md:p-12 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-[3rem] shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden transition-all duration-300"><div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary via-secondary to-accent opacity-30"></div><div class="flex items-center gap-3 mb-10"><div class="px-4 py-1.5 rounded-full bg-light-surface dark:bg-dark-bg border border-light-border dark:border-dark-border text-[10px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm">Conceptual Check</div></div><h3 class="text-3xl md:text-4xl font-black text-light-text dark:text-dark-text mb-12 tracking-tighter leading-[1.1]">Which C++ version introduced move semantics and lambda expressions?</h3><div class="flex flex-col gap-5"><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">C++98</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">C++11</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">C++17</span></button><button class="
              w-full p-6 md:p-8 rounded-[2rem] border-2 text-left transition-all flex items-center gap-6 group relative overflow-hidden
              border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-surface dark:hover:bg-dark-bg
              
              
            "><div class="w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all shrink-0 border-light-border dark:border-dark-border bg-transparent"></div><span class="text-lg font-bold transition-colors text-light-muted dark:text-dark-muted">C++20</span></button></div><div class="mt-16 flex flex-col gap-6"><button disabled="" class="
                w-full sm:w-auto px-16 py-6 rounded-2xl font-black transition-all uppercase tracking-[0.2em] text-sm
                bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed
            ">Verify Prediction</button></div></div><!--astro:end--></astro-island>
<astro-island uid="Z1ajzGc" prefix="r90" component-url="../../assets/CodeRunner.PglBlK16.js" component-export="default" renderer-url="../../assets/client.DWvMSTGb.js" props="{&quot;code&quot;:[0,&quot;#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;ranges&gt;\n#include &lt;algorithm&gt;\n\nint main() {\n    std::vector&lt;int&gt; numbers{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n    \n    // Modern C++: from C++11 through C++20\n    \n    // C++11: auto, range-for, lambda\n    auto squared = [](int x) { return x * x; };\n    \n    // C++17: structured bindings (would need map)\n    // C++20: ranges\n    auto result = numbers\n        | std::views::filter([](int x) { return x % 2 == 0; })\n        | std::views::transform([](int x) { return x * x; });\n    \n    std::cout &lt;&lt; \&quot;Even numbers squared: \&quot;;\n    for (auto value : result) {\n        std::cout &lt;&lt; value &lt;&lt; &#39; &#39;;\n    }\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    \n    // The evolution continues...\n    std::cout &lt;&lt; \&quot;C++ keeps evolving!\\n\&quot;;\n    \n    return 0;\n}&quot;],&quot;output&quot;:[0,&quot;Even numbers squared: 4 16 36 64 100 \\nC++ keeps evolving!&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;CodeRunner&quot;,&quot;value&quot;:true}" await-children=""><div class="code-runner my-16 group"><div class="bg-white dark:bg-dark-surface rounded-[2.5rem] overflow-hidden border border-light-border dark:border-dark-border shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:border-primary/30"><div class="bg-light-surface dark:bg-black/20 px-10 py-6 border-b border-light-border dark:border-dark-border flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-primary/10 rounded-2xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu text-primary"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg></div><div><div class="text-[10px] font-black text-primary uppercase tracking-[0.25em] mb-0.5">Runtime Environment</div><h3 class="text-xl font-black text-[#111827] dark:text-white uppercase tracking-tighter">Interactive Lab</h3></div></div><div class="flex gap-2"><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-primary border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="p-3 hover:bg-white dark:hover:bg-dark-bg rounded-xl transition-all text-light-muted dark:text-dark-muted hover:text-rose-500 border border-transparent hover:border-light-border dark:hover:border-dark-border"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw "><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button></div></div><div class="flex flex-col min-h-[400px]"><div class="relative border-b border-light-border dark:border-dark-border group/editor bg-white dark:bg-dark-bg/20 overflow-auto max-h-[600px]"><div class="relative min-h-full" style="min-width:max-content;width:100%"><textarea class="absolute inset-0 w-full h-full pt-[40px] pb-[40px] pr-[40px] pl-[80px] font-mono text-[15.2px] leading-[25.84px] bg-transparent text-transparent caret-primary resize-none focus:outline-none z-10 selection:bg-primary/30 overflow-hidden whitespace-pre" spellcheck="false" style="font-variant-ligatures:none">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;ranges&gt;
#include &lt;algorithm&gt;

int main() {
    std::vector&lt;int&gt; numbers{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    
    // Modern C++: from C++11 through C++20
    
    // C++11: auto, range-for, lambda
    auto squared = [](int x) { return x * x; };
    
    // C++17: structured bindings (would need map)
    // C++20: ranges
    auto result = numbers
        | std::views::filter([](int x) { return x % 2 == 0; })
        | std::views::transform([](int x) { return x * x; });
    
    std::cout &lt;&lt; &quot;Even numbers squared: &quot;;
    for (auto value : result) {
        std::cout &lt;&lt; value &lt;&lt; &#x27; &#x27;;
    }
    std::cout &lt;&lt; &#x27;\n&#x27;;
    
    // The evolution continues...
    std::cout &lt;&lt; &quot;C++ keeps evolving!\n&quot;;
    
    return 0;
}</textarea><div class="p-[40px] font-mono text-[15.2px] leading-[25.84px] pointer-events-none hl-default"><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">1</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">iostream</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">2</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span><span class="hl-type">vector</span><span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">3</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>ranges<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">4</span><span class="whitespace-pre"><span class="hl-directive">#include</span> <span class="hl-operator">&lt;</span>algorithm<span class="hl-operator">&gt;</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">5</span><span class="whitespace-pre">&nbsp;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">6</span><span class="whitespace-pre"><span class="hl-type">int</span> main<span class="hl-bracket">(</span><span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">7</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-type">vector</span><span class="hl-operator">&lt;</span><span class="hl-type">int</span><span class="hl-operator">&gt;</span> numbers<span class="hl-bracket">{</span><span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>, <span class="hl-number">4</span>, <span class="hl-number">5</span>, <span class="hl-number">6</span>, <span class="hl-number">7</span>, <span class="hl-number">8</span>, <span class="hl-number">9</span>, <span class="hl-number">10</span><span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">8</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">9</span><span class="whitespace-pre">    <span class="hl-comment">// Modern C++: from C++11 through C++20</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">10</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">11</span><span class="whitespace-pre">    <span class="hl-comment">// C++11: auto, range-for, lambda</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">12</span><span class="whitespace-pre">    <span class="hl-type">auto</span> squared <span class="hl-operator">=</span> <span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x; <span class="hl-bracket">}</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">13</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">14</span><span class="whitespace-pre">    <span class="hl-comment">// C++17: structured bindings (would need map)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">15</span><span class="whitespace-pre">    <span class="hl-comment">// C++20: ranges</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">16</span><span class="whitespace-pre">    <span class="hl-type">auto</span> result <span class="hl-operator">=</span> numbers</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">17</span><span class="whitespace-pre">        <span class="hl-operator">|</span> <span class="hl-type">std</span><span class="hl-operator">::</span>views<span class="hl-operator">::</span>filter<span class="hl-bracket">(</span><span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">%</span> <span class="hl-number">2</span> <span class="hl-operator">==</span> <span class="hl-number">0</span>; <span class="hl-bracket">}</span><span class="hl-bracket">)</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">18</span><span class="whitespace-pre">        <span class="hl-operator">|</span> <span class="hl-type">std</span><span class="hl-operator">::</span>views<span class="hl-operator">::</span>transform<span class="hl-bracket">(</span><span class="hl-bracket">[</span><span class="hl-bracket">]</span><span class="hl-bracket">(</span><span class="hl-type">int</span> x<span class="hl-bracket">)</span> <span class="hl-bracket">{</span> <span class="hl-keyword">return</span> x <span class="hl-operator">*</span> x; <span class="hl-bracket">}</span><span class="hl-bracket">)</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">19</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">20</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;Even numbers squared: &quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">21</span><span class="whitespace-pre">    <span class="hl-keyword">for</span> <span class="hl-bracket">(</span><span class="hl-type">auto</span> value : result<span class="hl-bracket">)</span> <span class="hl-bracket">{</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">22</span><span class="whitespace-pre">        <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> value <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039; &#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">23</span><span class="whitespace-pre">    <span class="hl-bracket">}</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">24</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&#039;\n&#039;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">25</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">26</span><span class="whitespace-pre">    <span class="hl-comment">// The evolution continues...</span></span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">27</span><span class="whitespace-pre">    <span class="hl-type">std</span><span class="hl-operator">::</span><span class="hl-function">cout</span> <span class="hl-operator">&lt;&lt;</span> <span class="hl-string">&quot;C++ keeps evolving!\n&quot;</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">28</span><span class="whitespace-pre">    </span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">29</span><span class="whitespace-pre">    <span class="hl-keyword">return</span> <span class="hl-number">0</span>;</span></div><div class="flex gap-[24px] group/line min-h-[25.84px]"><span class="text-light-muted dark:text-dark-muted select-none text-right w-[16px] opacity-30 inline-block font-mono">30</span><span class="whitespace-pre"><span class="hl-bracket">}</span></span></div></div></div></div><div class="bg-light-surface dark:bg-black/20 p-10 flex flex-col"><div class="flex items-center justify-between mb-8"><div class="flex items-center gap-3"><div class="w-2 h-8 bg-primary rounded-full"></div><span class="text-xs font-black uppercase tracking-[0.2em] text-[#111827] dark:text-white">System Console</span></div><button class="flex items-center gap-3 bg-black dark:bg-white text-white dark:text-black px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:scale-105 active:scale-95 transition-all shadow-xl disabled:opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play "><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Execution</button></div><div class="flex-1 bg-white dark:bg-dark-bg/50 rounded-3xl border border-light-border dark:border-dark-border p-8 font-mono text-sm overflow-auto shadow-inner min-h-[200px] hl-default"><div class="h-full flex flex-col items-center justify-center text-center opacity-30" style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-terminal mb-4"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" x2="20" y1="19" y2="19"></line></svg><p class="uppercase tracking-[0.1em] text-[10px] font-black">Waiting for signal...</p></div></div></div></div></div></div><!--astro:end--></astro-island>
<p><strong>Congratulations on completing this C++ course! You now have a solid foundation in modern C++ programming. Keep practicing, building projects, and exploring the ever-evolving C++ ecosystem. Happy coding!</strong> 🚀</p> </div> </div> </div> </div> </div> <!-- Background Decoration for Screen View --> <div class="fixed inset-0 -z-10 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:24px_24px] opacity-40 no-print"></div> <script>
      // Ultimate Brute Force Quiz Header Removal
      function zapQuizHeaders() {
        // 1. Target by common IDs generated by MDX
        const idsToHide = ['exercise', 'quiz', 'knowledge-check', 'practice', 'check-your-knowledge'];
        idsToHide.forEach(id => {
          document.querySelectorAll(`[id*="${id}" i]`).forEach(el => {
            el.style.setProperty('display', 'none', 'important');
          });
        });

        // 2. Target by Text Content for Headings
        const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
        headings.forEach(h => {
          const text = h.textContent.toLowerCase().trim();
          if (text === 'exercise' || text === 'quiz' || text === 'knowledge check' || text === 'practice') {
            h.style.setProperty('display', 'none', 'important');
          }
        });

        // 3. Look back from interactive elements
        const interactiveElements = document.querySelectorAll('.quiz-container, .Quiz, .code-runner, .code-exercise');
        interactiveElements.forEach(el => {
          el.style.setProperty('display', 'none', 'important');
          let prev = el.previousElementSibling;
          let count = 0;
          while (prev && count < 3) {
            const tag = prev.tagName;
            const text = prev.textContent.toLowerCase();
            if (tag.startsWith('H') || (tag === 'P' && text.length < 50)) {
               prev.style.setProperty('display', 'none', 'important');
            }
            prev = prev.previousElementSibling;
            count++;
          }
        });
      }

      // Run multiple times to handle hydration/React rendering
      zapQuizHeaders();
      window.addEventListener('DOMContentLoaded', zapQuizHeaders);
      window.addEventListener('load', zapQuizHeaders);
      setInterval(zapQuizHeaders, 500);
    </script>  </body> </html>