import{j as e}from"./jsx-runtime.BftctW7E.js";import{r as m}from"./index.DJO9vBfz.js";import{C as g}from"./check.Di-hddYY.js";import{X as u,R as Q}from"./x.DYq4i8wT.js";import"./createLucideIcon.sQoFMTsc.js";function _({title:p,question:k,options:f,answers:j,answerIndex:v,correctIndex:w,explanation:N,questions:y}){const[i,b]=m.useState(0),[t,o]=m.useState(null),[d,n]=m.useState(!1),a=y||[{question:k,options:f,answers:j,answerIndex:v,correctIndex:w,explanation:N}],s=a[i];if(!s)return null;const C=s.options||s.answers||[],z=s.answerIndex??s.correctIndex,c=C.map((r,x)=>{if(typeof r=="string")return{id:x.toString(),text:r,isCorrect:x===z};const h=r;return{...h,id:h.id?.toString()||x.toString()}}),S=r=>{d||o(r.toString())},l=t!==null&&c.find(r=>r.id===t)?.isCorrect,$=()=>{i<a.length-1&&(b(i+1),o(null),n(!1))},I=()=>{n(!1),o(null),b(0)};return e.jsxs("div",{className:"quiz-container my-12 p-6 md:p-10 bg-white dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.05)] dark:shadow-none relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary/20"}),e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"px-3 py-1 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-[9px] font-black uppercase tracking-[0.2em] text-light-muted dark:text-dark-muted shadow-sm",children:p||"Conceptual Check"}),a.length>1&&e.jsxs("div",{className:"text-[9px] font-bold text-primary px-2 py-0.5 bg-primary/10 rounded-lg",children:[i+1," / ",a.length]})]})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-black text-light-text dark:text-dark-text mb-10 tracking-tighter leading-[1.1]",children:s.question}),e.jsx("div",{className:"flex flex-col gap-4",children:c.map(r=>e.jsxs("button",{onClick:()=>S(r.id),disabled:d,className:`
              w-full p-5 md:p-6 rounded-2xl border-2 text-left transition-all flex items-center gap-4 group relative overflow-hidden
              ${t===r.id?"border-primary bg-primary/5":"border-light-border dark:border-dark-border bg-transparent hover:border-light-text dark:hover:border-dark-text hover:bg-light-bg dark:hover:bg-dark-bg"}
              ${d&&r.isCorrect?"!border-emerald-500 !bg-emerald-500/5":""}
              ${d&&t===r.id&&!r.isCorrect?"!border-rose-500 !bg-rose-500/5":""}
            `,children:[e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${t===r.id?"border-primary bg-primary":"border-light-border dark:border-dark-border bg-transparent"}`,children:t===r.id&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),e.jsx("span",{className:`text-base font-bold transition-colors ${t===r.id?"text-light-text dark:text-dark-text":"text-light-muted dark:text-dark-muted"}`,children:r.text}),d&&r.isCorrect&&e.jsx("div",{className:"ml-auto text-emerald-500 bg-emerald-500/10 p-1.5 rounded-lg",children:e.jsx(g,{size:16,strokeWidth:3})}),d&&t===r.id&&!r.isCorrect&&e.jsx("div",{className:"ml-auto text-rose-500 bg-rose-500/10 p-1.5 rounded-lg",children:e.jsx(u,{size:16,strokeWidth:3})})]},r.id))}),e.jsx("div",{className:"mt-12 flex flex-col gap-5",children:d?e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:`p-8 rounded-2xl border-2 transition-all shadow-xl ${l?"bg-emerald-500/5 border-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-rose-500/5 border-rose-500/20 text-rose-600 dark:text-rose-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${l?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:l?e.jsx(g,{size:20,strokeWidth:3}):e.jsx(u,{size:20,strokeWidth:3})}),e.jsx("span",{className:"font-black text-2xl uppercase tracking-tighter",children:l?"Insight Confirmed":"Conceptual Divergence"})]}),!l&&e.jsx("div",{className:"mt-3 p-3 rounded-lg bg-rose-500/10 border border-rose-500/20",children:e.jsxs("p",{className:"font-bold text-base italic tracking-tight text-rose-700 dark:text-rose-300",children:["Correct Path: ",c.find(r=>r.isCorrect)?.text]})}),l&&e.jsx("p",{className:"font-bold text-base opacity-80 italic tracking-tight underline decoration-emerald-500/30 underline-offset-8",children:"Precision achieved. Your understanding aligns with the methodology."}),s.explanation&&e.jsx("div",{className:"mt-6 border-t border-current/10 pt-6 opacity-90 leading-relaxed font-medium",children:e.jsx("p",{className:"text-sm",children:s.explanation})})]}),e.jsx("div",{className:"flex items-center gap-3",children:i<a.length-1?e.jsx("button",{onClick:$,className:"w-full sm:w-auto px-10 py-4 bg-primary text-white rounded-xl font-black text-xs uppercase tracking-[0.2em] hover:scale-[1.03] active:scale-95 transition-all shadow-xl shadow-primary/20",children:"Next Intelligence Check"}):e.jsxs("button",{onClick:I,className:"w-fit flex items-center gap-2 text-[10px] font-black text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text transition-all uppercase tracking-[0.2em] px-6 py-3 rounded-xl border border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:[e.jsx(Q,{size:12,strokeWidth:3})," Reset Assessment"]})})]}):e.jsx("button",{onClick:()=>n(!0),disabled:!t,className:`
                w-full sm:w-auto px-12 py-4 rounded-xl font-black transition-all uppercase tracking-[0.2em] text-xs
                ${t?"bg-primary text-white hover:scale-[1.03] active:scale-95 shadow-xl shadow-primary/20":"bg-light-border dark:bg-dark-border text-light-muted dark:text-dark-muted cursor-not-allowed"}
            `,children:a.length>1?"Logic Confirmation":"Verify Prediction"})})]})}export{_ as default};
